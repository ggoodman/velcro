(this["webpackJsonp@velcro/playground"]=this["webpackJsonp@velcro/playground"]||[]).push([[1],{13:function(e,t,n){"use strict";(function(e,r,a){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return k})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return j})),n.d(t,"h",(function(){return w})),n.d(t,"i",(function(){return x})),n.d(t,"j",(function(){return P})),n.d(t,"k",(function(){return ee})),n.d(t,"l",(function(){return E})),n.d(t,"m",(function(){return L})),n.d(t,"n",(function(){return S})),n.d(t,"o",(function(){return K})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return M})),n.d(t,"r",(function(){return A})),n.d(t,"s",(function(){return q}));var i,o=n(46),s=n(26),c=n.n(s),u=n(67),l=n(38),d=n(35),f=n(54),h=n(27),p=n(72),v=n(73),g=n(188),b=n(191);n.d(t,"c",(function(){return b.a})),n.d(t,"f",(function(){return b.b})),n.d(t,"g",(function(){return b.c}));var y,m=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.apply(this,arguments)).name=e.constructor.name,e}return n}(Object(g.a)(Error)),k=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return n}(m),w=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(h.a)(this,n),t.call(this,"Entry was excluded by current configuration '".concat(e.toString(),"'"))}return n}(m),x=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(h.a)(this,n),t.call(this,"Unable to resolve '".concat(e.toString(),"'"))}return n}(m),j=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r){return Object(h.a)(this,n),t.call(this,"The dependency '".concat(e,"' of '").concat(r.toString(),"' was not found"))}return n}(x);function O(e){return e instanceof k||e&&"CanceledError"===e.name}function E(e,t){var n=!1,r=e.map((function(e){return M(e)?(n=!0,S(e,t)):e}));return n?Promise.all(r):e}function S(e,t){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:if(r=e.sent,!n.isCancellationRequested){e.next=6;break}return e.abrupt("return",Promise.reject(new k));case 6:return e.abrupt("return",r);case 9:if(e.prev=9,e.t0=e.catch(0),!n.isCancellationRequested){e.next=13;break}return e.abrupt("return",Promise.reject(new k));case 13:throw e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function M(e){return e&&("function"===typeof e.then||"boolean"===typeof e.done&&"number"===typeof e.next&&"number"===typeof e.pre)}!function(t){t.decode="object"===typeof e&&"function"===typeof e.Buffer?function(t){return e.Buffer.from(t,"base64").toString("utf-8")}:"function"===typeof atob?function(e){return decodeURIComponent(escape(atob(e)))}:function(e){throw new Error("The environment has neither the Buffer nor btoa functions. Please consider polyfilling one of these apis.")},t.encode="object"===typeof e&&"function"===typeof e.Buffer?function(t){return e.Buffer.from(t).toString("base64")}:"function"===typeof btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){throw new Error("The environment has neither the Buffer nor btoa functions. Please consider polyfilling one of these apis.")}}(y||(y={}));var U=function(){function e(){if(Object(h.a)(this,e),"undefined"!==typeof TextDecoder)this.decoder=new TextDecoder;else if("function"!==typeof r||"function"!==typeof r.from)throw new Error("The environment supports neither the TextDecoder nor Buffer API. Please consider polyfilling one of these.")}return Object(d.a)(e,[{key:"decode",value:function(e){var t=this.decoder?this.decoder.decode(e):r.from(e).toString("utf-8");return 65279===t.charCodeAt(0)?t.slice(1):t}}]),e}(),P=function(){function e(){Object(h.a)(this,e),this._data=new Map}return Object(d.a)(e,[{key:"add",value:function(e,t){var n=this._data.get(e);return n||(n=new Set,this._data.set(e,n)),n.add(t),this}},{key:"clear",value:function(){this._data.clear()}},{key:"delete",value:function(e,t){var n=this._data.get(e);if(n){var r=n.delete(t);return n.size||this._data.delete(e),r}return!1}},{key:"deleteAll",value:function(e){return this._data.delete(e)}},{key:"get",value:function(e){return this._data.get(e)}},{key:"has",value:function(e){return this._data.has(e)}},{key:"hasValue",value:function(e,t){var n=this._data.get(e);return!!n&&n.has(t)}},{key:"entries",value:c.a.mark((function e(){var t,n,r,a,i,o,s,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Object(l.a)(this._data.entries()),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=24;break}r=Object(u.a)(n.value,2),a=r[0],i=r[1],o=Object(l.a)(i),e.prev=6,o.s();case 8:if((s=o.n()).done){e.next=14;break}return d=s.value,e.next=12,[a,d];case 12:e.next=8;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),o.e(e.t0);case 19:return e.prev=19,o.f(),e.finish(19);case 22:e.next=3;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(1),t.e(e.t1);case 29:return e.prev=29,t.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,this,[[1,26,29,32],[6,16,19,22]])}))},{key:"values",value:c.a.mark((function(){var e,t,n;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e=Object(l.a)(this._data.values()),r.prev=1,e.s();case 3:if((t=e.n()).done){r.next=8;break}return n=t.value,r.delegateYield(n.values(),"t0",6);case 6:r.next=3;break;case 8:r.next=13;break;case 10:r.prev=10,r.t1=r.catch(1),e.e(r.t1);case 13:return r.prev=13,e.f(),r.finish(13);case 16:case"end":return r.stop()}}),n,this,[[1,10,13,16]])}))},{key:"size",get:function(){return this._data.size}}]),e}();function R(e){var t="",n=e.browser;if(n&&"object"===typeof n)for(var r in n){if("string"!==typeof r){t="The key ".concat(r," of .browser must be a string");break}if("string"!==typeof n[r]&&!1!==n[r]){t="The value ".concat(r," of .browser must be a string or false");break}}return t}function I(e,t){return"string"!==typeof e[t]}function F(e,t){return void 0!==e[t]&&"string"!==typeof e[t]}function D(e,t){return void 0!==e[t]&&"object"===typeof e[t]&&null!==e[t]&&!Object.keys(e[t]).every((function(n){return"string"===typeof n&&"string"===typeof e[t][n]}))}function q(e,t,n){try{return T(e.decode(t),n)}catch(r){throw new Error("Error decoding manifest buffer for package ".concat(n,": ").concat(r.message))}}function A(e,t,n){try{return function(e,t){var n=T(e,t);if(!function(e){return"object"===typeof e&&null!==e&&!I(e,"name")&&!I(e,"version")&&!R(e)&&!F(e,"main")&&!F(e,"module")&&!F(e,"jsnext:main")&&!F(e,"unpkg")&&!D(e,"dependencies")&&!D(e,"devDependencies")&&!D(e,"peerDependencies")}(n))throw new Error("Invalid manifest for the package ".concat(t));return n}(e.decode(t),n)}catch(r){throw new Error("Error decoding manifest buffer for package ".concat(n,": ").concat(r.message))}}function T(e,t){var n;try{n=JSON.parse(e)}catch(r){throw new Error("Error parsing manifest as json for package ".concat(t,": ").concat(r.message))}if(!function(e){return"object"===typeof e&&null!==e&&!F(e,"name")&&!F(e,"version")&&!R(e)&&!F(e,"main")&&!F(e,"module")&&!F(e,"jsnext:main")&&!F(e,"unpkg")&&!D(e,"dependencies")&&!D(e,"devDependencies")&&!D(e,"peerDependencies")}(n))throw new Error("Invalid manifest for the package ".concat(t));return n}var _=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(e,r,a){var i,o;Object(h.a)(this,n),"string"===typeof r&&0===r.indexOf("not ")?(o="must not be",r=r.replace(/^not /,"")):o="must be";var s=-1!==e.indexOf(".")?"property":"argument",c='The "'.concat(e,'" ').concat(s," ").concat(o," of type ").concat(r);return c+=". Received type ".concat(typeof a),(i=t.call(this,c)).code="ERR_INVALID_ARG_TYPE",i}return n}(Object(g.a)(Error));function N(e,t){if("string"!==typeof e)throw new _(t,"string",e)}function B(e){return 47===e}function J(e,t,n,r){for(var a="",i=0,o=-1,s=0,c=0,u=0;u<=e.length;++u){if(u<e.length)c=e.charCodeAt(u);else{if(r(c))break;c=47}if(r(c)){if(o===u-1||1===s);else if(2===s){if(a.length<2||2!==i||46!==a.charCodeAt(a.length-1)||46!==a.charCodeAt(a.length-2)){if(a.length>2){var l=a.lastIndexOf(n);-1===l?(a="",i=0):i=(a=a.slice(0,l)).length-1-a.lastIndexOf(n),o=u,s=0;continue}if(0!==a.length){a="",i=0,o=u,s=0;continue}}t&&(a+=a.length>0?"".concat(n,".."):"..",i=2)}else a.length>0?a+="".concat(n).concat(e.slice(o+1,u)):a=e.slice(o+1,u),i=u-o-1;o=u,s=0}else 46===c&&-1!==s?++s:s=-1}return a}var V={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?n<0||arguments.length<=n?void 0:arguments[n]:a.cwd();N(r,"path"),0!==r.length&&(e="".concat(r,"/").concat(e),t=47===r.charCodeAt(0))}return e=J(e,!t,"/",B),t?"/".concat(e):e.length>0?e:"."},normalize:function(e){if(N(e,"path"),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0===(e=J(e,!t,"/",B)).length?t?"/":n?"./":".":(n&&(e+="/"),t?"/".concat(e):e)},isAbsolute:function(e){return N(e,"path"),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=t<0||arguments.length<=t?void 0:arguments[t];N(n,"path"),n.length>0&&(void 0===e?e=n:e+="/".concat(n))}return void 0===e?".":V.normalize(e)},relative:function(e,t){if(N(e,"from"),N(t,"to"),e===t)return"";if((e=V.resolve(e))===(t=V.resolve(t)))return"";for(var n=e.length,r=n-1,a=t.length-1,i=r<a?r:a,o=-1,s=0;s<i;s++){var c=e.charCodeAt(1+s);if(c!==t.charCodeAt(1+s))break;47===c&&(o=s)}if(s===i)if(a>i){if(47===t.charCodeAt(1+s))return t.slice(1+s+1);if(0===s)return t.slice(1+s)}else r>i&&(47===e.charCodeAt(1+s)?o=s:0===s&&(o=0));var u="";for(s=1+o+1;s<=n;++s)s!==n&&47!==e.charCodeAt(s)||(u+=0===u.length?"..":"/..");return"".concat(u).concat(t.slice(1+o))},toNamespacedPath:function(e){return e},dirname:function(e){if(N(e,"path"),0===e.length)return".";for(var t=47===e.charCodeAt(0),n=-1,r=!0,a=e.length-1;a>=1;--a)if(47===e.charCodeAt(a)){if(!r){n=a;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"//":e.slice(0,n)},basename:function(e,t){void 0!==t&&N(t,"ext"),N(e,"path");var n,r=0,a=-1,i=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";var o=t.length-1,s=-1;for(n=e.length-1;n>=0;--n){var c=e.charCodeAt(n);if(47===c){if(!i){r=n+1;break}}else-1===s&&(i=!1,s=n+1),o>=0&&(c===t.charCodeAt(o)?-1===--o&&(a=n):(o=-1,a=s))}return r===a?a=s:-1===a&&(a=e.length),e.slice(r,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){r=n+1;break}}else-1===a&&(i=!1,a=n+1);return-1===a?"":e.slice(r,a)},extname:function(e){N(e,"path");for(var t=-1,n=0,r=-1,a=!0,i=0,o=e.length-1;o>=0;--o){var s=e.charCodeAt(o);if(47!==s)-1===r&&(a=!1,r=o+1),46===s?-1===t?t=o:1!==i&&(i=1):-1!==t&&(i=-1);else if(!a){n=o+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e,t){if(null===t||"object"!==typeof t)throw new _("pathObject","Object",t);var n=t.dir||t.root,r=t.base||"".concat(t.name||"").concat(t.ext||"");return n?n===t.root?"".concat(n).concat(r):"".concat(n).concat(e).concat(r):r}.bind(null,"/"),parse:function(e){N(e,"path");var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=47===e.charCodeAt(0);r?(t.root="/",n=1):n=0;for(var a=-1,i=0,o=-1,s=!0,c=e.length-1,u=0;c>=n;--c){var l=e.charCodeAt(c);if(47!==l)-1===o&&(s=!1,o=c+1),46===l?-1===a?a=c:1!==u&&(u=1):-1!==a&&(u=-1);else if(!s){i=c+1;break}}if(-1!==o){var d=0===i&&r?1:i;-1===a||0===u||1===u&&a===o-1&&a===i+1?t.base=t.name=e.slice(d,o):(t.name=e.slice(d,a),t.base=e.slice(d,o),t.ext=e.slice(a,o))}return i>0?t.dir=e.slice(0,i-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null},W=(V.normalize,V.isAbsolute,V.join),K=(V.resolve,V.relative,V.dirname),L=V.basename,z=(V.extname,V.format,V.parse,V.toNamespacedPath,V.sep,V.delimiter,/^\w[\w\d+.-]*$/),$=/^\//,H=/^\/\//;function G(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(e.authority,'", path: "').concat(e.path,'", query: "').concat(e.query,'", fragment: "').concat(e.fragment,'"}'));if(e.scheme&&!z.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!$.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(H.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}function Y(e,t){return e||t?e:"file"}function X(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==Z&&(t=Z+t):t=Z}return t}var Z="/",Q=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,ee=function(){function e(t,n,r,a,i){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Object(h.a)(this,e),"object"===typeof t?(this.scheme=t.scheme||"",this.authority=t.authority||"",this.path=t.path||"",this.query=t.query||"",this.fragment=t.fragment||""):(this.scheme=Y(t,o),this.authority=n||"",this.path=X(this.scheme,r||""),this.query=a||"",this.fragment=i||"",G(this,o))}return Object(d.a)(e,[{key:"with",value:function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,a=e.query,i=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=""),void 0===n?n=this.authority:null===n&&(n=""),void 0===r?r=this.path:null===r&&(r=""),void 0===a?a=this.query:null===a&&(a=""),void 0===i?i=this.fragment:null===i&&(i=""),t===this.scheme&&n===this.authority&&r===this.path&&a===this.query&&i===this.fragment?this:new ne(t,n,r,a,i)}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return se(this,e)}},{key:"toJSON",value:function(){return this}},{key:"fsPath",get:function(){return oe(this,!1)}}],[{key:"ensureTrailingSlash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return e.with({path:e.path.replace(le,t)})}},{key:"equals",value:function(e,t){return e.authority===t.authority&&e.fragment===t.fragment&&e.path===t.path&&e.query===t.query&&e.scheme===t.scheme}},{key:"getFirstPathSegmentAfterPrefix",value:function(e,t){for(var n=e.path,r=t.path,a="/"===r.charAt(r.length-1)?-1:0,i=0;i<=n.length;i++)if(i<r.length){if(n.charAt(i)!==r.charAt(i))throw new Error("The child entry ".concat(e.toString()," does not have the pathname of ").concat(t.toString()," as a prefix"))}else if(i===r.length+a){if("/"!==n.charAt(i))throw new Error("The child entry ".concat(e.toString()," does not have the pathname of ").concat(t.toString()," as a prefix"))}else if("/"===n.charAt(i))return n.slice(r.length+1+a,i);return n.slice(r.length+1+a)}},{key:"isPrefixOf",value:function(e,t){return e.authority===t.authority&&e.fragment===t.fragment&&e.query===t.query&&e.scheme===t.scheme&&t.path.startsWith(e.path)}},{key:"isUri",value:function(t){return t instanceof e||!!t&&("string"===typeof t.authority&&"string"===typeof t.fragment&&"string"===typeof t.path&&"string"===typeof t.query&&"string"===typeof t.scheme&&"function"===typeof t.fsPath&&"function"===typeof t.with&&"function"===typeof t.toString)}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Q.exec(e);return n?new ne(n[2]||"",ue(n[4]||""),ue(n[5]||""),ue(n[7]||""),ue(n[9]||""),t):new ne("","","","","")}},{key:"file",value:function(e){var t="";if(e[0]===Z&&e[1]===Z){var n=e.indexOf(Z,2);-1===n?(t=e.substring(2),e=Z):(t=e.substring(2,n),e=e.substring(n)||Z)}return new ne("file",t,e,"","")}},{key:"from",value:function(e){return new ne(e.scheme,e.authority,e.path,e.query,e.fragment)}},{key:"joinPath",value:function(e){if(!e.path)throw new Error("[UriError]: cannot call joinPaths on URI without path");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=W.apply(void 0,[e.path].concat(n));return e.with({path:a})}},{key:"revive",value:function(t){if(t){if(t instanceof e)return t;var n=new ne(t);return n._formatted=t.external,n._fsPath=t._sep===te?t.fsPath:null,n}return t}}]),e}(),te=void 0,ne=function(e){Object(p.a)(n,e);var t=Object(v.a)(n);function n(){var e;return Object(h.a)(this,n),(e=t.apply(this,arguments))._formatted=null,e._fsPath=null,e}return Object(d.a)(n,[{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?(this._formatted||(this._formatted=se(this,!0)),this._formatted):se(this,!1)}},{key:"toJSON",value:function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=te),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},{key:"fsPath",get:function(){return this._fsPath||(this._fsPath=oe(this,!1)),this._fsPath}}]),n}(ee),re=(i={},Object(o.a)(i,58,"%3A"),Object(o.a)(i,47,"%2F"),Object(o.a)(i,63,"%3F"),Object(o.a)(i,35,"%23"),Object(o.a)(i,91,"%5B"),Object(o.a)(i,93,"%5D"),Object(o.a)(i,64,"%40"),Object(o.a)(i,33,"%21"),Object(o.a)(i,36,"%24"),Object(o.a)(i,38,"%26"),Object(o.a)(i,39,"%27"),Object(o.a)(i,40,"%28"),Object(o.a)(i,41,"%29"),Object(o.a)(i,42,"%2A"),Object(o.a)(i,43,"%2B"),Object(o.a)(i,44,"%2C"),Object(o.a)(i,59,"%3B"),Object(o.a)(i,61,"%3D"),Object(o.a)(i,32,"%20"),i);function ae(e,t){for(var n=void 0,r=-1,a=0;a<e.length;a++){var i=e.charCodeAt(a);if(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||45===i||46===i||95===i||126===i||t&&47===i)-1!==r&&(n+=encodeURIComponent(e.substring(r,a)),r=-1),void 0!==n&&(n+=e.charAt(a));else{void 0===n&&(n=e.substr(0,a));var o=re[i];void 0!==o?(-1!==r&&(n+=encodeURIComponent(e.substring(r,a)),r=-1),n+=o):-1===r&&(r=a)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function ie(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=re[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function oe(e,t){return e.authority&&e.path.length>1&&"file"===e.scheme?"//".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path}function se(e,t){var n=t?ie:ae,r="",a=e.scheme,i=e.authority,o=e.path,s=e.query,c=e.fragment;if(a&&(r+=a,r+=":"),(i||"file"===a)&&(r+=Z,r+=Z),i){var u=i.indexOf("@");if(-1!==u){var l=i.substr(0,u);i=i.substr(u+1),-1===(u=l.indexOf(":"))?r+=n(l,!1):(r+=n(l.substr(0,u),!1),r+=":",r+=n(l.substr(u+1),!1)),r+="@"}-1===(u=(i=i.toLowerCase()).indexOf(":"))?r+=n(i,!1):(r+=n(i.substr(0,u),!1),r+=i.substr(u))}if(o){if(o.length>=3&&47===o.charCodeAt(0)&&58===o.charCodeAt(2)){var d=o.charCodeAt(1);d>=65&&d<=90&&(o="/".concat(String.fromCharCode(d+32),":").concat(o.substr(3)))}else if(o.length>=2&&58===o.charCodeAt(1)){var f=o.charCodeAt(0);f>=65&&f<=90&&(o="".concat(String.fromCharCode(f+32),":").concat(o.substr(2)))}r+=n(o,!0)}return s&&(r+="?",r+=n(s,!1)),c&&(r+="#",r+=t?c:ae(c,!1)),r}var ce=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function ue(e){return e.match(ce)?e.replace(ce,(function(e){return function e(t){try{return decodeURIComponent(t)}catch(n){return t.length>3?t.substr(0,3)+e(t.substr(3)):t}}(e)})):e}var le=/\/?$/}).call(this,n(181),n(250).Buffer,n(190))},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r,a,i=n(50);!function(e){var t=e.StartBuildEvent=i.e({event:i.b("start_build"),entrypoints:i.a(i.d),generateSourceMap:i.f([i.b("data-uri"),i.b("none"),i.b("string")])}),n=e.FileCreateEvent=i.e({event:i.b("file_create"),content:i.d,href:i.d}),r=e.FileRemoveEvent=i.e({event:i.b("file_remove"),href:i.d}),a=e.FileUpdateEvent=i.e({event:i.b("file_update"),content:i.d,href:i.d});e.FileEvent=i.f([n,r,a]),e.Any=i.f([n,r,a,t])}(r||(r={})),function(e){var t=e.BuildProgress=i.e({eventName:i.b("build_progress"),data:i.e({pending:i.c,completed:i.c,start:i.c})}),n=e.BuildComplete=i.e({eventName:i.b("build_complete"),data:i.e({code:i.d,sourceMap:i.d,start:i.c,end:i.c})}),r=e.BuildError=i.e({eventName:i.b("build_error"),data:i.e({error:i.d,start:i.c,end:i.c})});e.AnyEvent=i.f([t,n,r])}(a||(a={}))},372:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r,a=n(38),i=n(27),o=n(35),s=n(72),c=n(73),u=n(13),l=n(79);!function(e){e.Base64="base64",e.UTF8="utf-8"}(r||(r={}));var d="function"===typeof TextEncoder?function(){var e=new TextEncoder;return function(t){return e.encode(t).buffer}}():"function"===typeof e?function(t){return e.from(t)}:function(e){throw new Error("The environment provides neither TextEncoder nor Buffer. Please consider polyfilling one of these APIs.")},f=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u.k.parse("memory:/");for(var o in Object(i.a)(this,n),(r=t.call(this,u.k.ensureTrailingSlash(a))).root={type:l.e.EntryKind.Directory,children:{}},e){var s=e[o];"string"===typeof s?r.addFile(o,s):r.addFile(o,s.content,{encoding:s.encoding})}return r}return Object(o.a)(n,[{key:"getEntryAtPath",value:function(e){var t,n=Array.isArray(e)?e.slice():e.split("/").filter(Boolean),r=this.root,i=Object(a.a)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(!r||r.type!==l.e.EntryKind.Directory)throw new Error("Failed to add ".concat(e));r=r.children[o]}}catch(s){i.e(s)}finally{i.f()}return r}},{key:"addFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.encoding,o=void 0===i?r.UTF8:i,s=n.overwrite,c=void 0!==s&&s,u=e.split("/").filter(Boolean),d=u.pop();if(!d)throw new Error("Unable to add a file without a filename '".concat(e,"'"));var f,h=this.root,p=Object(a.a)(u);try{for(p.s();!(f=p.n()).done;){var v=f.value;if(!h||h.type!==l.e.EntryKind.Directory)throw new Error("Failed to add ".concat(e));var g=h.children[v];g||(g={type:l.e.EntryKind.Directory,children:{}},h.children[v]=g),h=g}}catch(y){p.e(y)}finally{p.f()}if(h.type!==l.e.EntryKind.Directory)throw new Error("Cannot add file to a non directory entry ".concat(e));if(h.children[d]&&!c)throw new Error("Entry already exists at ".concat(e));var b={type:l.e.EntryKind.File,content:t,encoding:o};return h.children[d]=b,b}},{key:"removeFile",value:function(e){var t=e.split("/").filter(Boolean),n=t.pop();if(!n)return!1;var r,i=this.root,o=Object(a.a)(t);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(!i||i.type!==l.e.EntryKind.Directory)return!1;i=i.children[s]}}catch(c){o.e(c)}finally{o.f()}return!(!i||i.type!==l.e.EntryKind.Directory)&&delete i.children[n]}},{key:"getResolveRoot",value:function(){return{uri:this.rootUri}}},{key:"listEntries",value:function(e,t){var n=this,r=u.k.ensureTrailingSlash(t).fsPath,a=this.rootUri.fsPath,i=r.startsWith(a)?r.slice(a.length-1):r,o=this.getEntryAtPath(i);if(!o)throw new Error("No such directory ".concat(t.toString()));if(o.type!==l.e.EntryKind.Directory)throw new Error("Cannot list entries under a file at ".concat(t.toString()));return{entries:Object.keys(o.children).map((function(e){var t=o.children[e];return{uri:u.k.joinPath(n.rootUri,i,e),type:t.type}}))}}},{key:"readFileContent",value:function(e,t){var n=u.k.ensureTrailingSlash(t).fsPath,a=this.rootUri.fsPath,i=n.startsWith(a)?n.slice(a.length-1):n,o=this.getEntryAtPath(i);if(!o)throw new Error("No such file ".concat(t.toString()));if("file"!==o.type)throw new Error("Cannot read content of a non-file at ".concat(t.toString()));switch(o.encoding){case r.Base64:var s=atob(o.content),c=new Uint8Array(s.length);return Array.prototype.forEach.call(c,(function(e,t,n){n[t]=s.charCodeAt(t)})),{content:c.buffer};case r.UTF8:return{content:d(o.content)};default:throw new Error("Unsupported encoding for ".concat(t.toString(),": ").concat(o.encoding))}}},{key:"uriForPath",value:function(e){return u.k.joinPath(this.rootUri,e)}}]),n}(l.b)}).call(this,n(250).Buffer)},373:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(78),a=n(27),i=n(35),o=n(72),s=n(73),c=n(375),u=n(374),l=n(212);function d(e,t){var n=setTimeout(e,t);return{dispose:function(){clearTimeout(n)}}}var f=function(t){Object(o.a)(u,t);var n=Object(s.a)(u);function u(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(this,u),(t=n.call(this,{onEvent:{file_create:function(e){return t.onFileCreate(e)},file_remove:function(e){return t.onFileRemove(e)},file_update:function(e){return t.onFileUpdate(e)},start_build:function(e){return t.onStartBuild(e)}},states:{idle:{},dirty_reset:{onEnter:function(e){var t=e.event;return(0,e.transitionTo)({stateName:"dirty"},t)}},dirty:{onEnter:function(e){var n=e.registerDisposable,r=e.sendEvent;return n(d((function(){return r("timer_fired")}),t.throttleBuildTimeout))},onEvent:{timer_fired:function(e){return(0,e.sendEvent)("start_build",{entrypoints:[],generateSourceMap:t.sourceMapConfiguration})}}},build_in_progress:{onEvent:{build_progress:function(e){var t=e.event,n=e.state;return(0,e.transitionTo)({stateName:"build_in_progress",data:Object(r.a)(Object(r.a)({},n.data),t.data)},t)},build_error:function(e){var t=e.event;return(0,e.transitionTo)({stateName:"build_error",data:t.data},t)},build_complete:function(e){var t=e.event;return(0,e.transitionTo)({stateName:"build_complete",data:t.data},t)}}},build_complete:{},build_error:{}}},{stateName:"idle"})).worker=new Worker(e,void 0),t.sourceMapConfiguration=i.generateSourceMaps||"none",t.throttleBuildTimeout=i.throttleBuildTimeout||200,t.worker.addEventListener("message",(function(e){var n=l.b.AnyEvent.decode(e.data);if(Object(c.isRight)(n)){var r=n.right;switch(r.eventName){case"build_progress":t.sendEvent("build_progress",r.data);break;case"build_complete":t.sendEvent("build_complete",r.data);break;case"build_error":t.sendEvent("build_error",r.data)}}})),t}return Object(i.a)(u,[{key:"onFileCreate",value:function(e){var t=e.event,n=e.transitionTo;this.worker.postMessage(l.a.FileCreateEvent.encode(Object(r.a)({event:"file_create"},t.data))),n({stateName:"dirty_reset"},t)}},{key:"onFileRemove",value:function(e){var t=e.event,n=e.transitionTo;this.worker.postMessage(l.a.FileRemoveEvent.encode(Object(r.a)({event:"file_remove"},t.data))),n({stateName:"dirty_reset"},t)}},{key:"onFileUpdate",value:function(e){var t=e.event,n=e.transitionTo;this.worker.postMessage(l.a.FileUpdateEvent.encode(Object(r.a)({event:"file_update"},t.data))),n({stateName:"dirty_reset"},t)}},{key:"onStartBuild",value:function(e){var t=e.event,n=e.transitionTo;this.worker.postMessage(l.a.StartBuildEvent.encode(Object(r.a)({event:"start_build"},t.data))),n({stateName:"build_in_progress",data:{generateSourceMap:t.data.generateSourceMap,completed:0,pending:0,start:Date.now()}},t)}},{key:"setGenerateSourceMaps",value:function(e){this.sourceMapConfiguration!==e&&(this.sourceMapConfiguration=e,this.sendEvent("start_build",{entrypoints:[],generateSourceMap:this.sourceMapConfiguration}))}}]),u}(u.a)}).call(this,n(491))},374:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(78),a=n(27),i=n(35),o=n(13),s=function(){function e(t,n,r){Object(a.a)(this,e),this.onEventEmitter=new o.g,this.onStateChangeEmitter=new o.g,this.handlingEvents=!1,this.isDisposed=!1,this.pendingExternalEvents=[],this.pendingInternalEvents=[],this.stateDisposer=new o.f,this.states=t,this.mutableState=n,this.actions=r||{}}return Object(i.a)(e,[{key:"dispose",value:function(){this.stateDisposer.dispose(),this.isDisposed=!0}},{key:"sendEvent",value:function(e,t){this.isDisposed||(this.pendingExternalEvents.push({eventName:e,data:t}),this.handlingEvents||this.processEvents())}},{key:"processEvents",value:function(){if(this.handlingEvents)throw new Error("Invariant violation: processEvents should never be called while already processing events.");for(this.handlingEvents=!0;!this.isDisposed&&(this.pendingExternalEvents.length||this.pendingInternalEvents.length);){for(;!this.isDisposed&&this.pendingInternalEvents.length;){var e,t,n=this.pendingInternalEvents.shift();this.onEventEmitter.fire(n);var r=(null===(e=this.states.states[this.mutableState.stateName].onEvent)||void 0===e?void 0:e[n.eventName])||(null===(t=this.states.onEvent)||void 0===t?void 0:t[n.eventName]);if(r){var a=this.state;r({event:n,registerDisposable:this.stateDisposer.add.bind(this.stateDisposer),sendEvent:this.sendEventInternal.bind(this),state:a,transitionTo:this.transitionTo.bind(this)})}}for(;!this.isDisposed&&this.pendingExternalEvents.length;)this.pendingInternalEvents.push(this.pendingExternalEvents.pop())}this.handlingEvents=!1}},{key:"sendEventInternal",value:function(e,t){this.isDisposed||(this.pendingInternalEvents.push({eventName:e,data:t}),this.handlingEvents||this.processEvents())}},{key:"transitionTo",value:function(e,t){var n=this.states.states[this.mutableState.stateName],a=this.states.states[e.stateName],i=Object(r.a)({},this.mutableState);if(this.mutableState=Object(r.a)({},e),this.onStateChangeEmitter.fire(this.state),e.stateName!==i.stateName){this.stateDisposer.clear(),n.onExit&&n.onExit({event:t,state:e});var o=a.onEnter;if(o){var s=void 0;if("string"===typeof o?s=this.actions[o]:"function"===typeof o&&(s=o),!s)return;s({event:t,registerDisposable:this.stateDisposer.add.bind(this.stateDisposer),sendEvent:this.sendEventInternal.bind(this),state:e,transitionTo:this.transitionTo.bind(this)})}}}},{key:"onEvent",get:function(){return this.onEventEmitter.event}},{key:"onStateChange",get:function(){return this.onStateChangeEmitter.event}},{key:"state",get:function(){return this.mutableState}}]),e}()},381:function(e,t,n){e.exports=n(499)},491:function(e,t,n){e.exports=n.p+"static/js/0.5d986f47.chunk.worker.js"},499:function(e,t,n){"use strict";n.r(t);for(var r=n(11),a=n.n(r),i=n(217),o=n.n(i),s=n(74),c=n(210),u=n(582),l=(n(579),n(581),n(583)),d=n(578),f=n(585),h=n(67),p=n(26),v=n.n(p),g=n(153),b=n(54),y=n(27),m=n(35),k=n(13),w=n(46),x=n(78),j=n(38),O=n(72),E=n(73),S=n(188),C=n(248),M=n(371),U=(Error,{}),P="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",R=0;R<P.length;R++)U[P.charCodeAt(R)]=R;function I(e){for(var t=[],n=[],r=[0,0,0,0,0],a=0,i=0,o=0,s=0;i<e.length;i++){var c=e.charCodeAt(i);if(44===c)F(n,r,a),a=0;else if(59===c)F(n,r,a),a=0,t.push(n),n=[],r[0]=0;else{var u=U[c];if(void 0===u)throw new Error("Invalid character ("+String.fromCharCode(c)+")");var l=32&u;if(s+=(u&=31)<<o,l)o+=5;else{var d=1&s;s>>>=1,d&&(s=0===s?-2147483648:-s),r[a]+=s,a++,s=o=0}}}return F(n,r,a),t.push(n),t}function F(e,t,n){4===n?e.push([t[0],t[1],t[2],t[3]]):5===n?e.push([t[0],t[1],t[2],t[3],t[4]]):1===n&&e.push([t[0]])}function D(e){for(var t=0,n=0,r=0,a=0,i="",o=0;o<e.length;o++){var s=e[o];if(o>0&&(i+=";"),0!==s.length){for(var c=0,u=[],l=0,d=s;l<d.length;l++){var f=d[l],h=q(f[0]-c);c=f[0],f.length>1&&(h+=q(f[1]-t)+q(f[2]-n)+q(f[3]-r),t=f[1],n=f[2],r=f[3]),5===f.length&&(h+=q(f[4]-a),a=f[4]),u.push(h)}i+=u.join(",")}}return i}function q(e){var t="";e=e<0?-e<<1|1:e<<1;do{var n=31&e;(e>>>=5)>0&&(n|=32),t+=P[n]}while(e>0);return t}var A=function(){function e(t){Object(y.a)(this,e),this.file=t.file,this.mappings=t.mappings,this.sourceRoot=t.sourceRoot,this.names=t.names,this.sources=t.sources,this.sourcesContent=t.sourcesContent,this.version=t.version}return Object(m.a)(e,[{key:"toString",value:function(){return JSON.stringify(this)}},{key:"toDataUri",value:function(){return"data:application/json;charset=utf-8;base64,".concat(k.a.encode(this.toString()))}}]),e}();function T(e){for(var t,n=/(?:(?:\/\/|\/\*)[@#][\s]*(?:source)MappingURL=([^\s'"]+)[\s]*$)|(?:\/\*[@#][\s]*(?:source)MappingURL=([^\s*'"]+)[\s]*(?:\*\/)[\s]*$)/gm,r=null;t=n.exec(e);)r=t;return r}function _(e){var t=T(e);return t?t[1]:""}function N(e,t){var n=T(e);return n?e.slice(0,n.index)+e.slice(n.index).replace(n[1],t):e}function B(e){var t=e.match(/^data:application\/json;(?:charset=([^;]+);)?base64,(.*)$/);if(t){if(t[1]&&"utf-8"!==t[1])return null;try{var n=JSON.parse(k.a.decode(t[2]));return""===n.mappings?{file:"",mappings:[],names:[],sources:[],sourcesContent:[]}:("string"===typeof n.mappings&&(n.mappings=I(n.mappings)),n)}catch(r){return null}}return null}var J=function(){function e(t,n){Object(y.a)(this,e),this.filename=t,this.content=n}return Object(m.a)(e,[{key:"traceSegment",value:function(e,t,n){return{line:e,column:t,name:n,source:this}}}]),e}(),V=function(){function e(t,n){Object(y.a)(this,e),this.sources=n,this.names=t.names,this.mappings="string"===typeof t.mappings?I(t.mappings):t.mappings}return Object(m.a)(e,[{key:"traceMappings",value:function(){return K(this)}},{key:"traceSegment",value:function(e,t,n){return L(this,e,t,n)}}]),e}(),W=function(){function e(t){Object(y.a)(this,e),this.loadLink=t,this.link=void 0}return Object(m.a)(e,[{key:"getLink",value:function(){var e=this.link;return e||(e=this.loadLink(),this.link=e),e}},{key:"traceMappings",value:function(){return K(this.getLink())}},{key:"traceSegment",value:function(e,t,n){return L(this.getLink(),e,t,n)}}]),e}();function K(e){var t,n=[],r=[],a=[],i=[],o=Object(j.a)(e.mappings);try{for(o.s();!(t=o.n()).done;){var s,c=t.value,u=[],l=Object(j.a)(c);try{for(l.s();!(s=l.n()).done;){var d=s.value;if(1!=d.length){var f=e.sources[d[1]];if(f){var h=f.traceSegment(d[2],d[3],5===d.length?e.names[d[4]]:"");if(h){var p=n.lastIndexOf(h.source.filename);if(-1===p)p=n.length,n.push(h.source.filename),r[p]=h.source.content;else if(null==r[p])r[p]=h.source.content;else if(null!=h.source.content&&r[p]!==h.source.content)return new Error("Multiple conflicting contents for sourcemap source ".concat(h.source.filename));var v=[d[0],p,h.line,h.column];if(h.name){var g=a.indexOf(h.name);-1===g&&(g=a.length,a.push(h.name)),v[4]=g}u.push(v)}}}}}catch(b){l.e(b)}finally{l.f()}i.push(u)}}catch(b){o.e(b)}finally{o.f()}return{sources:n,sourcesContent:r,names:a,mappings:i}}function L(e,t,n,r){var a=e.mappings[t];if(!a)return null;for(var i=0,o=a.length-1;i<=o;){var s=i+o>>1,c=a[s];if(c[0]===n){if(1==c.length)return null;var u=e.sources[c[1]];return u?u.traceSegment(c[2],c[3],5===c.length?e.names[c[4]]:r):null}c[0]>n?o=s-1:i=s+1}return null}var z,$=function(){function e(t){Object(y.a)(this,e),this.plugins=t,this.plugins.push({name:"builtIn",load:function(){var e=Object(b.a)(v.a.mark((function e(t,n){var r,a,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=k.k.parse(n),a=t.resolver.readFileContent(r),!Object(k.q)(a)){e.next=8;break}return e.next=5,Object(k.n)(a,t.token);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=a;case 9:return i=e.t0,e.abrupt("return",{code:t.resolver.decode(i.content),visited:i.visited});case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),resolveDependency:function(){var e=Object(b.a)(v.a.mark((function e(t,n,r){var a,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.resolver.resolve(n.spec,r.uri),!Object(k.q)(a)){e.next=7;break}return e.next=4,Object(k.n)(a,t.token);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=a;case 8:if((i=e.t0).found){e.next=11;break}throw new k.e(n.spec,r);case 11:if(i.uri){e.next=13;break}throw new k.h(n.spec);case 13:return e.abrupt("return",{uri:i.uri,rootUri:i.rootUri,visited:i.visited});case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),resolveEntrypoint:function(){var e=Object(b.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.resolver.resolve(n);case 2:if((r=e.sent).found){e.next=5;break}throw new k.i("Entry point not found: ".concat(n));case 5:if(r.uri){e.next=7;break}throw new k.h(n);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),transform:function(){var e=Object(b.a)(v.a.mark((function e(t,n){var r,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.createMagicString,!n.path.endsWith(".json")){e.next=5;break}return(a=r()).prepend("module.exports = "),e.abrupt("return",{code:a.toString(),sourceMap:a.generateDecodedMap()});case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})}return Object(m.a)(e,[{key:"executeLoad",value:function(){var e=Object(b.a)(v.a.mark((function e(t,n){var r,a,i,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(j.a)(this.plugins),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=20;break}if("function"!==typeof(i=a.value).load){e.next=18;break}if(o=i.load(t,n.toString()),!Object(k.q)(o)){e.next=13;break}return e.next=10,Object(k.n)(o,t.token);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=o;case 14:if(s=e.t0){e.next=17;break}return e.abrupt("continue",18);case 17:return e.abrupt("return",{code:s.code,visited:s.visited||[]});case 18:e.next=3;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(1),r.e(e.t1);case 25:return e.prev=25,r.f(),e.finish(25);case 28:throw new Error("No plugin was found that was able to load the uri ".concat(n.toString()));case 29:case"end":return e.stop()}}),e,this,[[1,22,25,28]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeResolveDependency",value:function(){var e=Object(b.a)(v.a.mark((function e(t,n,r){var a,i,o,s,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(j.a)(this.plugins),e.prev=1,a.s();case 3:if((i=a.n()).done){e.next=20;break}if("function"!==typeof(o=i.value).resolveDependency){e.next=18;break}if(s=o.resolveDependency(t,n,r),!Object(k.q)(s)){e.next=13;break}return e.next=10,Object(k.n)(s,t.token);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=s;case 14:if(c=e.t0){e.next=17;break}return e.abrupt("continue",18);case 17:return e.abrupt("return",{uri:c.uri,rootUri:c.rootUri,visited:c.visited||[]});case 18:e.next=3;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(1),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:throw new Error("No plugin was able to resolve the '".concat(n.kind,"' dependency, '").concat(n.spec,"' from '").concat(r.href,"'"));case 29:case"end":return e.stop()}}),e,this,[[1,22,25,28]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"executeResolveEntrypoint",value:function(){var e=Object(b.a)(v.a.mark((function e(t,n){var r,a,i,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(j.a)(this.plugins),e.prev=1,r.s();case 3:if((a=r.n()).done){e.next=20;break}if("function"!==typeof(i=a.value).resolveEntrypoint){e.next=18;break}if(o=i.resolveEntrypoint(t,n),!Object(k.q)(o)){e.next=13;break}return e.next=10,Object(k.n)(o,t.token);case 10:e.t0=e.sent,e.next=14;break;case 13:e.t0=o;case 14:if(s=e.t0){e.next=17;break}return e.abrupt("continue",18);case 17:return e.abrupt("return",{uri:s.uri,rootUri:s.rootUri,visited:s.visited||[]});case 18:e.next=3;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(1),r.e(e.t1);case 25:return e.prev=25,r.f(),e.finish(25);case 28:throw new Error("No plugin was able to resolve the entrypoint '".concat(n.toString(),"'"));case 29:case"end":return e.stop()}}),e,this,[[1,22,25,28]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"executeTransform",value:function(){var e=Object(b.a)(v.a.mark((function e(t,n,r){var a,i,o,s,c,u,l,d,f,h,p,b,y,m,w;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof r&&(r=t.resolver.decode(r)),a=Object.assign(t,{createMagicString:function(){return new C.b(r)}}),i=new J(n.toString(),r),(o=_(r))&&((s=B(o))||(c=k.k.joinPath(n,"../".concat(o)),r=N(r,c.toString())),s)){for(f in u=s.sources,l=s.sourcesContent||[],d=[],u)u[f]&&l[f]&&d.push(new J(u[f],l[f]));i=new V(s,d)}h=[],p=Object(j.a)(this.plugins),e.prev=7,p.s();case 9:if((b=p.n()).done){e.next=28;break}if("function"!==typeof(y=b.value).transform){e.next=26;break}if(m=y.transform(a,n,r),!Object(k.q)(m)){e.next=19;break}return e.next=16,Object(k.n)(m,t.token);case 16:e.t0=e.sent,e.next=20;break;case 19:e.t0=m;case 20:if(null!==(w=e.t0)&&void 0!==w){e.next=23;break}return e.abrupt("continue",26);case 23:w.sourceMap&&(i=new V(w.sourceMap,[i])),r=w.code,w.visited&&h.push.apply(h,Object(g.a)(w.visited));case 26:e.next=9;break;case 28:e.next=33;break;case 30:e.prev=30,e.t1=e.catch(7),p.e(e.t1);case 33:return e.prev=33,p.f(),e.finish(33);case 36:return e.abrupt("return",{code:r,sourceMapTree:i,visited:h});case 37:case"end":return e.stop()}}),e,this,[[7,30,33,36]])})));return function(t,n,r){return e.apply(this,arguments)}}()}]),e}();!function(e){e.Entrypoint="Entrypoint",e.Require="Require",e.RequireResolve="RequireResolve",e.GlobalObject="GlobalObject"}(z||(z={}));var H=function(){function e(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(y.a)(this,e),this.kind=t,this.spec=n,this.locations=r,this.options=a}return Object(m.a)(e,null,[{key:"areIdentical",value:function(e,t){return e.kind===t.kind&&e.spec===t.spec}},{key:"fromEntrypoint",value:function(t){return new e(z.Entrypoint,t.toString(),[])}},{key:"fromGlobalObject",value:function(t,n,r){return new e(z.GlobalObject,t,n,{exportName:r})}},{key:"fromRequire",value:function(t,n){return new e(z.Require,t,n)}},{key:"fromRequireResolve",value:function(t,n){return new e(z.RequireResolve,t,n)}}]),e}();function G(e){return"ArrowFunctionExpression"===e.type}function Y(e){return"FunctionDeclaration"===e.type}function X(e){return"FunctionExpression"===e.type}function Z(e){return"Identifier"===e.type}function Q(e){return"MemberExpression"===e.type}function ee(e){return"RestElement"===e.type}function te(e){return function(e){return"Literal"===e.type}(e)&&"string"===typeof e.value}function ne(e,t,n){!function e(t,n,r,a,i){if(!t)return;if(t.parent=n,a){var o=re;re=!1,a.call(ae,t,n,r);var s=re;if(re=o,s)return}for(var c=ie[t.type]||(ie[t.type]=Object.keys(t).filter((function(e){return"parent"!==e&&"object"===typeof t[e]}))),u=[],l=0;l<c.length;l++){var d=c[l],f=t[d];if(Array.isArray(f))for(var h=0;h<f.length;h++)f[h]&&u.push(f[h]);else f&&f.type&&u.push(f)}u.sort((function(e,t){return e.start-t.start}));for(var p=0,v=u;p<v.length;p++){var g=v[p];e(g,t,r,a,i)}i&&i(t,n,r)}(e,null,t,n.enter,n.leave)}var re=!1,ae={skip:function(){return re=!0}},ie={};var oe=function(e,t,n){var r={unboundSymbols:new Map,locals:new Map,magicString:new C.b(t,{filename:e.toString(),indentExclusionRanges:[]}),nodeEnv:n.nodeEnv,replacedSymbols:new Set,requires:[],requireResolves:[],skip:new Set,skipTransform:new Set},a=[];try{var i=function(e,t){return Object(M.a)(e,Object(x.a)(Object(x.a)({},t),{},{allowReturnOutsideFunction:!0,sourceType:"script"}))}(t,{});ne(i,r,se),ne(i,r,ce)}catch(B){throw new Error("Error parsing ".concat(e,": ").concat(B.message))}var o,s=new Map,c=Object(j.a)(r.requires);try{for(c.s();!(o=c.n()).done;){var u=o.value,l=s.get(u.spec.value);l||(l=[],s.set(u.spec.value,l)),l.push({start:u.spec.start,end:u.spec.end})}}catch(B){c.e(B)}finally{c.f()}var d,f=Object(j.a)(s);try{for(f.s();!(d=f.n()).done;){var p=Object(h.a)(d.value,2),v=p[0],g=p[1];a.push(H.fromRequire(v,g))}}catch(B){f.e(B)}finally{f.f()}var b,y=new Map,m=Object(j.a)(r.requireResolves);try{for(m.s();!(b=m.n()).done;){var k=b.value,w=s.get(k.spec.value);w||(w=[],s.set(k.spec.value,w)),w.push({start:k.spec.start,end:k.spec.end})}}catch(B){m.e(B)}finally{m.f()}var O,E=Object(j.a)(y);try{for(E.s();!(O=E.n()).done;){var S=Object(h.a)(O.value,2),U=S[0],P=S[1];a.push(H.fromRequireResolve(U,P))}}catch(B){E.e(B)}finally{E.f()}var R,I=Object(j.a)(r.unboundSymbols);try{for(I.s();!(R=I.n()).done;){var F=Object(h.a)(R.value,2),D=F[0],q=F[1],A=n.globalModules[D];if(A){a.push(H.fromGlobalObject(A.spec,q,A.export));var T,_=Object(j.a)(q);try{for(_.s();!(T=_.n()).done;){var N=T.value;r.magicString.overwrite(N.start,N.end,"require(".concat(JSON.stringify("".concat(A.spec)),")").concat(A.export?".".concat(A.export):""))}}catch(B){_.e(B)}finally{_.f()}}}}catch(B){I.e(B)}finally{I.f()}return{code:r.magicString,dependencies:a}},se={enter:function(e,t,n){if(n.magicString.addSourcemapLocation(e.start),n.magicString.addSourcemapLocation(e.end),n.skip.has(e))return this.skip();!function(e,t,n){if(function(e){return"VariableDeclaration"===e.type}(e)){for(var r,a=e.parent;a;){if("var"===e.kind?de(a):fe(a)){r=a;break}a=a.parent}if(!r)throw new Error("Invariant violation: Failed to find a parent");var i=n.locals.get(r);i||(i={},n.locals.set(r,i));var o,s=Object(j.a)(e.declarations);try{for(s.s();!(o=s.n()).done;){le(o.value.id,i)}}catch(g){s.e(g)}finally{s.f()}}else if(Y(e)){var c,u=e.parent;for(u&&u.parent&&(u=u.parent);u;){if(de(u)){c=u;break}u=u.parent}if(!c)throw new Error("Invariant violation: Failed to find a parent");var l=n.locals.get(c);l||(l={},n.locals.set(c,l)),ue(e,l)}else if(function(e){return Y(e)||X(e)||G(e)}(e)){var d=n.locals.get(e);d||(d={},n.locals.set(e,d)),ue(e,d)}else if(function(e){return"ClassDeclaration"===e.type}(e)&&e.id){var f,h=e.parent;for(h&&h.parent&&(h=h.parent);h;){if(de(h)){f=h;break}h=h.parent}if(!f)throw new Error("Invariant violation: Failed to find a parent");var p=n.locals.get(f);p||(p={},n.locals.set(f,p)),p[e.id.name]=!0}else if(function(e){return"TryStatement"===e.type}(e)&&e.handler){var v=n.locals.get(e.handler);v||(v={},n.locals.set(e.handler,v)),e.handler.param&&le(e.handler.param,v)}}(e,0,n),function(e,t,n){if(function(e){return"IfStatement"===e.type}(e)&&function(e){return"BinaryExpression"===e.type}(e.test)){var r={"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},"==":function(e,t){return e==t},"===":function(e,t){return e===t}}[e.test.operator];if(r)if(te(e.test.left)&&Q(e.test.right)&&ve(e.test.right,"process.env.NODE_ENV")){for(var a=e.test.right;Q(a.object);)a=a.object;Z(a.object)&&n.replacedSymbols.add(a.object),n.skipTransform.add(e.test.right),r(e.test.left.value,n.nodeEnv)?(n.magicString.remove(e.start,e.consequent.start-1),e.alternate&&(n.skip.add(e.alternate),n.magicString.remove(e.consequent.end+1,e.alternate.end))):(n.skip.add(e.consequent),n.magicString.remove(e.start,e.alternate?e.alternate.start:e.consequent.end))}else if(te(e.test.right)&&Q(e.test.left)&&ve(e.test.left,"process.env.NODE_ENV")){for(var i=e.test.left;Q(i.object);)i=i.object;Z(i.object)&&n.replacedSymbols.add(i.object),n.skipTransform.add(e.test.left),r(e.test.right.value,n.nodeEnv)?(n.magicString.remove(e.start,e.consequent.start-1),e.alternate&&(n.skip.add(e.alternate),n.magicString.remove(e.consequent.end+1,e.alternate.end))):(n.skip.add(e.consequent),n.magicString.remove(e.start,e.alternate?e.alternate.start:e.consequent.end))}}}(e,0,n),function(e,t,n){if(function(e){return"CallExpression"===e.type}(e)){var r=e.callee;if(Z(r)&&"require"===r.name){var a=e.arguments[0];te(a)?n.requires.push({spec:{start:a.start,end:a.end,value:a.value},callee:{start:r.start,end:r.end}}):!function(e){return"TemplateLiteral"===e.type}(a)||0!==a.expressions.length||1!==a.quasis.length?console.warn("Non string-literal first arg to require",a):n.requires.push({spec:{start:a.quasis[0].start,end:a.quasis[0].end,value:a.quasis[0].value.raw},callee:{start:r.start,end:r.end}})}else if(Q(r)&&Z(r.object)&&"require"===r.object.name&&Z(r.property)&&"resolve"===r.property.name){var i=e.arguments[0];te(i)?n.requireResolves.push({spec:{start:i.start,end:i.end,value:i.value},callee:{start:r.start,end:r.end}}):console.warn("Non string-literal first arg to require.resolve",i)}}}(e,0,n)},leave:function(e,t,n){for(var r=!1,a=e;a;){if(n.skipTransform.has(a)){r=!0;break}a=a.parent}!r&&Q(e)&&ve(e,"process.env.NODE_ENV")&&(n.magicString.overwrite(e.start,e.end,JSON.stringify(n.nodeEnv),{contentOnly:!0,storeName:!0}),n.skip.add(e),n.skipTransform.add(e))}},ce={enter:function(e,t,n){if(n.skip.has(e))return this.skip();if(function(e){return Z(e)&&!function(e){return e.parent&&Q(e.parent)&&e.parent.object!==e}(e)&&!function(e){return e.parent&&function(e){return"Property"===e.type}(e.parent)&&e.parent.key===e}(e)&&!function(e){return e.parent&&function(e){return"MethodDefinition"===e.type}(e.parent)}(e)}(e)&&Z(e)&&!function(e){var t=e.parent;return function(e){return"UnaryExpression"===e.type}(t)&&"typeof"===t.operator}(e)){var r=e.name;if("undefined"===r)return;if(n.replacedSymbols.has(e))return;for(var a=!1,i=e.parent;i;){if("arguments"===r&&he(i)){a=!0;break}var o=n.locals.get(i);if(o&&o[r]){a=!0;break}i=i.parent}if(!a){var s=n.unboundSymbols.get(r);s||(s=[],n.unboundSymbols.set(r,s)),s.push(e)}}else if(function(e){return"ThisExpression"===e.type}(e)){for(var c=!1,u=e.parent;u;){if(pe(u)){c=!0;break}u=u.parent}if(!c){var l=n.unboundSymbols.get("this");l||(l=[],n.unboundSymbols.set("this",l)),l.push(e)}}}};function ue(e,t){e.params.forEach((function(e){le(e,t)})),e.id&&(t[e.id.name]=!0)}function le(e,t){if(Z(e))t[e.name]=!0;else if(function(e){return"ObjectPattern"===e.type}(e))e.properties.forEach((function(e){return ee(e)?le(e.argument,t):le(e.value,t)}));else if(function(e){return"ArrayPattern"===e.type}(e))e.elements.forEach((function(e){return e&&le(e,t)}));else if(ee(e))le(e.argument,t);else{if(!function(e){return"AssignmentPattern"===e.type}(e))throw new Error("Invariant violation: Unexpected pattern type: ".concat(e.type));le(e.left,t)}}function de(e){return Y(e)||X(e)||G(e)||function(e){return"Program"===e.type}(e)}function fe(e){return function(e){return"BlockStatement"===e.type}(e)||de(e)}function he(e){return Y(e)||X(e)}function pe(e){return Y(e)||X(e)}function ve(e,t){var n=t.split(".");if(n.length<2)return!1;for(var r=n.shift(),a=n.shift(),i=n.length-1;i>=0;i--){if(!Z(e.property)||e.property.name!==n[i])return!1;if(!Q(e.object))return!1;e=e.object}return!(!Z(e.object)||!Z(e.property))&&(e.object.name===r&&e.property.name===a)}var ge=function(){function e(t,n,r){Object(y.a)(this,e),this.bundle=t,this.sourceMapTree=n,this.uri=r}return Object(m.a)(e,[{key:"generateSourceMap",value:function(){var e=this.sourceMapTree.traceMappings();return e instanceof Error?new A({file:this.href,mappings:"",names:[],sources:[],version:3,sourcesContent:[]}):new A({file:this.href,mappings:D(e.mappings),names:e.names,sources:e.sources,version:3,sourcesContent:e.sourcesContent})}},{key:"code",get:function(){return"undefined"===typeof this.cachedCode&&(this.cachedCode=this.bundle.toString()),this.cachedCode}},{key:"href",get:function(){return this.uri.toString()}},{key:"sourceMap",get:function(){return"undefined"===typeof this.cachedSourceMap&&(this.cachedSourceMap=this.generateSourceMap()),this.cachedSourceMap}},{key:"sourceMapString",get:function(){return"undefined"===typeof this.cachedSourceMapString&&(this.cachedSourceMapString=this.sourceMap.toString()),this.cachedSourceMapString}},{key:"sourceMapDataUri",get:function(){return"undefined"===typeof this.cachedSourceMapDataUri&&(this.cachedSourceMapDataUri=this.sourceMap.toDataUri()),this.cachedSourceMapDataUri}}]),e}(),be=function(){function e(t){Object(y.a)(this,e),this.edgesFrom=new k.j,this.edgesTo=new k.j,this.sourceModules=new Map,this.rootUri=t.rootUri;var n,r=Object(j.a)(t.sourceModules);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.sourceModules.set(a.href,a)}}catch(l){r.e(l)}finally{r.f()}var i,o=Object(j.a)(t.edges);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=s.fromUri.toString(),u=s.toUri.toString();this.edgesFrom.add(c,s),this.edgesTo.add(u,s)}}catch(l){o.e(l)}finally{o.f()}}return Object(m.a)(e,[{key:"buildForStaticRuntime",value:function(e){var t,n=this,r=new C.a({separator:"\n"}),a=Object(j.a)(this.sourceModules.values());try{for(a.s();!(t=a.n()).done;){var i=t.value,o={},s={scopes:Object(w.a)({},i.href,o)},c=this.edgesFrom.get(i.href);if(c){var u,l=Object(j.a)(c);try{for(l.s();!(u=l.n()).done;){var d=u.value;o[d.dependency.spec]=d.toUri.toString()}}catch(p){l.e(p)}finally{l.f()}}var f=i.source.clone();f.prepend("velcro.defs[".concat(JSON.stringify(i.uri.toString()),"] = [function(module,exports,require,__dirname,__filename){\n")),f.append("\n},".concat(JSON.stringify(s),"];")),r.addSource(f)}}catch(p){a.e(p)}finally{a.f()}if(r.prepend("(function(velcro){\n"),r.prepend("if (typeof Velcro === 'undefined') Velcro = Object.create(null);\nif (typeof Velcro.registry === 'undefined') Velcro.registry = ".concat(JSON.stringify({defs:{}}),";\n")),r.append("\n})(Velcro.registry);\n"),e&&e.injectRuntime&&r.append("\n".concat('(function(Velcro){var e=function(e,t,r){this.runtime=e,this.id=t,this.importMap=r,this.module={exports:{}},this.require=this.runtime.createRequire(this)},t=function(){function t(t){this.moduleDependents={},this.moduleInstances={},this.defs=t.defs,this.root=new e(this,"velcro:/root",{}),Object.defineProperty(this,"require",{enumerable:!0,value:this.root.require.bind(this.root)})}return t.prototype.createRequire=function(t){var r=this;function n(e){return r.resolveSpecAgainstImportMap(e,t)}return Object.assign((function(o){var i=n(o),s=r.moduleInstances[i];if(!s){var u=r.defs[i];if(!u)throw new Error("Unable to locate module \'"+i+"\' from \'"+t.id);var a=u[0],l=u[1];s=new e(r,i,l),r.moduleInstances[i]=s;var p=i.split("/"),c=p.pop()||o,d=p.join("/");a.call(s.module.exports,s.module,s.module.exports,s.require.bind(s),d,c)}return(r.moduleDependents[i]=r.moduleDependents[i]||[]).push(t),s.module.exports}),{resolve:n})},t.prototype.inject=function(t,r){var n=new e(this,t,Object.create(null));return n.module.exports=r,this.moduleInstances[t]=n,n},t.prototype.invalidate=function(e){for(var t=e.slice(),r=!1;t.length;){var n=t.shift();r=delete this.moduleInstances[n]||r;var o=this.moduleDependents[n];if(Array.isArray(o))for(var i=0;i<o.length;i++)t.push(o[i].id)}return r},t.prototype.resolveSpecAgainstImportMap=function(e,t){var r=t.importMap;if(!r.scopes)return e;var n=r.scopes[t.id];if(!n)return e;var o=n[e];return o||e},t.create=function(r){return r.runtime||(r.runtime=new t(r.registry)),r.Module=e,r.Runtime=t,r.runtime},t}();Velcro.runtime=t.create(Velcro);})',"(Velcro);\n")),e&&e.invalidations){if(!e.injectRuntime)throw new Error("Setting injectRuntime to true is required when calling buildForStaticRuntime and specifying invalidations");r.append("\nVelcro.runtime.invalidate(".concat(JSON.stringify(e.invalidations),");\n"))}var h=new W((function(){var e=r.generateDecodedMap({includeContent:!1,hires:!0,source:n.rootUri.toString()});return new V(e,e.sources.map((function(e){var t=n.sourceModules.get(e);return t?t.sourceMapsTree:new J(e,"SOURCEMAP ERROR")})))}));return new ge(r,h,this.rootUri)}}]),e}(),ye=function(){function e(t){Object(y.a)(this,e),this.edgesFrom=new k.j,this.edgesTo=new k.j,this.sourceModules=new Map,this.rootUri=t.rootUri;var n,r=Object(j.a)(t.sourceModules);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.sourceModules.set(a.href,a)}}catch(l){r.e(l)}finally{r.f()}var i,o=Object(j.a)(t.edges);try{for(o.s();!(i=o.n()).done;){var s=i.value,c=s.fromUri.toString(),u=s.toUri.toString();this.edgesFrom.add(c,s),this.edgesTo.add(u,s)}}catch(l){o.e(l)}finally{o.f()}}return Object(m.a)(e,[{key:"splitChunks",value:function(){return[new be({edges:this.edgesFrom.values(),rootUri:k.k.joinPath(this.rootUri,"./chunk/0.js"),sourceModules:this.sourceModules.values()})]}}]),e}(),me=Object.assign(Object.create(null),{Buffer:{spec:"@velcro/node-libs@".concat("0.47.0","/lib/buffer.js"),export:"Buffer"},global:{spec:"@velcro/node-libs@".concat("0.47.0","/lib/global.js")},globalThis:{spec:"@velcro/node-libs@".concat("0.47.0","/lib/global.js")},process:{spec:"@velcro/node-libs@".concat("0.47.0","/lib/process.js")}}),ke=function(){function e(t,n,r,a,i,o){Object(y.a)(this,e),this.uri=t,this.rootUri=n,this.source=r,this.dependencies=a,this.sourceMapsTree=i,this.visits=o}return Object(m.a)(e,[{key:"href",get:function(){return this.uri.toString()}},{key:"rootHref",get:function(){return this.rootUri.toString()}}]),e}(),we=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(y.a)(this,e),this.rootUri=t,this.disposer=new k.f,this.edges=new Set,this.errors=[],this.seen=new Set,this.sourceModules=new Map,this.pendingModuleOperations=new k.j,this.onCompletedEmitter=new k.g,this.onErrorEmitter=new k.g,this.onProgressEmitter=new k.g,this.done=new Promise((function(e,t){n.disposer.add(n.onCompleted((function(t){var n=t.graph;return e(n)}))),n.disposer.add(n.onError((function(e){var n=e.error;return t(n)})))})),this.tokenSource=new k.c(r.token),this.disposer.add(this.tokenSource),this.done.catch((function(){}))}return Object(m.a)(e,[{key:"addEdge",value:function(e){this.edges.add(e)}},{key:"addSourceModule",value:function(e){this.sourceModules.set(e.href,e)}},{key:"cancel",value:function(){this.tokenSource.cancel()}},{key:"dispose",value:function(){this.cancel(),this.disposer.dispose()}},{key:"hasSourceModule",value:function(e){return this.sourceModules.has(e)}},{key:"runAsync",value:function(e,t){var n=this;if(!this.token.isCancellationRequested){var r,a=function(t){r&&n.pendingModuleOperations.delete(e,r),n.cancel(),Object(k.p)(t)||(n.errors.push(t),n.onErrorEmitter.fire({error:t}))};try{r=t().then((function(){n.pendingModuleOperations.delete(e,r),n.pendingModuleOperations.size?n.onProgressEmitter.fire({progress:{completed:n.sourceModules.size,pending:n.pendingModuleOperations.size}}):n.onCompletedEmitter.fire({graph:new ye({edges:n.edges,rootUri:n.rootUri,sourceModules:n.sourceModules.values()})})}),a),this.pendingModuleOperations.add(e,r)}catch(i){a(i)}}}},{key:"onCompleted",get:function(){return this.onCompletedEmitter.event}},{key:"onError",get:function(){return this.onErrorEmitter.event}},{key:"onProgress",get:function(){return this.onProgressEmitter.event}},{key:"token",get:function(){return this.tokenSource.token}}]),e}(),xe=function(){function e(t){Object(y.a)(this,e),this.edgesByDependency=new WeakMap,this.edgesByInvalidation=new k.j,this.sourceModules=new Map,this.sourceModulesByInvalidation=new k.j,this.resolver=t.resolver,this.external=t.external,this.nodeEnv=t.nodeEnv||"development",this.pluginManager=new $(t.plugins||[])}return Object(m.a)(e,[{key:"loadDependency",value:function(e,t,n){var r=this;e.seen.has(n)||(e.seen.add(n),this.external&&this.external(n,t)||e.runAsync("".concat(t.href,"|").concat(n.spec),Object(b.a)(v.a.mark((function a(){var i,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.pluginManager.executeResolveDependency({nodeEnv:r.nodeEnv,resolver:r.resolver,token:e.token},n,t);case 2:i=a.sent,o=r.createEdge(t.uri,t.rootUri,i.uri,i.rootUri,i.visited,n),e.addEdge(o),r.loadEdge(e,o);case 6:case"end":return a.stop()}}),a)})))))}},{key:"loadEdge",value:function(e,t){var n=this,r=t.toUri.toString();if(!e.hasSourceModule(r)){var a=this.sourceModules.get(r);if(a)return e.addSourceModule(a),this.visitSourceModule(e,a);e.runAsync(r,Object(b.a)(v.a.mark((function a(){var i,o,s,c,u,l,d;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e.hasSourceModule(r)){a.next=2;break}return a.abrupt("return");case 2:return a.next=4,n.pluginManager.executeLoad({nodeEnv:n.nodeEnv,resolver:n.resolver,token:e.token},t.toUri);case 4:if(i=a.sent,!e.hasSourceModule(r)){a.next=7;break}return a.abrupt("return");case 7:return a.next=9,n.pluginManager.executeTransform({nodeEnv:n.nodeEnv,resolver:n.resolver,token:e.token},t.toUri,i.code);case 9:if(o=a.sent,!e.hasSourceModule(r)){a.next=12;break}return a.abrupt("return");case 12:s=oe(t.toUri,o.code,{globalModules:me,nodeEnv:n.nodeEnv}),c=new ke(t.toUri,t.toRootUri,s.code,new Set(s.dependencies),o.sourceMapTree,[].concat(Object(g.a)(o.visited),Object(g.a)(i.visited))),e.addSourceModule(c),n.sourceModules.set(c.href,c),u=Object(j.a)(c.visits);try{for(u.s();!(l=u.n()).done;)d=l.value,n.sourceModulesByInvalidation.add(d.uri.toString(),c)}catch(f){u.e(f)}finally{u.f()}n.sourceModulesByInvalidation.add(c.href,c),n.visitSourceModule(e,c);case 20:case"end":return a.stop()}}),a)}))))}}},{key:"loadEntrypoint",value:function(e,t){var n=this,r=t.toString();e.runAsync(r,Object(b.a)(v.a.mark((function r(){var a,i;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.pluginManager.executeResolveEntrypoint({nodeEnv:n.nodeEnv,resolver:n.resolver,token:e.token},t);case 2:a=r.sent,i=n.createEdge(e.rootUri,e.rootUri,a.uri,a.rootUri,a.visited,H.fromEntrypoint(t)),n.loadEdge(e,i);case 5:case"end":return r.stop()}}),r)}))))}},{key:"visitSourceModule",value:function(e,t){if(!e.seen.has(t)){e.seen.add(t);var n,r=Object(j.a)(t.dependencies);try{for(r.s();!(n=r.n()).done;){var a=n.value,i=this.edgesByDependency.get(a);i?(e.addEdge(i),this.loadEdge(e,i)):this.loadDependency(e,t,a)}}catch(o){r.e(o)}finally{r.f()}}}},{key:"build",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=k.k.parse("velcro:/"),a=new we(r,{token:n.token}),i=Object(j.a)(e);try{for(i.s();!(t=i.n()).done;){var o=t.value;this.loadEntrypoint(a,k.k.isUri(o)?o:k.k.parse(o))}}catch(s){i.e(s)}finally{i.f()}return a}},{key:"invalidate",value:function(e){var t=k.k.isUri(e)?e.toString():e,n=this.sourceModulesByInvalidation.get(t);if(n){var r,a=Object(j.a)(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;this.sourceModules.delete(i.href)}}catch(l){a.e(l)}finally{a.f()}this.sourceModulesByInvalidation.deleteAll(t)}this.sourceModules.delete(t);var o=this.edgesByInvalidation.get(t);if(o){var s,c=Object(j.a)(o);try{for(c.s();!(s=c.n()).done;){var u=s.value;this.edgesByDependency.delete(u.dependency)}}catch(l){c.e(l)}finally{c.f()}this.edgesByInvalidation.deleteAll(t)}this.resolver.invalidate(e)}},{key:"createEdge",value:function(e,t,n,r,a,i){var o={dependency:i,fromUri:e,fromRootUri:t,toUri:n,toRootUri:r,visited:a};this.edgesByDependency.set(i,o),this.edgesByInvalidation.add(n.toString(),o);var s,c=Object(j.a)(a);try{for(c.s();!(s=c.n()).done;){var u=s.value;this.edgesByInvalidation.add(u.uri.toString(),o)}}catch(l){c.e(l)}finally{c.f()}return o}}]),e}(),je=n(79),Oe=n(226);function Ee(e){return!(!e||"object"!==typeof e)&&(function(e){return"object"===typeof e&&e&&e.type===je.e.EntryKind.File&&"string"===typeof e.path&&e.path}(e)||Se(e))}function Se(e){return"object"===typeof e&&e&&e.type===je.e.EntryKind.Directory&&"string"===typeof e.path&&e.path&&("undefined"===typeof e.files||Array.isArray(e.files)&&e.files.every(Ee))}function Ce(e){return"".concat(e.spec).concat(e.pathname)}var Me=function(){function e(){Object(y.a)(this,e),this.name="jsdelivr",this.specRx=/^\/((@[^/]+\/[^/@]+|[^/@]+)(?:@([^/]+))?)(.*)?$/}return Object(m.a)(e,[{key:"isValidUrl",value:function(t){return t.scheme===e.protocol||t.authority===e.host}},{key:"normalizePackageListing",value:function(e){if(!e||"object"!==typeof e)throw new Error("Unexpected package listing contents");var t=e.files;if(!Array.isArray(t))throw new Error("Unexpected package listing contents");return{type:je.e.EntryKind.Directory,path:"/",files:t.map((function(e){return function e(t,n){if(!n||"object"!==typeof n)throw new Error("Unexpected entry in package listing contents");var r=n.name;if("string"!==typeof r)throw new Error("Unexpected entry in package listing contents");var a="".concat(t,"/").concat(r);if(n.type===je.e.EntryKind.Directory){var i=n.files;if(!Array.isArray(i))throw new Error("Unexpected entry in package listing contents");return{type:je.e.EntryKind.Directory,path:a,files:i.map((function(t){return e(a,t)}))}}if(n.type===je.e.EntryKind.File)return{type:je.e.EntryKind.File,path:a};throw new Error("Error mapping child entry in package file listing")}("",e)}))}}},{key:"parseUrl",value:function(e){k.k.isUri(e)&&(e=e.path);if(!e.startsWith("/npm"))throw new Error("Unable to parse unexpected ".concat(this.name," url: ").concat(e));var t=(e=e.slice("/npm".length)).match(this.specRx);if(!t)throw new Error("Unable to parse unexpected unpkg url: ".concat(e));return{spec:t[1],name:t[2],version:t[3]||"",pathname:t[4]||""}}},{key:"urlForPackageFile",value:function(t,n){return k.k.from({scheme:e.protocol,authority:e.host,path:"/npm/".concat(t).concat(n)})}},{key:"urlForPackageList",value:function(t){return k.k.from({scheme:e.protocol,authority:e.dataHost,path:"/v1/package/npm/".concat(t,"/tree")})}}]),e}();Me.protocol="https",Me.host="cdn.jsdelivr.net",Me.dataHost="data.jsdelivr.com";var Ue=function(){function e(){Object(y.a)(this,e),this.name="unpkg",this.UNPKG_SPEC_RX=/^\/((@[^/]+\/[^/@]+|[^/@]+)(?:@([^/]+))?)(.*)?$/}return Object(m.a)(e,[{key:"isValidUrl",value:function(t){return t.scheme===e.protocol||t.authority===e.host}},{key:"normalizePackageListing",value:function(e){if(!Se(e))throw new Error("Error normalizing directory listing");return e}},{key:"parseUrl",value:function(e){k.k.isUri(e)&&(e=e.path);var t=e.match(this.UNPKG_SPEC_RX);if(!t)throw new Error("Unable to parse unexpected unpkg url: ".concat(e));return{spec:t[1],name:t[2],version:t[3]||"",pathname:t[4]||""}}},{key:"urlForPackageFile",value:function(t,n){return k.k.from({scheme:e.protocol,authority:e.host,path:"/".concat(t).concat(n)})}},{key:"urlForPackageList",value:function(t){return k.k.from({scheme:e.protocol,authority:e.host,path:"/".concat(t,"/"),query:"meta"})}}]),e}();Ue.protocol="https",Ue.host="unpkg.com";var Pe=function(e){Object(O.a)(n,e);var t=Object(E.a)(n);function n(e,r){var a;return Object(y.a)(this,n),(a=t.call(this,r.urlForPackageFile("",""))).contentCache=new Map,a.locks=new Map,a.packageEntriesCache=new Map,a.packageJsonCache=new Map,a.cdn=r,a.readUrlFn=e,a}return Object(m.a)(n,[{key:"_withRootUriCheck",value:function(e,t){if(!k.k.isPrefixOf(this.rootUri,e))throw new Error("This strategy is only able to handle URIs under '".concat(this.rootUri.toString(),"' and is unable to handle '").concat(e.toString(),"'"));return t(this.rootUri)}},{key:"getUrlForBareModule",value:function(){var e=Object(b.a)(v.a.mark((function e(t,n,r,a){var i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.cdn.urlForPackageFile("".concat(n,"@").concat(r),a),e.next=3,t.resolveUri(i);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"getCanonicalUrl",value:function(e,t){var n=this;return this._withRootUriCheck(t,Object(b.a)(v.a.mark((function r(){var a,i,o;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=n.cdn.parseUrl(t),i=e.runInChildContext("CdnStrategy._readPackageJsonWithCache",Ce(a),(function(e){return n._readPackageJsonWithCache(e,a)})),!Object(k.q)(i)){r.next=8;break}return r.next=5,i;case 5:r.t0=r.sent,r.next=9;break;case 8:r.t0=i;case 9:return o=r.t0,r.abrupt("return",{uri:n.cdn.urlForPackageFile("".concat(o.name,"@").concat(o.version),a.pathname)});case 11:case"end":return r.stop()}}),r)}))))}},{key:"getResolveRoot",value:function(e,t){var n=this;return this._withRootUriCheck(t,Object(b.a)(v.a.mark((function r(){var a,i,o;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=n.cdn.parseUrl(t),i=n._readPackageJsonWithCache(e,a),!Object(k.q)(i)){r.next=8;break}return r.next=5,i;case 5:r.t0=r.sent,r.next=9;break;case 8:r.t0=i;case 9:return o=r.t0,r.abrupt("return",{uri:n.cdn.urlForPackageFile("".concat(o.name,"@").concat(o.version),"/")});case 11:case"end":return r.stop()}}),r)}))))}},{key:"getRootUrl",value:function(){return{uri:this.cdn.urlForPackageFile("","")}}},{key:"listEntries",value:function(e,t){var n=this;return this._withRootUriCheck(t,Object(b.a)(v.a.mark((function r(){var a,i,o,s,c,u,l,d,f,p,g;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=n.cdn.parseUrl(t),i=Object(k.l)([e.getResolveRoot(t),n._readPackageJsonWithCache(e,a),n._readPackageEntriesWithCache(e,a)],e.token),!Object(k.q)(i)){r.next=8;break}return r.next=5,i;case 5:r.t0=r.sent,r.next=9;break;case 8:r.t0=i;case 9:for(o=r.t0,s=Object(h.a)(o,3),c=s[0].uri,u=s[1],l=s[2],d={name:u.name,pathname:a.pathname,spec:"".concat(u.name,"@").concat(u.version),version:u.version},n.packageEntriesCache.get(u.name).set(u.version,l),f=d.pathname.split("/").filter(Boolean),p=l,g=function(){var e=f.shift();if(p.type!==je.e.EntryKind.Directory||!p.files)throw new k.i(t);p=p.files.find((function(t){return t.type===je.e.EntryKind.Directory&&Object(k.m)(t.path)===e}))};p&&f.length;)g();if(p){r.next=22;break}throw new k.i(t);case 22:if(p.files){r.next=24;break}return r.abrupt("return",{entries:[]});case 24:return r.abrupt("return",{entries:p.files.map((function(e){return{type:e.type,uri:k.k.joinPath(c,".".concat(e.path))}}))});case 25:case"end":return r.stop()}}),r)}))))}},{key:"readFileContent",value:function(e,t){var n=this;return this._withRootUriCheck(t,(function(){var r=t.toString(),a=n.contentCache.get(r);if(null===a)return Promise.reject(new k.i(t));if(a)return a;e.recordVisit(t,je.d.VisitKind.File);var i=n.readUrlFn(r,e.token);if(null===i)return n.contentCache.set(r,null),Promise.reject(new k.i(t));if(Object(k.q)(i)){var o=i.then((function(e){if(null===e)return n.contentCache.delete(r),Promise.reject(new k.i(t));var a={content:e};return n.contentCache.set(r,a),a}));return n.contentCache.set(r,o),o}var s={content:i};return n.contentCache.set(r,s),s}))}},{key:"_readPackageEntriesWithCache",value:function(e,t){var n=this;return e.debug("%s._readPackageEntriesWithCache(%s)",this.constructor.name,Ce(t)),this._withLock("packageEntries:".concat(t.name),(function(){var r=n.packageEntriesCache.get(t.name);if(r){var a=r.get(t.version);if(a)return a;var i=Object(Oe.validRange)(t.version);if(i){var o,s=Object(j.a)(r);try{for(s.s();!(o=s.n()).done;){var c=Object(h.a)(o.value,2),u=c[0],l=c[1];if(Object(Oe.satisfies)(u,i))return l}}catch(d){s.e(d)}finally{s.f()}}}else r=new Map,n.packageEntriesCache.set(t.name,r);return n._readPackageEntries(e,t).then((function(e){return r.set(t.version,e),e}))}))}},{key:"_readPackageEntries",value:function(){var e=Object(b.a)(v.a.mark((function e(t,n){var r,a,i,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.debug("%s._readPackageEntries(%s)",this.constructor.name,Ce(n)),r=this.cdn.urlForPackageList(n.spec),a=r.toString(),t.recordVisit(r,je.d.VisitKind.Directory),e.next=6,Object(k.n)(this.readUrlFn(a,t.token),t.token);case 6:if(null!==(i=e.sent)){e.next=9;break}throw new k.i(n);case 9:return o=t.decoder.decode(i),e.abrupt("return",this.cdn.normalizePackageListing(JSON.parse(o)));case 11:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_readPackageJsonWithCache",value:function(e,t){var n=this;return this._withLock("packageJson:".concat(t.name),(function(){var r=n.packageJsonCache.get(t.name);if(r){var a=r.get(t.version);if(a){var i,o=Object(j.a)(a.visited);try{for(o.s();!(i=o.n()).done;){var s=i.value;e.recordVisit(s.uri,s.type)}}catch(y){o.e(y)}finally{o.f()}return a.packageJson}var c=Object(Oe.validRange)(t.version);if(c){var u,l=Object(j.a)(r);try{for(l.s();!(u=l.n()).done;){var d=Object(h.a)(u.value,2),f=d[0],p=d[1];if(Object(Oe.satisfies)(f,c)){var v,g=Object(j.a)(p.visited);try{for(g.s();!(v=g.n()).done;){var b=v.value;e.recordVisit(b.uri,b.type)}}catch(y){g.e(y)}finally{g.f()}return p.packageJson}}}catch(y){l.e(y)}finally{l.f()}}}else r=new Map,n.packageJsonCache.set(t.name,r);return n._readPackageJson(t,e).then((function(t){return r.set(t.version,{packageJson:t,visited:e.visited}),t}))}))}},{key:"_readPackageJson",value:function(){var e=Object(b.a)(v.a.mark((function e(t,n){var r,a,i,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.debug("%s._readPackageJson(%s)",this.constructor.name,Ce(t)),r=this.cdn.urlForPackageFile(t.spec,"/package.json"),a=n.readFileContent(r),!Object(k.q)(a)){e.next=9;break}return e.next=6,a;case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=a;case 10:i=e.t0,e.prev=11,o=Object(k.r)(n.decoder,i.content,t.spec),e.next=18;break;case 15:throw e.prev=15,e.t1=e.catch(11),new Error("Error parsing manifest as json for package ".concat(t,": ").concat(e.t1.message));case 18:return s=this.cdn.urlForPackageFile("".concat(o.name,"@").concat(o.version),"/package.json").toString(),this.contentCache.set(s,i),e.abrupt("return",o);case 21:case"end":return e.stop()}}),e,this,[[11,15]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_withLock",value:function(e,t){var n=this,r=this.locks.get(e),a=function(){var r=t();if(Object(k.q)(r)){var a=r.then((function(t){return n.locks.delete(e),t}),(function(t){return n.locks.delete(e),Promise.reject(t)}));return n.locks.set(e,a),r}return r};return Object(k.q)(r)?r.then(a):a()}}],[{key:"forJsDelivr",value:function(e){return new n(e,new Me)}},{key:"forUnpkg",value:function(e){return new n(e,new Ue)}}]),n}(je.b),Re=function(e){Object(O.a)(n,e);var t=Object(E.a)(n);function n(e){var r;return Object(y.a)(this,n),(r=t.call(this)).strategies=new Set(e.strategies),r}return Object(m.a)(n,[{key:"_delegateToStrategy",value:function(e,t,n){var r,a=Object(j.a)(this.strategies);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(k.k.isPrefixOf(i.rootUri,n))return i[e](t,n)}}catch(o){a.e(o)}finally{a.f()}return Promise.reject(new Error("No strategy found whose root is a prefix of ".concat(n)))}},{key:"getCanonicalUrl",value:function(e,t){return this._delegateToStrategy("getCanonicalUrl",e,t)}},{key:"getResolveRoot",value:function(e,t){return this._delegateToStrategy("getResolveRoot",e,t)}},{key:"getUrlForBareModule",value:function(e,t,n,r){var a,i=Object(j.a)(this.strategies);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o.getUrlForBareModule)return o.getUrlForBareModule(e,t,n,r)}}catch(s){i.e(s)}finally{i.f()}return{found:!1,uri:null}}},{key:"listEntries",value:function(e,t){return this._delegateToStrategy("listEntries",e,t)}},{key:"readFileContent",value:function(e,t){return this._delegateToStrategy("readFileContent",e,t)}}]),n}(je.a),Ie=n(372),Fe=[".js",".json"],De=["browser","main"];function qe(e,t){return Ae.apply(this,arguments)}function Ae(){return(Ae=Object(b.a)(v.a.mark((function e(t,n){var r,a,i,o,s,c,u,l,d,f,p,g,b;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"index.js",a="unpkg"===n.cdn?Pe.forUnpkg(n.readUrl):Pe.forJsDelivr(n.readUrl),i=new Ie.a((r={},Object(w.a)(r,"index.js",t),Object(w.a)(r,"package.json",JSON.stringify({name:"@@velcro/execute",version:"0.0.0",dependencies:n.dependencies})),r),k.k.parse("velcro://".concat(Math.random().toString(16).slice(2),"/"))),o=i.uriForPath("index.js"),s=new Re({strategies:[a,i]}),c=new je.c(s,{extensions:n.extensions||Fe,packageMain:n.packageMain||De}),u=new xe({external:n.external,resolver:c,nodeEnv:n.nodeEnv||"development",plugins:n.plugins}),l=u.build([o]),e.next=10,l.done;case 10:return d=e.sent,f=d.splitChunks(),p=Object(h.a)(f,1),g=p[0],b=g.buildForStaticRuntime({injectRuntime:!0}),e.abrupt("return",{entrypointUri:o,output:b});case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(e,t){return _e.apply(this,arguments)}function _e(){return(_e=Object(b.a)(v.a.mark((function e(t,n){var r,a,i,o,s,c,u,l,d,f,h,p;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.injectModules&&(r=new Set(Object.keys(n.injectModules)),a=n.external,i=function(e,t){return!!r.has(e.spec)||"function"===typeof a&&a(e,t)},n.external=i),e.next=3,qe(t,n);case 3:if(o=e.sent,s=o.entrypointUri,c=o.output,u="".concat(c.code,"\n\nreturn Velcro.runtime;\n"),l=n.sourceMap?"".concat(u,"\n//# sourceMappingURL=").concat(c.sourceMapDataUri):u,d=new Function(l),f=d(),n.injectModules)for(h in n.injectModules)f.inject(h,n.injectModules[h]);return p=f.require(s.toString()),e.abrupt("return",p);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ne=n(49),Be=["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"],Je={wordPattern:/(-?\d*\.\d\w*)|([^`~!@$^&*()=+[{\]}|;:'",.<>/\s]+)/g,comments:{blockComment:["{!--","--}"]},brackets:[["\x3c!--","--\x3e"],["<",">"],["{","}"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"}],onEnterRules:[{beforeText:new RegExp("<(?!(?:"+Be.join("|")+"))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$","i"),afterText:/^<\/(\w[\w\d]*)\s*>$/i,action:{indentAction:Ne.languages.IndentAction.IndentOutdent}},{beforeText:new RegExp("<(?!(?:"+Be.join("|")+"))(\\w[\\w\\d]*)([^/>]*(?!/)>)[^<]*$","i"),action:{indentAction:Ne.languages.IndentAction.Indent}}]},Ve={defaultToken:"",tokenPostfix:".svelte",ignoreCase:!1,tokenizer:{root:[[/<!DOCTYPE/,"metatag","@doctype"],[/<!--/,"comment","@comment"],[/(<)((?:[\w-]+:)?[\w-]+)(\s*)(\/>)/,["delimiter","tag","","delimiter"]],[/(<)(script)/,["delimiter",{token:"tag",next:"@script"}]],[/(<)(style)/,["delimiter",{token:"tag",next:"@style"}]],[/(<)((?:[\w-]+:)?[\w-]+)/,["delimiter",{token:"tag",next:"@otherTag"}]],[/(<\/)((?:[\w-]+:)?[\w-]+)/,["delimiter",{token:"tag",next:"@otherTag"}]],[/</,"delimiter"],[/[^<]+/]],doctype:[[/[^>]+/,"metatag.content"],[/>/,"metatag","@pop"]],comment:[[/-->/,"comment","@pop"],[/[^-]+/,"comment.content"],[/./,"comment.content"]],otherTag:[[/\/?>/,"delimiter","@pop"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/]],script:[[/type/,"attribute.name","@scriptAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/(<\/)(script\s*)(>)/,["delimiter","tag",{token:"delimiter",next:"@pop"}]]],scriptAfterType:[[/=/,"delimiter","@scriptAfterTypeEquals"],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptAfterTypeEquals:[[/"([^"]*)"/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@scriptWithCustomType.$1"}],[/>/,{token:"delimiter",next:"@scriptEmbedded",nextEmbedded:"text/javascript"}],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptWithCustomType:[[/>/,{token:"delimiter",next:"@scriptEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/script\s*>/,{token:"@rematch",next:"@pop"}]],scriptEmbedded:[[/<\/script/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]],style:[[/type/,"attribute.name","@styleAfterType"],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w-]+/,"attribute.name"],[/=/,"delimiter"],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/(<\/)(style\s*)(>)/,["delimiter","tag",{token:"delimiter",next:"@pop"}]]],styleAfterType:[[/=/,"delimiter","@styleAfterTypeEquals"],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleAfterTypeEquals:[[/"([^"]*)"/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/'([^']*)'/,{token:"attribute.value",switchTo:"@styleWithCustomType.$1"}],[/>/,{token:"delimiter",next:"@styleEmbedded",nextEmbedded:"text/css"}],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleWithCustomType:[[/>/,{token:"delimiter",next:"@styleEmbedded.$S2",nextEmbedded:"$S2"}],[/"([^"]*)"/,"attribute.value"],[/'([^']*)'/,"attribute.value"],[/[\w-]+/,"attribute.name"],[/=/,"delimiter"],[/[ \t\r\n]+/],[/<\/style\s*>/,{token:"@rematch",next:"@pop"}]],styleEmbedded:[[/<\/style/,{token:"@rematch",next:"@pop",nextEmbedded:"@pop"}],[/[^<]+/,""]]}},We=function(e){return fetch(e).then((function(e){return e.arrayBuffer()}))},Ke=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(y.a)(this,e),this.editor=null,this.disposableStore=new k.f,this.viewState=new WeakMap,this.onWillFocusModelEmitter=new k.g,this.onDidChangeEmitter=new k.g,this.disposableStore.add(this.onWillFocusModelEmitter),this.disposableStore.add(this.onDidChangeEmitter),Ne.languages.typescript.typescriptDefaults.setEagerModelSync(!0),Ne.languages.typescript.typescriptDefaults.setMaximumWorkerIdleTime(-1),Ne.languages.typescript.typescriptDefaults.setCompilerOptions({allowJs:!0,allowNonTsExtensions:!0,allowSyntheticDefaultImports:!0,baseUrl:".",checkJs:!0,esModuleInterop:!0,experimentalDecorators:!0,inlineSourceMap:!0,inlineSources:!0,isolatedModules:!1,jsx:Ne.languages.typescript.JsxEmit.React,lib:["dom"],module:Ne.languages.typescript.ModuleKind.CommonJS,moduleResolution:Ne.languages.typescript.ModuleResolutionKind.NodeJs,noEmit:!1,outDir:"dist",resolveJsonModule:!0,rootDir:"/",sourceMap:!0,target:Ne.languages.typescript.ScriptTarget.ES2015,typeRoots:["node_modules/@types"]}),Ne.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!1}),Ne.languages.register({id:"svelte",extensions:[".svelte"],mimetypes:["text/x-svelte"]}),Ne.languages.setLanguageConfiguration("svelte",Je),Ne.languages.setMonarchTokensProvider("svelte",Ve);var n=function(){var e=void 0,t=function(){var t=Object(b.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e||(e=(e=Te('module.exports = { prettier: require("prettier/standalone"), plugins: [require("prettier/parser-babel"), require("prettier/parser-html"), require("prettier/parser-postcss")] };',{readUrl:We,cdn:"jsdelivr",dependencies:{prettier:"^2.0.5","prettier-plugin-svelte":"^1.1.0"},nodeEnv:"production",packageMain:["browser","main"],sourceMap:!1})).then(function(){var e=Object(b.a)(v.a.mark((function e(t){var n,r,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.prettier,r=t.plugins,e.next=3,Te('module.exports = require("prettier-plugin-svelte")',{readUrl:We,cdn:"jsdelivr",dependencies:{"prettier-plugin-svelte":"^1.1.0",svelte:"^3.2.0"},injectModules:{prettier:n},nodeEnv:"production",packageMain:["browser","main"],sourceMap:!1});case 3:return a=e.sent,e.abrupt("return",{prettier:n,plugins:[].concat(Object(g.a)(r),[a])});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).catch((function(e){console.error(e)})),t.abrupt("return",e);case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{provideDocumentFormattingEdits:function(e,n,r){return Object(b.a)(v.a.mark((function n(){var a,i,o,s;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t();case 2:if(a=n.sent,i=a.prettier,o=a.plugins,!r.isCancellationRequested){n.next=7;break}return n.abrupt("return",[]);case 7:return s=i.format(e.getValue(),{filepath:e.uri.fsPath,singleQuote:!0,tabWidth:2,plugins:o}),n.abrupt("return",[{range:e.getFullModelRange(),text:s}]);case 9:case"end":return n.stop()}}),n)})))()}}},r=n();if(Ne.languages.registerDocumentFormattingEditProvider("css",r),Ne.languages.registerDocumentFormattingEditProvider("html",r),Ne.languages.registerDocumentFormattingEditProvider("javascript",r),Ne.languages.registerDocumentFormattingEditProvider("svelte",r),Ne.languages.registerDocumentFormattingEditProvider("typescript",r),t.files)for(var a in t.files){var i=t.files[a];this.createModel(a,i)}this.initialPath=t.initialPath}return Object(m.a)(e,[{key:"createModel",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.inferLanguage(e);try{t=Ne.Uri.file(e)}catch(a){throw new Error("Invalid path '".concat(e,"': ").concat(a&&a.message))}if(Ne.editor.getModel(t))throw new Error("Cannot create file because it exists '".concat(e,"'"));return Ne.editor.createModel(n,r,t)}},{key:"focusHref",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getModelByHref(e);n&&this.focusModel(n,t)}},{key:"focusModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.editor&&(this.editor.setModel(e),t.lineNumber&&(this.editor.revealLineInCenter(t.lineNumber,Ne.editor.ScrollType.Smooth),this.editor.setPosition({column:t.columnNumber||0,lineNumber:t.lineNumber})),t.markers&&Ne.editor.setModelMarkers(e,"editorManager",t.markers),this.editor.focus())}},{key:"focusPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getModelByPath(e);n&&this.focusModel(n,t)}},{key:"getModelByHref",value:function(e){try{var t=Ne.Uri.parse(e);return Ne.editor.getModel(t)}catch(n){return null}}},{key:"getModelByPath",value:function(e){return Ne.editor.getModel(Ne.Uri.file(e))}},{key:"mount",value:function(e){var t=this;if(this.editor)throw new Error("Invariant violation: Editor already mounted");return this.editor=Ne.editor.create(e,{model:null,automaticLayout:!0,minimap:{enabled:!1},showUnused:!0,scrollBeyondLastLine:!1,theme:"vs",wordWrap:"bounded",wrappingIndent:"same"}),this.editor.onDidDispose((function(){t.editor=null})),this.editor.onDidChangeModel((function(e){if(e.newModelUrl&&t.editor){var n=Ne.editor.getModel(e.newModelUrl),r=t.viewState.get(n);r&&t.editor.restoreViewState(r)}})),this.editor.onDidBlurEditorText((function(){if(t.editor){var e=t.editor.getModel(),n=t.editor.saveViewState();e&&n&&t.viewState.set(e,n)}})),this.disposableStore.add(this.editor),this.initialPath&&this.focusPath(this.initialPath),this.editor}},{key:"inferLanguage",value:function(e){return e.match(/\.(?:tsx?|jsx?)$/)?"typescript":void 0}},{key:"dispose",get:function(){return this.disposableStore.dispose}},{key:"onDidChange",get:function(){return this.onDidChangeEmitter.event}},{key:"onWillFocusModel",get:function(){return this.onWillFocusModelEmitter.event}}]),e}(),Le=Object(r.createContext)(void 0);var ze=function(e){var t=e.className,n=Object(r.useRef)(null),i=Object(r.useContext)(Le);return Object(r.useEffect)((function(){if(n.current){var e=i.mount(n.current);return function(){e.dispose()}}}),[i,n]),a.a.createElement("div",{className:t,ref:n},a.a.createElement("div",null))},$e=Object(s.a)(ze,{target:"e1ud1fz20"})(""),He=n(373);function Ge(e,t){var n=new k.f,r=function(e){n.add(e.onWillDispose((function(){t.sendEvent("file_remove",{href:e.uri.toString()})}))),n.add(e.onDidChangeContent((function(){t.sendEvent("file_update",{content:e.getValue(),href:e.uri.toString()})}))),t.sendEvent("file_create",{content:e.getValue(),href:e.uri.toString()})};return e.editor.getModels().forEach(r),n.add(e.editor.onDidCreateModel(r)),n}var Ye=Object(s.a)("div",{target:"e12nrcxh0"})("z-index:1;position:absolute;top:0;width:",(function(e){return e.total?"".concat(Math.round(100*e.completed/e.total),"%"):0}),";left:0;height:",(function(e){return e.total?"2px":"0"}),";background-color:#008cba;transition:width 0.5s 0s cubic-bezier(0.455,0.03,0.515,0.955);"),Xe=Object(s.a)("div",{target:"e12nrcxh1"})({name:"82o815",styles:"position:relative;overflow:hidden;& > iframe{position:absolute;top:0;right:0;bottom:0;left:0;border:none;width:100%;height:100%;}"}),Ze=Object(s.a)("div",{target:"e12nrcxh2"})("position:relative;background:white;",Xe,"{position:absolute;top:0;right:0;bottom:0;left:0;}"),Qe=Object(s.a)("ul",{target:"e12nrcxh3"})({name:"592wbr",styles:"margin:0;padding:1em 2em;font-family:monospace;font-size:16px;background-color:rgba(255,0,0,0.5);backdrop-filter:brightness(50%);color:white;list-style:none;"}),et=Object(s.a)("li",{target:"e12nrcxh4"})("white-space:pre-wrap;opacity:",(function(e){return e.isInternal?.7:1}),";"),tt=Object(s.a)("div",{target:"e12nrcxh5"})({name:"owwzlj",styles:"z-index:1;position:absolute;bottom:0;right:0;left:0;display:flex;flex-direction:column-reverse;"}),nt=function(e){var t=e.line;return a.a.createElement(et,{isInternal:t.isInternal},t.text)},rt=function(e){var t=e.message;return t.lines.length?a.a.createElement(Qe,null,t.lines.map((function(e,t){return a.a.createElement(nt,{key:t,line:e})}))):null},at=function(e){var t=Object(r.useContext)(Le),n=Object(r.useRef)(null),i=Object(r.useRef)(null),o=Object(r.useState)({stateName:"idle"}),s=Object(h.a)(o,2),c=s[0],u=s[1],l=Object(r.useState)({completed:0,total:0}),d=Object(h.a)(l,2),f=d[0],p=d[1],v=Object(r.useRef)("");return Object(r.useEffect)((function(){var e=function(e){i.current&&i.current.contentWindow===e.source&&"click_error"===e.data.event&&t.focusPath(k.k.parse(e.data.entry.file).fsPath,{columnNumber:e.data.entry.column,lineNumber:e.data.entry.line})};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}})),Object(r.useEffect)((function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new k.f,r=new He.a(t),a=Ge(e,r);return n.add(r),n.add(a),{dispose:function(){return n.dispose()},get onStateChange(){return r.onStateChange}}}(Ne,{generateSourceMaps:"data-uri",throttleBuildTimeout:200});return e.onStateChange((function(e){switch(u(e),e.stateName){case"build_in_progress":p({completed:e.data.completed,total:e.data.completed+e.data.pending});break;case"build_complete":console.debug("Rebuild finished, build latency: %d, end-to-end latency: %d",e.data.end-e.data.start,Date.now()-e.data.start);var t=function(e){var t=e.code,n=e.sourceMap;t="".concat(t,"\n\n").concat([k.k.file("/index.jsx")].map((function(e){return"Velcro.runtime.require(".concat(JSON.stringify(e.toString()),");")})).join("\n"),"\n"),n&&(t+="\n//# sourceMappingURL=".concat(n));var r=new File(['\n<!DOCTYPE html>\n<html lang="en">\n<head>\n<meta charset="UTF-8">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">\n<meta http-equiv="X-UA-Compatible" content="ie=edge">\n<script src="https://cdn.jsdelivr.net/npm/panic-overlay/build/panic-overlay.browser.js"><\/script>\n<title>Document</title>\n</head>\n<body>\n<div id="root"></div>\n<script>'.concat(t.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,"\\x3C!--"),"<\/script>\n<script>\npanic.configure ({\nstackEntryClicked (entry) {\nif (window.parent) {\n  window.parent.postMessage({\n    event: 'click_error',\n    entry: {\n      column: entry.column,\n      file: entry.file,\n      line: entry.line,\n    }\n  });\n}\n}\n})\n<\/script>\n</body>\n</html>").trim()],k.k.file("/index.html").toString(),{type:"text/html"});return URL.createObjectURL(r)}(e.data);v.current&&URL.revokeObjectURL(v.current);var r=document.createElement("iframe");r.style.display="none",r.src=t,n.current&&n.current.appendChild(r);var a=function(){r.removeEventListener("error",o),r.style.display="",i.current&&i.current.remove(),i.current=r},o=function(){r.removeEventListener("load",a),r.remove()};r.addEventListener("load",a,{once:!0}),r.addEventListener("error",o,{once:!0})}})),function(){e.dispose()}}),[p,u]),a.a.createElement(Ze,{className:e.className},"build_in_progress"===c.stateName?a.a.createElement(Ye,{completed:f.completed,total:f.total}):null,a.a.createElement(Xe,{ref:n}),a.a.createElement(tt,null,"build_error"===c.stateName?a.a.createElement(rt,{message:{lines:[{isInternal:!0,text:c.data.error}]}}):null))},it=Object(s.a)(at,{target:"e12nrcxh6"})("");var ot,st=n(584);!function(e){e.Directory="directory",e.File="file"}(ot||(ot={}));var ct=Object(s.a)("div",{target:"eb6iszj0"})("background-color:",(function(e){return e.modelFocused?"#008cba":"inherit"}),";text-decoration:none;color:",(function(e){return e.modelFocused?"#fff":"#262626"}),";height:25px;padding:0 0 0 8px;display:flex;flex-direction:row;align-items:center;& > span{flex:1;}& > button{display:none;}&:hover > button{display:block;}",(function(e){return e.modelFocused?{":hover":{color:"#f5f5f5",cursor:"pointer"}}:{":hover":{backgroundColor:"#eee",color:"#262626",cursor:"pointer"}}}),""),ut=Object(s.a)("div",{target:"eb6iszj1"})({name:"17pjlpu",styles:"text-decoration:none;color:'#262626';height:25px;padding:0 0 0 8px;display:flex;align-items:center;:hover{background-color:#eee;cursor:pointer;}"}),lt=Object(s.a)(st.a,{target:"eb6iszj2"})({name:"aa0e1b",styles:"border:none;background:none;:hover{cursor:pointer;}"}),dt=Object(s.a)("div",{target:"eb6iszj3"})({name:"1rclmj6",styles:"font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;background-color:#333;color:#fff;border-radius:4px;opacity:0.9;padding:0.2em 0.4em;"}),ft=function(e){var t=e.className,n=e.model,i=function(){var e=Object(r.useContext)(Le),t=Object(r.useState)(e.editor?e.editor.getModel():null),n=Object(h.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){var t=new k.f,n=function(e){e.onDidChangeModel((function(e){var t=e.newModelUrl?Ne.editor.getModel(e.newModelUrl):null;i(t)})),t.add(e.onDidBlurEditorText((function(){i(null)}))),t.add(e.onDidFocusEditorText((function(){i(e.getModel())}))),e.hasTextFocus()&&i(e.getModel())};return t.add(Ne.editor.onDidCreateEditor(n)),e.editor&&n(e.editor),function(){return t.dispose()}}),[e.editor,a]),a}(),o=Object(r.useContext)(Le),s=Object(l.a)({gutter:0});return a.a.createElement(ct,{className:t,modelFocused:n===i},a.a.createElement("span",{onClick:function(){return o.focusModel(n)}},n.uri.fsPath.slice(1)),a.a.createElement(d.a,Object.assign({},s,{as:lt,onClick:function(){n.dispose()}}),a.a.createElement("span",{role:"img","aria-label":"Delete file"},"\u274c")),a.a.createElement(f.a,Object.assign({},s,{as:dt}),"Delete file"))},ht=function(e){var t=function(e){var t=e.toString(!0).replace(/\/?$/,"/"),n=function(e){return Object(g.a)(e).sort((function(e,t){return e.uri.fsPath>t.uri.fsPath?1:-1}))},a=n(Ne.editor.getModels().reduce((function(e,n){var r=n.uri.toString(!0);if(r.startsWith(t)){var a=r.slice(t.length),i=a.indexOf("/");if(0===i)throw new Error("Invariant error: WAT?");if(i>0){var o=Ne.Uri.parse("".concat(t).concat(a.slice(0,i+1)));e.push({type:ot.Directory,uri:o})}else e.push({type:ot.File,uri:n.uri,model:n})}return e}),[])),i=Object(r.useState)(a),o=Object(h.a)(i,2),s=o[0],c=o[1];return Object(r.useEffect)((function(){var t=new k.f,r=e.toString(!0).replace(/\/?$/,"/");return t.add(Ne.editor.onDidCreateModel((function(e){var t=e.uri.toString(!0);if(t.startsWith(r)){var a=t.slice(r.length),i=a.indexOf("/");if(0===i)throw new Error("Invariant error: WAT?");if(i>0){var o=Ne.Uri.parse("".concat(r).concat(a.slice(0,i))),u=s.find((function(e){return e.uri.toString(!0)===o.toString(!0)}));if(u){if(u.type!==ot.Directory)throw new Error("Invariant violation: A file in '".concat(r,"' conflicts with the path of the new file '").concat(t,"'"));return}return s.push({type:ot.Directory,uri:o}),c(n(s))}s.find((function(t){return t.type===ot.File&&t.uri.toString(!0)===e.uri.toString(!0)}))||(s.push({type:ot.File,uri:e.uri,model:e}),c(n(s)))}}))),t.add(Ne.editor.onWillDisposeModel((function(e){var t=s.findIndex((function(t){return t.type===ot.File&&t.model===e}));if(-1===t)throw new Error("Invariant violation: Removing an untracked model: '".concat(e.uri.fsPath,"'"));s.splice(t,1),c(n(s))}))),function(){return t.dispose()}}),[s,e]),s}(Object(r.useRef)(Ne.Uri.file("/")).current),n=Object(r.useContext)(Le);return a.a.createElement("div",{className:e.className},t.map((function(e){return e.type===ot.Directory?a.a.createElement("div",null,e.uri.fsPath.slice(1)):a.a.createElement(ft,{key:e.uri.toString(!0),model:e.model})})),a.a.createElement(ut,{onClick:function(){return function(){var e=prompt("Filename?");e&&n.createModel(e)}()}},"Create..."))},pt=Object(s.a)(ht,{target:"eb6iszj4"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),vt=function(e){var t=e.className,n=e.initialPath,r=e.project,i=new Ke({files:r,initialPath:n});return a.a.createElement("div",{className:t},a.a.createElement(Le.Provider,{value:i},a.a.createElement(pt,null),a.a.createElement($e,null),a.a.createElement(it,null)))},gt=Object(s.a)(vt,{target:"eqz1fxr0"})("display:flex;flex-direction:row;font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;color:#222;",pt,"{flex:1 1 100px;min-width:100px;max-width:400px;border-right:1px solid #ccc;}",$e,"{border-right:1px solid #ccc;}",$e,",",it,"{flex:10;}"),bt={"package.json":JSON.stringify({name:"test",version:"0.0.0",dependencies:{"github-markdown-css":"^3.0.1",svelte:"^3.24.0"}},null,2)+"\n","index.jsx":"\nimport App from './App.svelte';\n\nnew App({\n  target: document.body,\n});\n    ".trim()+"\n","App.svelte":"\n<script>\n  import Explanation from './Explanation.svelte';\n  import 'github-markdown-css';\n<\/script>\n\n<main class=\"markdown-body\">\n  <h1>Velcro Playground</h1>\n  <blockquote>Example of \ud83d\udcaf % browser module loading and bundling.</blockquote>\n  <Explanation />\n</main>\n  ".trim()+"\n","Explanation.svelte":'\n<section>\n  <h2>Give it a try</h2>\n  <p>Here\'s what you should try:</p>\n  <ul>\n    <li>\u270d\ufe0f Change any of the code you see.</li>\n    <li>\n      \ud83d\udce6 Change any of the dependencies versions or introduce your own in the\n      <code>package.json</code>\n      file.\n    </li>\n    <li>\ud83d\udc84 Try writing some css, or maybe making a TypeScript file...</li>\n    <li>\n      \ud83d\udd75\ud83c\udffc\u200d\u2642\ufe0f Checking out the action in the network tab of Developer Tools or seeing\n      the generated source maps in the sources tab.\n    </li>\n  </ul>\n</section>\n<section>\n  <h2>How does it work</h2>\n  <p>\n    Velcro is a fully web-based dependency resolver, loader and bundler. In this\n    playground, it has been configured to treat files in the editor as being at\n    <code>file://</code>\n    , and npm modules as being at\n    <code>https://cdn.jsdelivr.net</code>\n    . Inter-module dependencies are all resolved to satisfy the requested ranges\n    and are loaded at maximum concurrency from jsDelivr.\n  </p>\n  <p>\n    As each file is resolved and read, it is run through a series of plugin\n    hooks that are heavily inspired by Rollup. Each hook has a default fallback\n    implementation that allows us to resolve, load and transform individual\n    files. In the playground, Velcro has been configured with a css plugin and a\n    <a\n      href="https://github.com/alangpierce/sucrase"\n      target="blank"\n      rel="noopener">\n      sucrase\n    </a>\n    plugin (for ESM and TypeScript).\n  </p>\n  <p>\n    After processing each individual file, we parse it so that its AST can be\n    traversed to:\n  </p>\n  <ul>\n    <li>Calculate scope metadata and identifier bindings</li>\n    <li>\n      Identify calls to\n      <code>require</code>\n    </li>\n    <li>Identify calls Node.js global objects so that shims can be injected</li>\n    <li>\n      Prune branches based on\n      <code>process.env.NODE_ENV</code>\n    </li>\n  </ul>\n  <p>\n    This work allows us to build out a full dependency graph of modules. This\n    graph has information about every url consulted at each step of the process,\n    so small parts of it can be efficiently invalidated. Once the graph is\n    complete, it can be serialized into a bundle of JavaScript code. At this\n    point, we can decide if we want to include source maps or not.\n  </p>\n  <p>\n    The bundled code is written to browser-internal storage using the\n    <code>File</code>\n    API and an\n    <code>iframe</code>\n    is constructed dynamically that links to this. Every new generation of\n    bundle will cause the\n    <code>iframe</code>\n    to be replaced.\n  </p>\n</section>\n  '.trim()+"\n"},yt=a.a.createContext(void 0);function mt(e){var t=a.a.useState(null),n=Object(h.a)(t,2),r=n[0],i=(n[1],a.a.useState(!1)),o=Object(h.a)(i,2),s=o[0],c=(o[1],a.a.useState(!1)),u=Object(h.a)(c,2),l=u[0],d=(u[1],a.a.useMemo((function(){return{assetsUpdateReady:s,assetsCached:l,updateAssets:function(){r&&(r.addEventListener("statechange",(function(e){e.target&&"activated"===e.target.state&&window.location.reload()})),r.postMessage({type:"SKIP_WAITING"}))}}}),[s,l,r]));return a.a.createElement(yt.Provider,Object.assign({value:d},e))}var kt=Object(s.a)("div",{target:"e1qgp6ih0"})("background:white;color:#666;display:flex;flex-direction:column;",gt,"{border-bottom:1px solid #ccc;flex:1;}"),wt=Object(s.a)("span",{target:"e1qgp6ih1"})({name:"1u2uh69",styles:"display:inline-flex;flex-direction:row;align-items:center;"}),xt=(Object(s.a)("div",{target:"e1qgp6ih3"})({name:"1rclmj6",styles:"font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;background-color:#333;color:#fff;border-radius:4px;opacity:0.9;padding:0.2em 0.4em;"}),Object(s.a)("div",{target:"e1qgp6ih4"})("display:flex;flex-direction:row;font-size:90%;height:24px;padding:0 0.5em;",wt,"{margin-left:0.5em;margin-right:0.5em;}")),jt=Object(s.a)("div",{target:"e1qgp6ih5"})("width:100%;min-width:200px;max-width:80vw;margin:0 auto;padding:0 0 45px 0;@media (max-width:960px){padding:0 15px 15px 15px;max-width:initial;}display:flex;flex-direction:column;",kt,"{flex:1;background:#f5f5f5;border-radius:2px;box-shadow:0 10px 20px rgba(0,0,0,0.19),0 6px 6px rgba(0,0,0,0.23);",xt,"{}}"),Ot=Object(s.a)("div",{target:"e1qgp6ih6"})({name:"v5adw0",styles:"font-family:'Raleway',sans-serif;font-size:250%;font-weight:800;font-variant:small-caps;font-variant-caps:small-caps;color:#00bfff;"}),Et=Object(s.a)("div",{target:"e1qgp6ih7"})({name:"1vgndle",styles:"color:#ddd;font-size:120%;font-weight:400;"}),St=Object(s.a)("a",{target:"e1qgp6ih8"})({name:"1ew3f0",styles:"color:white;text-decoration:none;:hover{text-decoration:underline;}"}),Ct=Object(s.a)("div",{target:"e1qgp6ih9"})("display:flex;flex-direction:row;& > *:not(:last-child):after{padding:0 0.5em;content:'\uff5c';color:#aaa;text-decoration:none;}",St,"{color:#ccc;}"),Mt=Object(s.a)("div",{target:"e1qgp6ih10"})("display:flex;flex-direction:row;align-items:baseline;padding:0.8em 0 0.3em 0;text-shadow:#000 1px 1px 5px;",Ot,"{margin-right:0.5em;}",Et,"{margin-right:0.5em;}",Ct,"{flex:1;justify-content:flex-end;}"),Ut=Object(c.c)("@import url('https://fonts.googleapis.com/css?family=Raleway:900&display=swap');*,*::before,*::after{box-sizing:border-box;}html,body{margin:0;padding:0;min-height:100vh;font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;background:#333;color:#fff;display:flex;flex-direction:column;#root{flex:1;display:flex;flex-direction:column;",jt,"{flex:1;}}}"),Pt=function(){return a.a.createElement(mt,null,a.a.createElement(u.a,null),a.a.createElement(jt,null,a.a.createElement(c.a,{styles:Ut}),a.a.createElement(Mt,null,a.a.createElement(Ot,null,"Velcro"),a.a.createElement(Et,null,"The client-side bundler and playground"),a.a.createElement(Ct,null,a.a.createElement("div",null,a.a.createElement(St,{href:"https://twitter.com/filearts",target:"_blank",rel:"nofollow noreferrer"},"@filearts")),a.a.createElement("div",null,a.a.createElement(St,{href:"https://github.com/ggoodman/velcro",target:"_blank",rel:"nofollow noreferrer"},"View on GitHub")))),a.a.createElement(kt,null,a.a.createElement(gt,{project:bt,initialPath:"index.jsx"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),o.a.render(a.a.createElement(Pt,null),document.getElementById("root"))},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return x})),n.d(t,"c",(function(){return V})),n.d(t,"d",(function(){return E})),n.d(t,"e",(function(){return g}));var r=n(26),a=n.n(r),i=n(54),o=n(38),s=n(72),c=n(73),u=n(78),l=n(27),d=n(35),f=n(67),h=n(13),p=/^((@[^/]+\/[^/@]+|[^./@][^/@]*)(?:@([^/]+))?)(.*)?$/;function v(e){var t=e.match(p);if(t){var n=Object(f.a)(t,5),r=n[1],a=n[2],i=n[3],o=n[4];return{nameSpec:r,name:a,spec:i,path:void 0===o?"":o}}return null}for(var g,b=Object.assign(Object.create(null),{string_decoder:v("string_decoder@1.2.0"),punycode:v("punycode@2.1.1")}),y=0,m=["assert","buffer","constants","crypto","events","fs","http","https","net","os","path","process","querystring","stream","tls","url","util","vm","zlib"];y<m.length;y++){var k=m[y];b[k]=v("@velcro/node-libs@".concat("0.47.0","/lib/").concat(k,".js"))}!function(e){!function(e){e.File="file",e.Directory="directory"}(e.EntryKind||(e.EntryKind={}))}(g||(g={}));var w=function(){function e(){Object(l.a)(this,e)}return Object(d.a)(e,[{key:"getCanonicalUrl",value:function(e,t){return{uri:t}}},{key:"getSettings",value:function(e,t){return{settings:e.settings}}},{key:"withOverrides",value:function(e){var t=Object(u.a)(Object(u.a)({},e),{},{parent:this});return Object.setPrototypeOf(Object.assign(Object.create(null),t),this)}}]),e}(),x=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).rootUri=e,r}return n}(w),j=Symbol("Context.cache"),O=function(){function e(t,n){Object(l.a)(this,e),this.uri=t,this.visits=[],this.parent=n}return Object(d.a)(e,[{key:"child",value:function(t){return new e(t,this)}},{key:"push",value:function(e){this.visits.find((function(t){return t.type==e.type&&h.k.equals(t.uri,e.uri)}))||(this.visits.push(e),this.parent&&this.parent.push(e))}},{key:"toArray",value:function(){return this.parent?this.parent.toArray():this.visits.slice()}}]),e}(),E=function(){function e(t){var n=this;Object(l.a)(this,e),this.mapResultWithVisits=function(e){return Object.assign(e,{visited:n.visits.toArray()})},this.cache=t.cache,this.cacheInvalidations=t.cacheInvalidations,this.debugMode=t.debug,this.decoder=t.decoder,this.path=t.path,this.resolver=t.resolver,this.settings=t.settings,this.strategy=t.strategy,this.tokenSource=new h.c(t.token),this.visits=t.visits}return Object(d.a)(e,[{key:"dispose",value:function(){this.tokenSource.dispose(!0)}},{key:"forOperation",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=S(t,n);if(this.path.includes(a)){var i=this.path.map((function(e){var t=C(e),n=t.operationName,r=t.uri;return"".concat(n,"(").concat(r.toString(),")")})).join(" -> ");throw this._wrapError(new Error("Detected a recursive call to the operation '".concat(t,"' for '").concat(n.toString(),"' at path '").concat(i,"'")))}return new e({cache:this.cache,cacheInvalidations:this.cacheInvalidations,debug:this.debugMode,decoder:this.decoder,path:r.resetPath?[]:this.path.concat(a),resolver:this.resolver,settings:this.settings,strategy:this.strategy,token:this.tokenSource.token,visits:r.resetVisits?new O(n):this.visits.child(n)})}},{key:"getCanonicalUrl",value:function(e){var t=this.strategy.getCanonicalUrl,n=this.strategy,r=e.toString();return this.runInChildContext("Strategy.getCanonicalUrl",e,(function(a){return a.runWithCache("Strategy.getCanonicalUrl",r,t,n,a,e)}))}},{key:"getResolveRoot",value:function(e){var t=this.strategy.getResolveRoot,n=this.strategy,r=e.toString();return this.runInChildContext("Strategy.getResolveRoot",e,(function(a){return a.runWithCache("Strategy.getResolveRoot",r,t,n,a,e)}))}},{key:"getSettings",value:function(e){var t=this.strategy.getSettings,n=this.strategy,r=e.toString();return this.runInChildContext("Strategy.getSettings",e,(function(a){return a.runWithCache("Strategy.getSettings",r,t,n,a,e)}))}},{key:"getUrlForBareModule",value:function(e,t,n){var r=this.strategy.getUrlForBareModule;if(!r)return Promise.reject(new Error("Unable to resolve bare module spec '".concat(e,"@").concat(t).concat(n,"' because no strategy was found that supports resolving bare modules")));var a=this.strategy,i="".concat(e,"@").concat(t).concat(n);return this.runInChildContext("Strategy.getUrlForBareModule",i,(function(o){return o.runWithCache("Strategy.getUrlForBareModule",i,r,a,o,e,t,n)}))}},{key:"invalidate",value:function(e){var t=e.toString(),n=this.cacheInvalidations.get(t),r=!1;if(n){var a,i=Object(o.a)(n);try{for(i.s();!(a=i.n()).done;){var s=a.value,c=s.cacheKey;r=s.operationCache.delete(c)||r}}catch(u){i.e(u)}finally{i.f()}}return this.cacheInvalidations.deleteAll(t),r}},{key:"listEntries",value:function(e){var t=this.strategy.listEntries,n=this.strategy,r=e.toString();return this.runInChildContext("Strategy.listEntries",e,(function(a){return a.runWithCache("Strategy.listEntries",r,t,n,a,e)}))}},{key:"readFileContent",value:function(t){var n=this.strategy.readFileContent,r=this.strategy,a=t.toString();return this.recordVisit(t,e.VisitKind.File),this.runInChildContext("Strategy.readFileContent",t,(function(e){return e.runWithCache("Strategy.readFileContent",a,n,r,e,t)}))}},{key:"readParentPackageJson",value:function(e){return this.runWithCache("readParentPackageJson",e.toString(),_,null,this,e)}},{key:"recordVisit",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.VisitKind.File;this.visits.push({type:n,uri:t})}},{key:"resolve",value:function(e,t){var n=P,r="".concat(t,"|").concat(e);return this.runInChildContext("resolve",r,(function(a){return a.runWithCache("resolve",r,n,null,a,t,e)}))}},{key:"resolveUri",value:function(e){var t=M,n=e.toString();return this.runInChildContext("resolveUri",e,(function(r){return r.runWithCache("resolveUri",n,t,null,r,e)}))}},{key:"runInChildContext",value:function(e,t,n){return this.runInContext(e,t,{resetPath:!1,resetVisits:!1},n)}},{key:"runInIsolatedContext",value:function(e,t,n){return this.runInContext(e,t,{resetPath:!0,resetVisits:!0},n)}},{key:"runInContext",value:function(e,t,n,r){var a=this.forOperation(e,t,n);return a.debug("%s(%s)",e,t.toString()),r(a)}},{key:"createStoreResultFn",value:function(e,t){var n=this;return function(r){var a=n.mapResultWithVisits(r),i=a.visited;if(a[j]){var s=a[j];delete a[j];var c,u=Object(o.a)(s);try{for(u.s();!(c=u.n()).done;){var l=Object(f.a)(c.value,2),d=l[0],h=l[1];e.set(d,h);var p,v=Object(o.a)(i);try{for(v.s();!(p=v.n()).done;){var g=p.value;n.cacheInvalidations.add(g.uri.toString(),{cacheKey:d,operationCache:e})}}catch(k){v.e(k)}finally{v.f()}}}catch(k){u.e(k)}finally{u.f()}}e.set(t,a);var b,y=Object(o.a)(i);try{for(y.s();!(b=y.n()).done;){var m=b.value;n.cacheInvalidations.add(m.uri.toString(),{cacheKey:t,operationCache:e})}}catch(k){y.e(k)}finally{y.f()}return a}}},{key:"runWithCache",value:function(e,t,n,r){var a=this.cache.get(e);a||(a=new Map,this.cache.set(e,a));var i=a.get(t);if(i)return this.debug("%s(%s) [HIT]",e,t),i;var o=this.createStoreResultFn(a,t);this.debug("%s(%s) [MISS]",e,t);for(var s=arguments.length,c=new Array(s>4?s-4:0),u=4;u<s;u++)c[u-4]=arguments[u];var l=n.apply(r,c);if(Object(h.q)(l)){var d=l,f=d.then(o,(function(e){return a.delete(t),Promise.reject(e)}));return a.set(t,f),f}return o(l)}},{key:"_wrapError",value:function(e){return Object.assign(e,{path:this.path.map(C)})}},{key:"debug",value:function(){if(this.debugMode){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]=" ".repeat(this.path.length)+n[0]),(e=console).warn.apply(e,n)}}},{key:"token",get:function(){return this.tokenSource.token}},{key:"visited",get:function(){return this.visits.toArray()}}],[{key:"create",value:function(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return new e({cache:new Map,cacheInvalidations:new h.j,debug:!!i.debug,decoder:new h.d,path:[],resolver:t,settings:r,strategy:n,token:a,visits:new O(h.k.parse("velcro:/root"))})}}]),e}();function S(e,t){return"".concat(e,":").concat(t.toString())}function C(e){var t=e.split(":",2);if(2!==t.length)throw console.log("WTF",{node:e,parts:t}),new Error("Invariant violation: Unexpected path node: '".concat(e,"'"));return{operationName:t[0],uri:t[1].includes(":")?h.k.parse(t[1]):t[1]}}function M(e,t){return U.apply(this,arguments)}function U(){return(U=Object(i.a)(a.a.mark((function e(t,n){var r,i,o,s,c,l,d,p,v,g,b,y,m,k,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(h.l)([t.getCanonicalUrl(n),t.getResolveRoot(n),t.getSettings(n)],t.token),!Object(h.q)(r)){e.next=7;break}return e.next=4,Object(h.n)(r,t.token);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=r;case 8:if(i=e.t0,o=Object(f.a)(i,3),s=o[0],c=o[1],l=o[2],d=c.uri,p=h.k.ensureTrailingSlash(d,""),h.k.isPrefixOf(p,s.uri)){e.next=17;break}throw new Error("Unable to resolve a module whose path ".concat(s.uri.toString(!0)," is above the host's root ").concat(d.toString()));case 17:if(v=h.k.equals(p,s.uri)||h.k.equals(d,s.uri)?t.runInChildContext("resolveAsDirectory",s.uri,(function(e){return D(e,h.k.ensureTrailingSlash(s.uri),c.uri,l.settings)})):t.runInChildContext("resolveAsFile",s.uri,(function(e){return A(e,s.uri,c.uri,l.settings,null)})),g=t.readParentPackageJson(n),b=Object(h.l)([v,g],t.token),!Object(h.q)(b)){e.next=26;break}return e.next=23,b;case 23:e.t1=e.sent,e.next=27;break;case 26:e.t1=b;case 27:return y=e.t1,m=Object(f.a)(y,2),k=m[0],w=m[1],e.abrupt("return",Object(u.a)(Object(u.a)({},k),{},{parentPackageJson:w.found?{packageJson:w.packageJson,uri:w.uri}:void 0}));case 32:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(e,t,n){return R.apply(this,arguments)}function R(){return(R=Object(i.a)(a.a.mark((function e(t,n,r){var i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=v(r))){e.next=3;break}return e.abrupt("return",t.runInChildContext("resolveBareModule",n,(function(e){return I(e,n,i)})));case 3:return o=h.k.joinPath(h.k.from(Object(u.a)(Object(u.a)({},n),{},{path:Object(h.o)(n.path)})),r),e.abrupt("return",t.runInChildContext("resolveUri",o,(function(e){return M(e,o)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,t,n){return F.apply(this,arguments)}function F(){return(F=Object(i.a)(a.a.mark((function e(t,n,r){var i,o,s,c,l,d,f,p,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.name,o=r.spec,s=r.path,o){e.next=8;break}return e.delegateYield(a.a.mark((function e(){var i,s,c,l,d,f,p,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.getResolveRoot(n),!Object(h.q)(i)){e.next=7;break}return e.next=4,Object(h.n)(i,t.token);case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=i;case 8:s=e.t0,c=n,l=10;case 11:if(!h.k.isPrefixOf(s.uri,c)){e.next=39;break}if(!(--l<=0)){e.next=14;break}throw new Error("Max iterations reached");case 14:if(d=t.readParentPackageJson(n),!Object(h.q)(d)){e.next=21;break}return e.next=18,Object(h.n)(d,t.token);case 18:e.t1=e.sent,e.next=22;break;case 21:e.t1=d;case 22:if((f=e.t1).found){e.next=25;break}throw new h.e(r.nameSpec,n);case 25:if(t.recordVisit(f.uri,E.VisitKind.File),f.packageJson.name!==r.name){e.next=30;break}if("object"!==typeof(p=function(){var e=h.k.ensureTrailingSlash(h.k.joinPath(f.uri,"../"));return{v:{v:t.runInChildContext("resolveAsDirectory",e,(function(t){return D(t,e,s.uri,t.settings)}))}}}())){e.next=30;break}return e.abrupt("return",p.v);case 30:if(v=Object(u.a)(Object(u.a)(Object(u.a)({},f.packageJson.devDependencies||{}),f.packageJson.peerDependencies||{}),f.packageJson.dependencies||{}),!(o=v[r.name])){e.next=34;break}return e.abrupt("break",39);case 34:if(c=h.k.joinPath(f.uri,".."),!h.k.equals(c,s.uri)){e.next=37;break}return e.abrupt("break",39);case 37:e.next=11;break;case 39:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(c=e.t0)){e.next=8;break}return e.abrupt("return",c.v);case 8:if(o||(l=b[r.name])&&(i=l.name,o=l.spec,s=l.path),o){e.next=11;break}throw new h.e(r.nameSpec,n);case 11:if(d=t.getUrlForBareModule(i,o,s),!Object(h.q)(d)){e.next=18;break}return e.next=15,Object(h.n)(d,t.token);case 15:e.t1=e.sent,e.next=19;break;case 18:e.t1=d;case 19:if((f=e.t1).found){e.next=22;break}throw new h.e(r.nameSpec,n);case 22:if(f.uri){e.next=24;break}throw new h.h(r.nameSpec);case 24:if(p=t.resolveUri(f.uri),!Object(h.q)(p)){e.next=31;break}return e.next=28,Object(h.n)(p,t.token);case 28:e.t2=e.sent,e.next=32;break;case 31:e.t2=p;case 32:return v=e.t2,e.abrupt("return",v);case 34:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(e,t,n,r){return q.apply(this,arguments)}function q(){return(q=Object(i.a)(a.a.mark((function e(t,n,r,i){var s,c,u,l,d,f,p,v,b,y,m,k,w;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.recordVisit(n,E.VisitKind.Directory),s=t.listEntries(n),!Object(h.q)(s)){e.next=8;break}return e.next=5,Object(h.n)(s,t.token);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=s;case 9:if(c=e.t0,u="index",l=h.k.joinPath(n,"./package.json"),t.recordVisit(l,E.VisitKind.File),d=c.entries.find((function(e){return e.type===g.EntryKind.File&&h.k.equals(l,e.uri)})),f=null,!d){e.next=45;break}if(p=t.readFileContent(l),!Object(h.q)(p)){e.next=23;break}return e.next=20,Object(h.n)(p,t.token);case 20:e.t1=e.sent,e.next=24;break;case 23:e.t1=p;case 24:v=e.t1,f=Object(h.s)(t.decoder,v.content,n.toString()),b=Object(o.a)(i.packageMain),e.prev=27,b.s();case 29:if((y=b.n()).done){e.next=37;break}if(m=y.value,"string"!==typeof(k=f[m])){e.next=35;break}return u=k,e.abrupt("break",37);case 35:e.next=29;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(27),b.e(e.t2);case 42:return e.prev=42,b.f(),e.finish(42);case 45:return w=h.k.joinPath(n,u),e.abrupt("return",t.runInChildContext("resolveAsFile",n,(function(e){return A(e,w,r,i,f)})));case 47:case"end":return e.stop()}}),e,null,[[27,39,42,45]])})))).apply(this,arguments)}function A(e,t,n,r,a){return T.apply(this,arguments)}function T(){return(T=Object(i.a)(a.a.mark((function e(t,n,r,i,s){var c,u,l,d,f,p,v,b,y,m,k,w,x,j,O,S,C,M,U,P,R,I,F,q,T=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=T.length>5&&void 0!==T[5]&&T[5],""!==n.path&&"/"!==n.path){e.next=3;break}throw new TypeError("Unable to resolve the root as a file: ".concat(n.toString()));case 3:if(t.recordVisit(n,E.VisitKind.File),u=new Map,null!==s){e.next=29;break}if(!i.packageMain.includes("browser")||c){e.next=12;break}return e.next=9,Object(h.n)(t.runInChildContext("readParentPackageJsonInternal",n,(function(e){return B(e,n,r,{uriIsCanonicalized:!0})})),t.token);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=void 0;case 13:if(!(l=e.t0)||!l.found){e.next=29;break}if(t.recordVisit(l.uri,E.VisitKind.File),s=l.packageJson,!l.packageJson.browser||"object"!==typeof l.packageJson.browser){e.next=29;break}d=l.packageJson.browser,f=h.k.joinPath(l.uri,".."),p=function(e){var a=h.k.joinPath(f,e),o=d[e],c=!1!==o&&h.k.joinPath(f,o);if(h.k.equals(a,n))return!1===c?{v:{found:!1,uri:null}}:{v:t.runInChildContext("resolveAsFile",c,(function(e){return A(e,c,r,i,s,!0)}))};u.set(a.toString(),c)},e.t1=a.a.keys(d);case 22:if((e.t2=e.t1()).done){e.next=29;break}if(v=e.t2.value,"object"!==typeof(b=p(v))){e.next=27;break}return e.abrupt("return",b.v);case 27:e.next=22;break;case 29:if(y=h.k.ensureTrailingSlash(h.k.joinPath(n,"..")),m=Object(h.m)(n.path),k=t.listEntries(y),!Object(h.q)(k)){e.next=38;break}return e.next=35,Object(h.n)(k,t.token);case 35:e.t3=e.sent,e.next=39;break;case 38:e.t3=k;case 39:w=e.t3,x=new Map,j=new Map,O=Object(o.a)(w.entries),e.prev=43,O.s();case 45:if((S=O.n()).done){e.next=52;break}if(C=S.value,!h.k.equals(C.uri,n)||C.type!=g.EntryKind.File){e.next=49;break}return e.abrupt("return",{found:!0,rootUri:r,uri:n});case 49:C.type===g.EntryKind.Directory?(M=h.k.getFirstPathSegmentAfterPrefix(C.uri,y),x.set(M,C)):C.type===g.EntryKind.File&&(U=Object(h.m)(C.uri.path),j.set(U,C));case 50:e.next=45;break;case 52:e.next=57;break;case 54:e.prev=54,e.t4=e.catch(43),O.e(e.t4);case 57:return e.prev=57,O.f(),e.finish(57);case 60:P=Object(o.a)(i.extensions),e.prev=61,I=function(){var e=R.value,a=n.with({path:"".concat(n.path).concat(e)}),o=a.toString(),c=u.get(o);if(t.recordVisit(a,E.VisitKind.File),!1===c)return{v:{found:!0,rootUri:r,uri:null}};if(c)return{v:t.runInChildContext("resolveAsFile",c,(function(e){return A(e,c,r,i,s,!0)}))};var l=j.get("".concat(m).concat(e));return l?l.type!==g.EntryKind.File?"continue":{v:{found:!0,rootUri:r,uri:l.uri}}:void 0},P.s();case 64:if((R=P.n()).done){e.next=72;break}if("continue"!==(F=I())){e.next=68;break}return e.abrupt("continue",70);case 68:if("object"!==typeof F){e.next=70;break}return e.abrupt("return",F.v);case 70:e.next=64;break;case 72:e.next=77;break;case 74:e.prev=74,e.t5=e.catch(61),P.e(e.t5);case 77:return e.prev=77,P.f(),e.finish(77);case 80:if(!(q=x.get(m))){e.next=85;break}if(q.type===g.EntryKind.Directory){e.next=84;break}throw new Error("Invariant violation ".concat(q.type," is unexpected"));case 84:return e.abrupt("return",t.runInChildContext("resolveAsDirectory",q.uri,(function(e){return D(e,h.k.ensureTrailingSlash(q.uri),r,i)})));case 85:throw new h.i(n);case 86:case"end":return e.stop()}}),e,null,[[43,54,57,60],[61,74,77,80]])})))).apply(this,arguments)}function _(e,t){return N.apply(this,arguments)}function N(){return(N=Object(i.a)(a.a.mark((function e(t,n){var r,i,o,s,c,l,d,p,v,g;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getCanonicalUrl(n),i=t.getResolveRoot(n),o=Object(h.l)([r,i],t.token),!Object(h.q)(o)){e.next=9;break}return e.next=6,Object(h.n)(o,t.token);case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=o;case 10:if(s=e.t0,c=Object(f.a)(s,2),l=c[0],d=c[1],p=t.runInChildContext("readParentPackageJsonInternal",l.uri,(function(e){return B(e,l.uri,d.uri,{uriIsCanonicalized:!0})})),!Object(h.q)(p)){e.next=21;break}return e.next=18,p;case 18:e.t1=e.sent,e.next=22;break;case 21:e.t1=p;case 22:return(v=e.t1).found&&v.visitedDirs&&(g=v.visitedDirs,delete v.visitedDirs,v[j]=g.map((function(e){return[e.toString(),Object(u.a)(Object(u.a)({},v),{},{uri:e})]}))),e.abrupt("return",v);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e,t,n,r){return J.apply(this,arguments)}function J(){return(J=Object(i.a)(a.a.mark((function e(t,n,r,o){var s,c,u,l,d,f;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.uriIsCanonicalized){e.next=11;break}if(s=t.getCanonicalUrl(n),!Object(h.q)(s)){e.next=8;break}return e.next=5,Object(h.n)(s,t.token);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=s;case 9:c=e.t0,n=c.uri;case 11:if(u=h.k.ensureTrailingSlash(r),l=h.k.ensureTrailingSlash(h.k.joinPath(n,"..")),d=[],f=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var r,i,o,s,c,l,p,v;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h.k.isPrefixOf(u,n)){e.next=2;break}return e.abrupt("return",{found:!1,packageJson:null,uri:null});case 2:if(t.recordVisit(n,E.VisitKind.Directory),r=t.listEntries(n),!Object(h.q)(r)){e.next=10;break}return e.next=7,Object(h.n)(r,t.token);case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=r;case 11:if(i=e.t0,o=h.k.joinPath(n,"package.json"),s=i.entries.find((function(e){return e.type===g.EntryKind.File&&h.k.equals(e.uri,o)})),t.recordVisit(o,E.VisitKind.File),!s){e.next=34;break}if(e.prev=16,c=t.readFileContent(o),!Object(h.q)(c)){e.next=24;break}return e.next=21,Object(h.n)(c,t.token);case 21:e.t1=e.sent,e.next=25;break;case 24:e.t1=c;case 25:return l=e.t1,p=Object(h.r)(t.decoder,l.content,o.toString()),e.abrupt("return",{found:!0,packageJson:p,uri:o,visitedDirs:d});case 30:if(e.prev=30,e.t2=e.catch(16),!(e.t2 instanceof h.b||e.t2&&"CanceledError"===e.t2.name)){e.next=34;break}throw e.t2;case 34:if(v=h.k.ensureTrailingSlash(h.k.joinPath(n,"..")),!h.k.equals(n,v)&&!h.k.isPrefixOf(n,v)){e.next=37;break}return e.abrupt("return",{found:!1,packageJson:null,uri:null});case 37:return d.push(n),e.abrupt("return",t.runInChildContext("readPackageJsonOrRecurse",v,(function(e){return f(e,v)})));case 39:case"end":return e.stop()}}),e,null,[[16,30]])})));return function(t,n){return e.apply(this,arguments)}}(),!h.k.equals(n,l)&&!h.k.isPrefixOf(n,l)){e.next=17;break}return e.abrupt("return",{found:!1,packageJson:null,uri:null});case 17:return e.abrupt("return",t.runInChildContext("readPackageJsonOrRecurse",l,(function(e){return f(e,l)})));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){!function(e){e.Directory="Directory",e.File="File"}(e.VisitKind||(e.VisitKind={}))}(E||(E={}));var V=function(){function e(t,n){Object(l.a)(this,e),this.disposed=!1,this.tokenSource=new h.c,this.settings=n,this.strategy=t,this.rootCtx=E.create(this,this.strategy,this.settings,this.tokenSource.token,{debug:n.debug})}return Object(d.a)(e,[{key:"decode",value:function(e){return"string"===typeof e?e:this.rootCtx.decoder.decode(e)}},{key:"dispose",value:function(){return this.disposed=!0,this.rootCtx.dispose()}},{key:"getCanonicalUrl",value:function(e){if(this.disposed)throw new Error("Resolver has been disposed");return this.rootCtx.runInIsolatedContext("Resolver.getCanonicalUrl",e,(function(t){return t.getCanonicalUrl("string"===typeof e?h.k.parse(e):e)}))}},{key:"getResolveRoot",value:function(e){if(this.disposed)throw new Error("Resolver has been disposed");return this.rootCtx.runInIsolatedContext("Resolver.getResolveRoot",e,(function(t){return t.getResolveRoot("string"===typeof e?h.k.parse(e):e)}))}},{key:"getSettings",value:function(e){if(this.disposed)throw new Error("Resolver has been disposed");return this.rootCtx.runInIsolatedContext("Resolver.getSettings",e,(function(t){return t.getSettings("string"===typeof e?h.k.parse(e):e)}))}},{key:"getUrlForBareModule",value:function(e,t,n){if(this.disposed)throw new Error("Resolver has been disposed");return this.rootCtx.runInIsolatedContext("Resolver.getUrlForBareModule","".concat(e,"|").concat(t,"|").concat(n),(function(r){return r.getUrlForBareModule(e,t,n)}))}},{key:"invalidate",value:function(e){if(this.disposed)throw new Error("Resolver has been disposed");return this.rootCtx.runInIsolatedContext("Resolver.invalidate",e,(function(t){return t.invalidate("string"===typeof e?h.k.parse(e):e)}))}},{key:"listEntries",value:function(e){if(this.disposed)throw new Error("Resolver has been disposed");return this.rootCtx.runInIsolatedContext("Resolver.listEntries",e,(function(t){return t.listEntries("string"===typeof e?h.k.parse(e):e)}))}},{key:"readFileContent",value:function(e){if(this.disposed)throw new Error("Resolver has been disposed");return this.rootCtx.runInIsolatedContext("Resolver.readFileContent",e,(function(t){return t.readFileContent("string"===typeof e?h.k.parse(e):e)}))}},{key:"readParentPackageJson",value:function(e){if(this.disposed)throw new Error("Resolver has been disposed");return this.rootCtx.runInIsolatedContext("Resolver.readParentPackageJson",e,(function(t){return t.readParentPackageJson("string"===typeof e?h.k.parse(e):e)}))}},{key:"resolve",value:function(e,t){if(this.disposed)throw new Error("Resolver has been disposed");if(h.k.isUri(e))return this.rootCtx.runInIsolatedContext("Resolver.resolveUri",e,(function(t){return t.resolveUri(e)}));if(!t)throw new Error('When calling Resolver.resolve with a string spec, a second "fromUri" argument is required');return this.rootCtx.runInIsolatedContext("Resolver.resolve","".concat(t?t.toString():"","|").concat(e),(function(n){return n.resolve(e,t)}))}}]),e}()}},[[381,2,3]]]);
//# sourceMappingURL=main.38651611.chunk.js.map