(this["webpackJsonp@velcro/playground"]=this["webpackJsonp@velcro/playground"]||[]).push([[1],{126:function(e,t,n){"use strict";(function(e,r,i){n.d(t,"d",(function(){return A}));var a,o=n(44),c=(n(79),n(103),n(132),n(60)),s=(n(218),n(41)),l=n(107),u=n(108),d=n(227),h=n(189);n.d(t,"a",(function(){return h.a})),n.d(t,"b",(function(){return h.b})),n.d(t,"c",(function(){return h.c}));var f;Error;!function(t){t.decode="object"===typeof e&&"function"===typeof e.Buffer?function(t){return e.Buffer.from(t,"base64").toString("utf-8")}:"function"===typeof atob?function(e){return decodeURIComponent(escape(atob(e)))}:function(e){throw new Error("The environment has neither the Buffer nor btoa functions. Please consider polyfilling one of these apis.")},t.encode="object"===typeof e&&"function"===typeof e.Buffer?function(t){return e.Buffer.from(t).toString("base64")}:"function"===typeof btoa?function(e){return btoa(unescape(encodeURIComponent(e)))}:function(e){throw new Error("The environment has neither the Buffer nor btoa functions. Please consider polyfilling one of these apis.")}}(f||(f={}));var p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e,r,i){var a,o;Object(s.a)(this,n),"string"===typeof r&&0===r.indexOf("not ")?(o="must not be",r=r.replace(/^not /,"")):o="must be";var c=-1!==e.indexOf(".")?"property":"argument",l='The "'.concat(e,'" ').concat(c," ").concat(o," of type ").concat(r);return l+=". Received type ".concat(typeof i),(a=t.call(this,l)).code="ERR_INVALID_ARG_TYPE",a}return n}(Object(d.a)(Error));function m(e,t){if("string"!==typeof e)throw new p(t,"string",e)}function g(e){return 47===e}function v(e,t,n,r){for(var i="",a=0,o=-1,c=0,s=0,l=0;l<=e.length;++l){if(l<e.length)s=e.charCodeAt(l);else{if(r(s))break;s=47}if(r(s)){if(o===l-1||1===c);else if(2===c){if(i.length<2||2!==a||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2)){if(i.length>2){var u=i.lastIndexOf(n);-1===u?(i="",a=0):a=(i=i.slice(0,u)).length-1-i.lastIndexOf(n),o=l,c=0;continue}if(0!==i.length){i="",a=0,o=l,c=0;continue}}t&&(i+=i.length>0?"".concat(n,".."):"..",a=2)}else i.length>0?i+="".concat(n).concat(e.slice(o+1,l)):i=e.slice(o+1,l),a=l-o-1;o=l,c=0}else 46===s&&-1!==c?++c:c=-1}return i}var b={resolve:function(){for(var e="",t=!1,n=arguments.length-1;n>=-1&&!t;n--){var r=n>=0?n<0||arguments.length<=n?void 0:arguments[n]:i.cwd();m(r,"path"),0!==r.length&&(e="".concat(r,"/").concat(e),t=47===r.charCodeAt(0))}return e=v(e,!t,"/",g),t?"/".concat(e):e.length>0?e:"."},normalize:function(e){if(m(e,"path"),0===e.length)return".";var t=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0===(e=v(e,!t,"/",g)).length?t?"/":n?"./":".":(n&&(e+="/"),t?"/".concat(e):e)},isAbsolute:function(e){return m(e,"path"),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var n=t<0||arguments.length<=t?void 0:arguments[t];m(n,"path"),n.length>0&&(void 0===e?e=n:e+="/".concat(n))}return void 0===e?".":b.normalize(e)},relative:function(e,t){if(m(e,"from"),m(t,"to"),e===t)return"";if((e=b.resolve(e))===(t=b.resolve(t)))return"";for(var n=e.length,r=n-1,i=t.length-1,a=r<i?r:i,o=-1,c=0;c<a;c++){var s=e.charCodeAt(1+c);if(s!==t.charCodeAt(1+c))break;47===s&&(o=c)}if(c===a)if(i>a){if(47===t.charCodeAt(1+c))return t.slice(1+c+1);if(0===c)return t.slice(1+c)}else r>a&&(47===e.charCodeAt(1+c)?o=c:0===c&&(o=0));var l="";for(c=1+o+1;c<=n;++c)c!==n&&47!==e.charCodeAt(c)||(l+=0===l.length?"..":"/..");return"".concat(l).concat(t.slice(1+o))},toNamespacedPath:function(e){return e},dirname:function(e){if(m(e,"path"),0===e.length)return".";for(var t=47===e.charCodeAt(0),n=-1,r=!0,i=e.length-1;i>=1;--i)if(47===e.charCodeAt(i)){if(!r){n=i;break}}else r=!1;return-1===n?t?"/":".":t&&1===n?"//":e.slice(0,n)},basename:function(e,t){void 0!==t&&m(t,"ext"),m(e,"path");var n,r=0,i=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t===e)return"";var o=t.length-1,c=-1;for(n=e.length-1;n>=0;--n){var s=e.charCodeAt(n);if(47===s){if(!a){r=n+1;break}}else-1===c&&(a=!1,c=n+1),o>=0&&(s===t.charCodeAt(o)?-1===--o&&(i=n):(o=-1,i=c))}return r===i?i=c:-1===i&&(i=e.length),e.slice(r,i)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!a){r=n+1;break}}else-1===i&&(a=!1,i=n+1);return-1===i?"":e.slice(r,i)},extname:function(e){m(e,"path");for(var t=-1,n=0,r=-1,i=!0,a=0,o=e.length-1;o>=0;--o){var c=e.charCodeAt(o);if(47!==c)-1===r&&(i=!1,r=o+1),46===c?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1);else if(!i){n=o+1;break}}return-1===t||-1===r||0===a||1===a&&t===r-1&&t===n+1?"":e.slice(t,r)},format:function(e,t){if(null===t||"object"!==typeof t)throw new p("pathObject","Object",t);var n=t.dir||t.root,r=t.base||"".concat(t.name||"").concat(t.ext||"");return n?n===t.root?"".concat(n).concat(r):"".concat(n).concat(e).concat(r):r}.bind(null,"/"),parse:function(e){m(e,"path");var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var n,r=47===e.charCodeAt(0);r?(t.root="/",n=1):n=0;for(var i=-1,a=0,o=-1,c=!0,s=e.length-1,l=0;s>=n;--s){var u=e.charCodeAt(s);if(47!==u)-1===o&&(c=!1,o=s+1),46===u?-1===i?i=s:1!==l&&(l=1):-1!==i&&(l=-1);else if(!c){a=s+1;break}}if(-1!==o){var d=0===a&&r?1:a;-1===i||0===l||1===l&&i===o-1&&i===a+1?t.base=t.name=e.slice(d,o):(t.name=e.slice(d,i),t.base=e.slice(d,o),t.ext=e.slice(i,o))}return a>0?t.dir=e.slice(0,a-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null},y=(b.normalize,b.isAbsolute,b.join),w=(b.resolve,b.relative,b.dirname,b.basename,b.extname,b.format,b.parse,b.toNamespacedPath,b.sep,b.delimiter,/^\w[\w\d+.-]*$/),x=/^\//,j=/^\/\//;function O(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(e.authority,'", path: "').concat(e.path,'", query: "').concat(e.query,'", fragment: "').concat(e.fragment,'"}'));if(e.scheme&&!w.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!x.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(j.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}function E(e,t){return e||t?e:"file"}function k(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==C&&(t=C+t):t=C}return t}var C="/",S=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,A=function(){function e(t,n,r,i,a){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];Object(s.a)(this,e),"object"===typeof t?(this.scheme=t.scheme||"",this.authority=t.authority||"",this.path=t.path||"",this.query=t.query||"",this.fragment=t.fragment||""):(this.scheme=E(t,o),this.authority=n||"",this.path=k(this.scheme,r||""),this.query=i||"",this.fragment=a||"",O(this,o))}return Object(c.a)(e,[{key:"with",value:function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,a=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=""),void 0===n?n=this.authority:null===n&&(n=""),void 0===r?r=this.path:null===r&&(r=""),void 0===i?i=this.query:null===i&&(i=""),void 0===a?a=this.fragment:null===a&&(a=""),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&a===this.fragment?this:new P(t,n,r,i,a)}},{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return R(this,e)}},{key:"toJSON",value:function(){return this}},{key:"fsPath",get:function(){return N(this,!1)}}],[{key:"ensureTrailingSlash",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return e.with({path:e.path.replace(z,t)})}},{key:"equals",value:function(e,t){return e.authority===t.authority&&e.fragment===t.fragment&&e.path===t.path&&e.query===t.query&&e.scheme===t.scheme}},{key:"getFirstPathSegmentAfterPrefix",value:function(e,t){for(var n=e.path,r=t.path,i="/"===r.charAt(r.length-1)?-1:0,a=0;a<=n.length;a++)if(a<r.length){if(n.charAt(a)!==r.charAt(a))throw new Error("The child entry ".concat(e.toString()," does not have the pathname of ").concat(t.toString()," as a prefix"))}else if(a===r.length+i){if("/"!==n.charAt(a))throw new Error("The child entry ".concat(e.toString()," does not have the pathname of ").concat(t.toString()," as a prefix"))}else if("/"===n.charAt(a))return n.slice(r.length+1+i,a);return n.slice(r.length+1+i)}},{key:"isPrefixOf",value:function(e,t){return e.authority===t.authority&&e.fragment===t.fragment&&e.query===t.query&&e.scheme===t.scheme&&t.path.startsWith(e.path)}},{key:"isUri",value:function(t){return t instanceof e||!!t&&("string"===typeof t.authority&&"string"===typeof t.fragment&&"string"===typeof t.path&&"string"===typeof t.query&&"string"===typeof t.scheme&&"function"===typeof t.fsPath&&"function"===typeof t.with&&"function"===typeof t.toString)}},{key:"parse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=S.exec(e);return n?new P(n[2]||"",U(n[4]||""),U(n[5]||""),U(n[7]||""),U(n[9]||""),t):new P("","","","","")}},{key:"file",value:function(e){var t="";if(e[0]===C&&e[1]===C){var n=e.indexOf(C,2);-1===n?(t=e.substring(2),e=C):(t=e.substring(2,n),e=e.substring(n)||C)}return new P("file",t,e,"","")}},{key:"from",value:function(e){return new P(e.scheme,e.authority,e.path,e.query,e.fragment)}},{key:"joinPath",value:function(e){if(!e.path)throw new Error("[UriError]: cannot call joinPaths on URI without path");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=y.apply(void 0,[e.path].concat(n));return e.with({path:i})}},{key:"revive",value:function(t){if(t){if(t instanceof e)return t;var n=new P(t);return n._formatted=t.external,n._fsPath=t._sep===M?t.fsPath:null,n}return t}}]),e}(),M=void 0,P=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.apply(this,arguments))._formatted=null,e._fsPath=null,e}return Object(c.a)(n,[{key:"toString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?(this._formatted||(this._formatted=R(this,!0)),this._formatted):R(this,!1)}},{key:"toJSON",value:function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=M),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}},{key:"fsPath",get:function(){return this._fsPath||(this._fsPath=N(this,!1)),this._fsPath}}]),n}(A),D=(a={},Object(o.a)(a,58,"%3A"),Object(o.a)(a,47,"%2F"),Object(o.a)(a,63,"%3F"),Object(o.a)(a,35,"%23"),Object(o.a)(a,91,"%5B"),Object(o.a)(a,93,"%5D"),Object(o.a)(a,64,"%40"),Object(o.a)(a,33,"%21"),Object(o.a)(a,36,"%24"),Object(o.a)(a,38,"%26"),Object(o.a)(a,39,"%27"),Object(o.a)(a,40,"%28"),Object(o.a)(a,41,"%29"),Object(o.a)(a,42,"%2A"),Object(o.a)(a,43,"%2B"),Object(o.a)(a,44,"%2C"),Object(o.a)(a,59,"%3B"),Object(o.a)(a,61,"%3D"),Object(o.a)(a,32,"%20"),a);function I(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var a=e.charCodeAt(i);if(a>=97&&a<=122||a>=65&&a<=90||a>=48&&a<=57||45===a||46===a||95===a||126===a||t&&47===a)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var o=D[a];void 0!==o?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=o):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function q(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=D[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function N(e,t){return e.authority&&e.path.length>1&&"file"===e.scheme?"//".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path}function R(e,t){var n=t?q:I,r="",i=e.scheme,a=e.authority,o=e.path,c=e.query,s=e.fragment;if(i&&(r+=i,r+=":"),(a||"file"===i)&&(r+=C,r+=C),a){var l=a.indexOf("@");if(-1!==l){var u=a.substr(0,l);a=a.substr(l+1),-1===(l=u.indexOf(":"))?r+=n(u,!1):(r+=n(u.substr(0,l),!1),r+=":",r+=n(u.substr(l+1),!1)),r+="@"}-1===(l=(a=a.toLowerCase()).indexOf(":"))?r+=n(a,!1):(r+=n(a.substr(0,l),!1),r+=a.substr(l))}if(o){if(o.length>=3&&47===o.charCodeAt(0)&&58===o.charCodeAt(2)){var d=o.charCodeAt(1);d>=65&&d<=90&&(o="/".concat(String.fromCharCode(d+32),":").concat(o.substr(3)))}else if(o.length>=2&&58===o.charCodeAt(1)){var h=o.charCodeAt(0);h>=65&&h<=90&&(o="".concat(String.fromCharCode(h+32),":").concat(o.substr(2)))}r+=n(o,!0)}return c&&(r+="?",r+=n(c,!1)),s&&(r+="#",r+=t?s:I(s,!1)),r}var _=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function U(e){return e.match(_)?e.replace(_,(function(e){return function e(t){try{return decodeURIComponent(t)}catch(n){return t.length>3?t.substr(0,3)+e(t.substr(3)):t}}(e)})):e}var z=/\/?$/}).call(this,n(181),n(367).Buffer,n(209))},355:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(203),i=n(126),a=n(356);function o(t){var n=new i.a,o=new Worker(e,{}),c=function(e){e.onWillDispose((function(){var n={event:"file_remove",href:e.uri.toString(!0)};u(n),t.dispose()}));var t=n.add(e.onDidChangeContent((function(){var t={event:"file_update",content:e.getValue(),href:e.uri.toString(!0)};u(t)}))),r={event:"file_create",content:e.getValue(),href:e.uri.toString(!0)};u(r)},s=new i.b,l=i.c.debounce(s.event,(function(e,t){return e||(e=new Map),e.set(t.href,t),e}),62)((function(e){o.postMessage(Object(r.a)(e.values()))}));n.add(s),n.add(l);var u=function(e){s.fire(e)};t.editor.getModels().forEach(c),n.add(t.editor.onDidCreateModel(c)),n.add({dispose:function(){return o.terminate()}});var d=new i.b;return n.add(d),o.addEventListener("message",(function(e){a.a.is(e.data)&&d.fire(e.data)})),{dispose:function(){return n.dispose()},get onStateChange(){return d.event}}}}).call(this,n(445))},356:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(68),i=r.object({event:r.literal("file_create"),content:r.string(),href:r.string()}),a=r.object({event:r.literal("file_remove"),href:r.string()}),o=r.object({event:r.literal("file_update"),content:r.string(),href:r.string()}),c=r.union([i,a,o]),s=(r.array(c),r.object({state:r.literal("built"),href:r.string(),start:r.number().int(),end:r.number().int()})),l=r.object({state:r.literal("building"),completed:r.number(),pending:r.number()}),u=r.object({state:r.literal("error"),error:r.object({message:r.string()})}),d=r.object({state:r.literal("initial")}),h=r.union([l,s,u,d])},362:function(e,t,n){e.exports=n(469)},445:function(e,t,n){e.exports=n.p+"static/js/0.4109523c.chunk.worker.js"},469:function(e,t,n){"use strict";n.r(t);var r=n(11),i=n.n(r),a=n(214),o=n.n(a),c=n(66),s=n(207),l=n(552),u=(n(549),n(551),n(226)),d=n(548),h=n(554),f=n(103),p=n(41),m=n(60),g=n(126),v=n(61),b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Object(p.a)(this,e),this.editor=null,this.disposableStore=new g.a,this.initialPath=void 0,this.viewState=new WeakMap,this.onWillFocusModelEmitter=new g.b,this.onDidChangeEmitter=new g.b,this.disposableStore.add(this.onWillFocusModelEmitter),this.disposableStore.add(this.onDidChangeEmitter),v.languages.typescript.typescriptDefaults.setEagerModelSync(!0),v.languages.typescript.typescriptDefaults.setMaximumWorkerIdleTime(-1),v.languages.typescript.typescriptDefaults.setCompilerOptions({allowJs:!0,allowNonTsExtensions:!0,allowSyntheticDefaultImports:!0,baseUrl:".",checkJs:!0,esModuleInterop:!0,experimentalDecorators:!0,inlineSourceMap:!0,inlineSources:!0,isolatedModules:!1,jsx:v.languages.typescript.JsxEmit.React,lib:["dom"],module:v.languages.typescript.ModuleKind.CommonJS,moduleResolution:v.languages.typescript.ModuleResolutionKind.NodeJs,noEmit:!1,outDir:"dist",resolveJsonModule:!0,rootDir:"/",sourceMap:!0,target:v.languages.typescript.ScriptTarget.ES2015,typeRoots:["node_modules/@types"]}),v.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!0,noSyntaxValidation:!1}),t.files)for(var n in t.files){var r=t.files[n];this.createModel(n,r)}this.initialPath=t.initialPath}return Object(m.a)(e,[{key:"createModel",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.inferLanguage(e);try{t=v.Uri.file(e)}catch(i){throw new Error("Invalid path '".concat(e,"': ").concat(i&&i.message))}if(v.editor.getModel(t))throw new Error("Cannot create file because it exists '".concat(e,"'"));return v.editor.createModel(n,r,t)}},{key:"focusHref",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getModelByHref(e);n&&this.focusModel(n,t)}},{key:"focusModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.editor&&(this.editor.setModel(e),t.lineNumber&&(this.editor.revealLineInCenter(t.lineNumber,v.editor.ScrollType.Smooth),this.editor.setPosition({column:t.columnNumber||0,lineNumber:t.lineNumber})),t.markers&&v.editor.setModelMarkers(e,"editorManager",t.markers),this.editor.focus())}},{key:"focusPath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getModelByPath(e);n&&this.focusModel(n,t)}},{key:"getModelByHref",value:function(e){try{var t=v.Uri.parse(e);return v.editor.getModel(t)}catch(n){return null}}},{key:"getModelByPath",value:function(e){return v.editor.getModel(v.Uri.file(e))}},{key:"mount",value:function(e){var t=this;if(this.editor)throw new Error("Invariant violation: Editor already mounted");return this.editor=v.editor.create(e,{model:null,automaticLayout:!0,minimap:{enabled:!1},showUnused:!0,scrollBeyondLastLine:!1,theme:"vs",wordWrap:"bounded",wrappingIndent:"same"}),this.editor.onDidDispose((function(){t.editor=null})),this.editor.onDidChangeModel((function(e){if(e.newModelUrl&&t.editor){var n=v.editor.getModel(e.newModelUrl),r=t.viewState.get(n);r&&t.editor.restoreViewState(r)}})),this.editor.onDidBlurEditorText((function(){if(t.editor){var e=t.editor.getModel(),n=t.editor.saveViewState();e&&n&&t.viewState.set(e,n)}})),this.disposableStore.add(this.editor),this.initialPath&&this.focusPath(this.initialPath),this.editor}},{key:"inferLanguage",value:function(e){return e.match(/\.(?:tsx?|jsx?)$/)?"typescript":void 0}},{key:"dispose",get:function(){return this.disposableStore.dispose}},{key:"onDidChange",get:function(){return this.onDidChangeEmitter.event}},{key:"onWillFocusModel",get:function(){return this.onWillFocusModelEmitter.event}}]),e}(),y=Object(r.createContext)(void 0);var w=function(e){var t=e.className,n=Object(r.useRef)(null),a=Object(r.useContext)(y);return Object(r.useEffect)((function(){if(n.current){var e=a.mount(n.current);return function(){e.dispose()}}}),[a,n]),i.a.createElement("div",{className:t,ref:n},i.a.createElement("div",null))},x=Object(c.a)(w,{target:"e1ud1fz20"})(""),j=n(355);var O,E=Object(c.a)("div",{target:"e12nrcxh0"})("z-index:1;position:absolute;top:0;width:",(function(e){return e.total?"".concat(Math.round(100*e.completed/e.total),"%"):0}),";left:0;height:",(function(e){return e.total?"2px":"0"}),";background-color:#008cba;transition:width 0.5s 0s cubic-bezier(0.455,0.03,0.515,0.955);"),k=Object(c.a)("div",{target:"e12nrcxh1"})({name:"82o815",styles:"position:relative;overflow:hidden;& > iframe{position:absolute;top:0;right:0;bottom:0;left:0;border:none;width:100%;height:100%;}"}),C=Object(c.a)("div",{target:"e12nrcxh2"})("position:relative;background:white;",k,"{position:absolute;top:0;right:0;bottom:0;left:0;}"),S=Object(c.a)("ul",{target:"e12nrcxh3"})({name:"592wbr",styles:"margin:0;padding:1em 2em;font-family:monospace;font-size:16px;background-color:rgba(255,0,0,0.5);backdrop-filter:brightness(50%);color:white;list-style:none;"}),A=Object(c.a)("li",{target:"e12nrcxh4"})("white-space:pre-wrap;opacity:",(function(e){return e.isInternal?.7:1}),";"),M=Object(c.a)("div",{target:"e12nrcxh5"})({name:"owwzlj",styles:"z-index:1;position:absolute;bottom:0;right:0;left:0;display:flex;flex-direction:column-reverse;"}),P=function(e){var t=e.line;return i.a.createElement(A,{isInternal:t.isInternal},t.text)},D=function(e){var t=e.message;return t.lines.length?i.a.createElement(S,null,t.lines.map((function(e,t){return i.a.createElement(P,{key:t,line:e})}))):null},I=function(e){var t=Object(r.useContext)(y),n=Object(r.useRef)(null),a=Object(r.useRef)(null),o=Object(r.useState)({state:"initial"}),c=Object(f.a)(o,2),s=c[0],l=c[1],u=Object(r.useState)({completed:0,total:0}),d=Object(f.a)(u,2),h=d[0],p=d[1];return Object(r.useEffect)((function(){var e=function(e){a.current&&a.current.contentWindow===e.source&&"click_error"===e.data.event&&t.focusPath(g.d.parse(e.data.entry.file).fsPath,{columnNumber:e.data.entry.column,lineNumber:e.data.entry.line})};return window.addEventListener("message",e),function(){return window.removeEventListener("message",e)}})),Object(r.useEffect)((function(){var e=Object(j.a)(v);return e.onStateChange((function(e){switch(l(e),e.state){case"building":p({completed:e.completed,total:e.completed+e.pending});break;case"built":console.debug("Rebuild finished, build latency: %d, end-to-end latency: %d",e.end-e.start,Date.now()-e.start);var t=document.createElement("iframe");t.style.display="none",t.src=e.href,n.current&&n.current.appendChild(t);var r=function(){t.removeEventListener("error",i),t.style.display="",a.current&&a.current.remove(),a.current=t},i=function(){t.removeEventListener("load",r),t.remove()};t.addEventListener("load",r,{once:!0}),t.addEventListener("error",i,{once:!0})}})),function(){e.dispose()}}),[p,l]),i.a.createElement(C,{className:e.className},"building"===s.state?i.a.createElement(E,{completed:h.completed,total:h.total}):null,i.a.createElement(k,{ref:n}),i.a.createElement(M,null,"error"===s.state?i.a.createElement(D,{message:{lines:[{isInternal:!0,text:s.error.message}]}}):null))},q=Object(c.a)(I,{target:"e12nrcxh6"})(""),N=n(553),R=n(203);!function(e){e.Directory="directory",e.File="file"}(O||(O={}));var _=Object(c.a)("div",{target:"eb6iszj0"})("background-color:",(function(e){return e.modelFocused?"#008cba":"inherit"}),";text-decoration:none;color:",(function(e){return e.modelFocused?"#fff":"#262626"}),";height:25px;padding:0 0 0 8px;display:flex;flex-direction:row;align-items:center;& > span{flex:1;}& > button{display:none;}&:hover > button{display:block;}",(function(e){return e.modelFocused?{":hover":{color:"#f5f5f5",cursor:"pointer"}}:{":hover":{backgroundColor:"#eee",color:"#262626",cursor:"pointer"}}}),""),U=Object(c.a)("div",{target:"eb6iszj1"})({name:"17pjlpu",styles:"text-decoration:none;color:'#262626';height:25px;padding:0 0 0 8px;display:flex;align-items:center;:hover{background-color:#eee;cursor:pointer;}"}),z=Object(c.a)(N.a,{target:"eb6iszj2"})({name:"aa0e1b",styles:"border:none;background:none;:hover{cursor:pointer;}"}),T=Object(c.a)("div",{target:"eb6iszj3"})({name:"1rclmj6",styles:"font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;background-color:#333;color:#fff;border-radius:4px;opacity:0.9;padding:0.2em 0.4em;"}),B=function(e){var t=e.className,n=e.model,a=function(){var e=Object(r.useContext)(y),t=Object(r.useState)(e.editor?e.editor.getModel():null),n=Object(f.a)(t,2),i=n[0],a=n[1];return Object(r.useEffect)((function(){var t=new g.a,n=function(e){e.onDidChangeModel((function(e){var t=e.newModelUrl?v.editor.getModel(e.newModelUrl):null;a(t)})),t.add(e.onDidBlurEditorText((function(){a(null)}))),t.add(e.onDidFocusEditorText((function(){a(e.getModel())}))),e.hasTextFocus()&&a(e.getModel())};return t.add(v.editor.onDidCreateEditor(n)),e.editor&&n(e.editor),function(){return t.dispose()}}),[e.editor,i]),i}(),o=Object(r.useContext)(y),c=Object(u.b)({gutter:0});return i.a.createElement(_,{className:t,modelFocused:n===a},i.a.createElement("span",{onClick:function(){return o.focusModel(n)}},n.uri.fsPath.slice(1)),i.a.createElement(d.a,Object.assign({},c,{as:z,onClick:function(){n.dispose()}}),i.a.createElement("span",{role:"img","aria-label":"Delete file"},"\u274c")),i.a.createElement(h.a,Object.assign({},c,{as:T}),"Delete file"))},F=function(e){var t=function(e){var t=e.toString(!0).replace(/\/?$/,"/"),n=function(e){return Object(R.a)(e).sort((function(e,t){return e.uri.fsPath>t.uri.fsPath?1:-1}))},i=n(v.editor.getModels().reduce((function(e,n){var r=n.uri.toString(!0);if(r.startsWith(t)){var i=r.slice(t.length),a=i.indexOf("/");if(0===a)throw new Error("Invariant error: WAT?");if(a>0){var o=v.Uri.parse("".concat(t).concat(i.slice(0,a+1)));e.push({type:O.Directory,uri:o})}else e.push({type:O.File,uri:n.uri,model:n})}return e}),[])),a=Object(r.useState)(i),o=Object(f.a)(a,2),c=o[0],s=o[1];return Object(r.useEffect)((function(){var t=new g.a,r=e.toString(!0).replace(/\/?$/,"/");return t.add(v.editor.onDidCreateModel((function(e){var t=e.uri.toString(!0);if(t.startsWith(r)){var i=t.slice(r.length),a=i.indexOf("/");if(0===a)throw new Error("Invariant error: WAT?");if(a>0){var o=v.Uri.parse("".concat(r).concat(i.slice(0,a))),l=c.find((function(e){return e.uri.toString(!0)===o.toString(!0)}));if(l){if(l.type!==O.Directory)throw new Error("Invariant violation: A file in '".concat(r,"' conflicts with the path of the new file '").concat(t,"'"));return}return c.push({type:O.Directory,uri:o}),s(n(c))}c.find((function(t){return t.type===O.File&&t.uri.toString(!0)===e.uri.toString(!0)}))||(c.push({type:O.File,uri:e.uri,model:e}),s(n(c)))}}))),t.add(v.editor.onWillDisposeModel((function(e){var t=c.findIndex((function(t){return t.type===O.File&&t.model===e}));if(-1===t)throw new Error("Invariant violation: Removing an untracked model: '".concat(e.uri.fsPath,"'"));c.splice(t,1),s(n(c))}))),function(){return t.dispose()}}),[c,e]),c}(Object(r.useRef)(v.Uri.file("/")).current),n=Object(r.useContext)(y);return i.a.createElement("div",{className:e.className},t.map((function(e){return e.type===O.Directory?i.a.createElement("div",null,e.uri.fsPath.slice(1)):i.a.createElement(B,{key:e.uri.toString(!0),model:e.model})})),i.a.createElement(U,{onClick:function(){return function(){var e=prompt("Filename?");e&&n.createModel(e)}()}},"Create..."))},W=Object(c.a)(F,{target:"eb6iszj4"})({name:"j7qwjs",styles:"display:flex;flex-direction:column;"}),L=function(e){var t=e.className,n=e.initialPath,r=e.project,a=new b({files:r,initialPath:n});return i.a.createElement("div",{className:t},i.a.createElement(y.Provider,{value:a},i.a.createElement(W,null),i.a.createElement(x,null),i.a.createElement(q,null)))},H=Object(c.a)(L,{target:"eqz1fxr0"})("display:flex;flex-direction:row;font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;color:#222;",W,"{flex:1 1 100px;min-width:100px;max-width:400px;border-right:1px solid #ccc;}",x,"{border-right:1px solid #ccc;}",x,",",q,"{flex:10;}"),V={"package.json":JSON.stringify({name:"react-template",version:"0.0.0",dependencies:{"github-markdown-css":"^3.0.1",react:"^16.9.0","react-dom":"^16.9.0"}},null,2)+"\n","App.jsx":"\nimport React, { Component } from 'react';\nimport 'github-markdown-css';\n\nimport { Explanation } from './explanation';\nimport './style.css';\n\nclass App extends Component {\n  render() {\n    return <div className=\"markdown-body\">\n      <h1>Velcro Playground</h1>\n      <blockquote>Example of \ud83d\udcaf % browser module loading and bundling.</blockquote>\n      <Explanation/>\n    </div>;\n  }\n}\n\nexport default App\n  ".trim(),"explanation.jsx":'\nimport React from \'react\';\n\nexport const Explanation = () => <>\n  <section>\n    <h2>Give it a try</h2>\n    <p>Here\'s what you should try:</p>\n    <ul>\n      <li>\u270d\ufe0f Change any of the code you see.</li>\n      <li>\ud83d\udce6 Change any of the dependencies versions or introduce your own in the <code>package.json</code> file.</li>\n      <li>\ud83d\udc84 Try writing some css, or maybe making a TypeScript file...</li>\n      <li>\ud83d\udd75\ud83c\udffc\u200d\u2642\ufe0f Checking out the action in the network tab of Developer Tools or seeing the generated source maps in the sources tab.</li>\n    </ul>\n  </section>\n  <section>\n    <h2>How does it work</h2>\n    <p>\n      Velcro is a fully web-based dependency resolver, loader and bundler. In this playground, it has been configured to treat files\n      in the editor as being at <code>file://</code>, and npm modules as being at <code>https://cdn.jsdelivr.net</code>. Inter-module\n      dependencies are all resolved to satisfy the requested ranges and are loaded at maximum concurrency from jsDelivr.\n    </p>\n    <p>\n      As each file is resolved and read, it is run through a series of plugin hooks that are heavily inspired by Rollup.\n      Each hook has a default fallback implementation that allows us to resolve, load and transform individual files.\n      In the playground, Velcro has been configured with a css plugin and a <a href="https://github.com/alangpierce/sucrase" target="blank" rel="noopener">sucrase</a>\n      plugin (for ESM and TypeScript).\n    </p>\n    <p>\n      After processing each individual file, we parse it so that its AST can be traversed to:\n    </p>\n    <ul>\n      <li>Calculate scope metadata and identifier bindings</li>\n      <li>Identify calls to <code>require</code></li>\n      <li>Identify calls Node.js global objects so that shims can be injected</li>\n      <li>Prune branches based on <code>process.env.NODE_ENV</code></li>\n    </ul>\n    <p>\n      This work allows us to build out a full dependency graph of modules. This graph has information about\n      every url consulted at each step of the process, so small parts of it can be efficiently invalidated.\n      Once the graph is complete, it can be serialized into a bundle of JavaScript code. At this point, we\n      can decide if we want to include source maps or not.\n    </p>\n    <p>\n      The bundled code is written to browser-internal storage using the <code>File</code> API and an\n      <code>iframe</code> is constructed dynamically that links to this. Every new generation of bundle\n      will cause the <code>iframe</code> to be replaced.\n    </p>\n  </section>\n</>;\n    '.trim()+"\n","index.jsx":"\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n  \nReactDOM.render(\n  <App/>,\n  document.getElementById('root')\n);\n      ".trim()+"\n","style.css":"\n.markdown-body {\n  box-sizing: border-box;\n  min-width: 200px;\n  max-width: 980px;\n  margin: 0 auto;\n  padding: 45px;\n}\n\n@media (max-width: 767px) {\n  .markdown-body {\n    padding: 15px;\n  }\n}\n    ".trim()+"\n"},J=i.a.createContext(void 0);function $(e){var t=i.a.useState(null),n=Object(f.a)(t,2),r=n[0],a=(n[1],i.a.useState(!1)),o=Object(f.a)(a,2),c=o[0],s=(o[1],i.a.useState(!1)),l=Object(f.a)(s,2),u=l[0],d=(l[1],i.a.useMemo((function(){return{assetsUpdateReady:c,assetsCached:u,updateAssets:function(){r&&(r.addEventListener("statechange",(function(e){e.target&&"activated"===e.target.state&&window.location.reload()})),r.postMessage({type:"SKIP_WAITING"}))}}}),[c,u,r]));return i.a.createElement(J.Provider,Object.assign({value:d},e))}var G=Object(c.a)("div",{target:"e1qgp6ih0"})("background:white;color:#666;display:flex;flex-direction:column;",H,"{border-bottom:1px solid #ccc;flex:1;}"),K=Object(c.a)("span",{target:"e1qgp6ih1"})({name:"1u2uh69",styles:"display:inline-flex;flex-direction:row;align-items:center;"}),Z=(Object(c.a)("div",{target:"e1qgp6ih3"})({name:"1rclmj6",styles:"font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;background-color:#333;color:#fff;border-radius:4px;opacity:0.9;padding:0.2em 0.4em;"}),Object(c.a)("div",{target:"e1qgp6ih4"})("display:flex;flex-direction:row;font-size:90%;height:24px;padding:0 0.5em;",K,"{margin-left:0.5em;margin-right:0.5em;}")),Y=Object(c.a)("div",{target:"e1qgp6ih5"})("width:100%;min-width:200px;max-width:80vw;margin:0 auto;padding:0 0 45px 0;@media (max-width:960px){padding:0 15px 15px 15px;max-width:initial;}display:flex;flex-direction:column;",G,"{flex:1;background:#f5f5f5;border-radius:2px;box-shadow:0 10px 20px rgba(0,0,0,0.19),0 6px 6px rgba(0,0,0,0.23);",Z,"{}}"),Q=Object(c.a)("div",{target:"e1qgp6ih6"})({name:"v5adw0",styles:"font-family:'Raleway',sans-serif;font-size:250%;font-weight:800;font-variant:small-caps;font-variant-caps:small-caps;color:#00bfff;"}),X=Object(c.a)("div",{target:"e1qgp6ih7"})({name:"1vgndle",styles:"color:#ddd;font-size:120%;font-weight:400;"}),ee=Object(c.a)("a",{target:"e1qgp6ih8"})({name:"1ew3f0",styles:"color:white;text-decoration:none;:hover{text-decoration:underline;}"}),te=Object(c.a)("div",{target:"e1qgp6ih9"})("display:flex;flex-direction:row;& > *:not(:last-child):after{padding:0 0.5em;content:'\uff5c';color:#aaa;text-decoration:none;}",ee,"{color:#ccc;}"),ne=Object(c.a)("div",{target:"e1qgp6ih10"})("display:flex;flex-direction:row;align-items:baseline;padding:0.8em 0 0.3em 0;text-shadow:#000 1px 1px 5px;",Q,"{margin-right:0.5em;}",X,"{margin-right:0.5em;}",te,"{flex:1;justify-content:flex-end;}"),re=Object(s.c)("@import url('https://fonts.googleapis.com/css?family=Raleway:900&display=swap');*,*::before,*::after{box-sizing:border-box;}html,body{margin:0;padding:0;min-height:100vh;font-family:Open Sans,Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.4;background:#333;color:#fff;display:flex;flex-direction:column;#root{flex:1;display:flex;flex-direction:column;",Y,"{flex:1;}}}"),ie=function(){return i.a.createElement($,null,i.a.createElement(l.a,null),i.a.createElement(Y,null,i.a.createElement(s.a,{styles:re}),i.a.createElement(ne,null,i.a.createElement(Q,null,"Velcro"),i.a.createElement(X,null,"The client-side bundler and playground"),i.a.createElement(te,null,i.a.createElement("div",null,i.a.createElement(ee,{href:"https://twitter.com/filearts",target:"_blank",rel:"nofollow noreferrer"},"@filearts")),i.a.createElement("div",null,i.a.createElement(ee,{href:"https://github.com/ggoodman/velcro",target:"_blank",rel:"nofollow noreferrer"},"View on GitHub")))),i.a.createElement(G,null,i.a.createElement(H,{project:V,initialPath:"index.jsx"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),o.a.render(i.a.createElement(ie,null),document.getElementById("root"))}},[[362,2,3]]]);
//# sourceMappingURL=main.152755e2.chunk.js.map