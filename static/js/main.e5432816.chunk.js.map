{"version":3,"sources":["../../resolver/dist/dist-browser/index.js","../../bundler/dist/dist-browser/index.js","../../resolver-host-unpkg/dist/dist-browser/index.js","../../resolver-host-compound/dist/dist-browser/index.js","lib/typeAcquisition.ts","lib/error.ts","lib/ResolverHostMonaco.ts","lib/ResolverHostWithCache.ts","lib/EditorManager.ts","components/Editor.tsx","lib/hooks.ts","components/Preview.tsx","components/Sidebar.tsx","components/App.tsx","serviceWorker.ts","index.tsx"],"names":["_regeneratorRuntime","_asyncToGenerator","_slicedToArray","_toConsumableArray","_possibleConstructorReturn","_getPrototypeOf","_assertThisInitialized","_inherits","_wrapNativeSuper","_classCallCheck","_createClass","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","exports","isValidPackageJson","json","hasInvalidOptionalStringField","error","browser","concat","hasInvalidBrowserField","hasInvalidDependenciesField","field","undefined","every","ResolvedEntryKind","CHAR_DOT","CHAR_FORWARD_SLASH","TRAILING_SLASH_RX","ensureTrailingSlash","pathname","replace","parseBufferAsPackageJson","decoder","content","spec","text","JSON","parse","err","Error","message","parseTextAsPackageJson","decode","getFirstPathSegmentAfterPrefix","child","parent","childHref","parentHref","parentOffset","charAt","href","slice","validateString","value","name","TypeError","basename","path","ext","start","end","matchedSlash","extIdx","firstNonSlashEnd","code","charCodeAt","isPathSeparator","extname","startDot","startPart","preDotState","dirname","len","rootEnd","offset","j","last","resolve","resolvedPath","resolvedAbsolute","allowAboveRoot","separator","res","lastSegmentLength","lastSlash","dots","lastSlashIndex","lastIndexOf","normalizeString","util","freeze","__proto__","join","initialSegment","segment","startsWith","endsWith","errorHandler","ErrorHandler","this","listeners","unexpectedErrorHandler","e","setTimeout","stack","listener","_this","_removeListener","splice","indexOf","newUnexpectedErrorHandler","emit","onUnexpectedError","CanceledError","_ExtendableError","_Error","ExtendableError","_this2","call","constructor","captureStackTrace","combinedDisposable","_len2","disposables","Array","_key2","dispose","_dispose","first","_len","rest","_key","isArray","d","DisposableStore","_toDispose","Set","_isDisposed","clear","item","t","console","warn","add","Disposable","_store","None","FIN","done","Node","element","next","Undefined","prev","Event","LinkedList","_first","_last","_size","_insert","atTheEnd","_this3","newNode","oldLast","oldFirst","didRemove","_remove","node","anchor","result","get","_disposable","_once","event","thisArgs","didFire","_map","map","snapshot","_forEach","each","_filter","_reduce","merge","initial","output","emitter","Emitter","onFirstListenerAdd","fire","onLastListenerRemove","_latch","cache","firstCall","shouldEmit","once","signal","any","_len3","events","_key3","reduce","debounce","subscription","delay","leading","leakWarningThreshold","handle","numDebouncedCalls","cur","clearTimeout","_output","stopwatch","Date","getTime","_","latch","buffer","nextTick","flush","onFirstListenerDidAdd","ChainableEvent","fn","chain","fromNodeEventEmitter","eventName","id","on","removeListener","fromPromise","promise","then","toPromise","Promise","c","_globalLeakWarningThreshold","LeakageMonitor","customThreshold","Math","random","toString","_warnCountdown","_stacks","listenerCount","_this4","threshold","Map","split","count","set","topStack","topCount","options","_disposed","_options","_leakageMon","_listeners","_deliveryQueue","iter","iterator","size","_this$_deliveryQueue$","shift","_this$_deliveryQueue$2","_event","_this5","firstListener","isEmpty","removeMonitor","remove","onListenerDidAdd","check","_noop","CancellationToken","shortcutEvent","callback","context","bind","isCancellationToken","thing","Cancelled","MutableToken","isCancellationRequested","onCancellationRequested","_isCancelled","_emitter","CancellationTokenSource","_token","_parentListener","cancel","requestIdleCallback","cancelIdleCallback","didTimeout","timeRemaining","Decoder","TextDecoder","buf","str","Buffer","from","EntryNotFoundError","_ExtendableError$","url","_this7","_Error2","ExtendableError$1","_this6","AbstractResolverHost","_resolver","TRAILING_SLASH_RX$1","Resolver","host","extensions","defaultExtensions","packageMain","_resolve","mark","_callee","token","tokenSource","optionsWithDefaults","canonicalUrlPromise","_ref","_ref2","canonicalUrl","rootUrl","rootHref","rootHrefWithoutTrailingSlash","canonicalHref","resolvedUrl","_args","wrap","_context","URL","t0","ignoreBrowserOverrides","getCanonicalUrl","all","getResolveRoot","sent","resolveAsDirectory","t1","resolveAsFile","abrupt","ignored","stop","_x","_resolveAsDirectory","_callee2","_ref3","_ref4","entries","mainPathname","packageJsonEntry","packageJsonContent","packageJson","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","mainUrl","_context2","listEntries","find","entry","readFileContent","Symbol","return","finish","_x2","_x3","_resolveAsFile","_callee3","parentPackageJson","browserOverrides","browserMap","packageJsonDir","impliedUrl","targetSpec","containingUrl","filename","entryDirectoryMap","entryFileMap","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","_entry","childFilename","_childFilename","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","mapping","_match","match","_context3","includes","readParentPackageJson","t2","type","File","Directory","t3","t4","_x4","_x5","_readParentPackageJson","_callee5","hostRootUrl","hostRootHref","containingDirUrl","readPackageJsonOrRecurse","_this8","_args5","_context5","_ref5","_callee4","dir","parentPackageJsonContent","parentDir","_context4","_x7","_x6","factory","isPromiseCanceledError","chars","encode","decoded","sourceFileIndex","sourceCodeLine","sourceCodeColumn","nameIndex","mappings","line","generatedCodeColumn","lineMappings","_i","line_1","segmentMappings","encodeInteger","num","clamped","Chunk","original","intro","outro","storeName","edited","previous","writable","prototype","appendLeft","appendRight","clone","chunk","contains","index","eachNext","eachPrevious","edit","contentOnly","prependLeft","prependRight","sliceIndex","originalBefore","originalAfter","newChunk","trimEnd","rx","trimmed","trimStart","btoa","window","unescape","encodeURIComponent","SourceMap","properties","version","file","sources","sourcesContent","names","guessIndent","lines","tabbed","test","spaced","min","current","numSpaces","exec","Infinity","getRelativePath","to","fromParts","toParts","pop","stringify","toUrl","isObject","getLocator","originalLines","lineOffsets","pos","m","column","Mappings","hires","generatedCodeLine","raw","rawSegments","pending","addEdit","sourceIndex","loc","advance","addUneditedChunk","sourcemapLocations","originalCharIndex","n","warned","insertLeft","insertRight","MagicString","string","firstChunk","lastChunk","lastSearchedChunk","byStart","byEnd","indentExclusionRanges","storedNames","indentStr","addSourcemapLocation","char","append","_split","cloned","originalChunk","clonedChunk","nextOriginalChunk","nextClonedChunk","generateDecodedMap","this$1","locate","includeContent","generateMap","getIndentString","indent","pattern","isExcluded","exclude","exclusion","shouldIndentNextCharacter","indentStart","replacer","charIndex","_splitChunk","insert","move","oldLeft","oldRight","newRight","newLeft","overwrite","prepend","lastChar","lastLine","lineIndex","substr","lineStr","startChunk","containsEnd","sliceStart","sliceEnd","snip","searchForward","trim","trimLines","charType","trimEndAborted","RegExp","aborted","trimStartAborted","hasOwnProp","hasOwnProperty","Bundle","uniqueSources","uniqueSourceIndexByFilename","addSource","option","uniqueSource","bundle","magicString","indentStringCounts","sort","a","b","trailingNewline","body","some","RELATE_PATH_RX","SPEC_RX","isBareModuleSpecifier","maybeParseBareModuleSpec","matches","nameSpec","parseBareModuleSpec","parsed","SOURCEMAPPING_URL","getSourceMappingUrl","substring","Asset","dependencies","sourceMappingUrl","_asset$dependencies","asset","setCode","DependencyKind","charToInteger","chars$1","integer","String","fromCharCode","hasContinuationBit","shouldNegate","encode$1","encodeInteger$1","defaults","assign","create","decodeSourceMap","OriginalSource","Url","parentRegex","isAbsoluteUrl","uniqInStr","uniq","stripPathFilename","normalizePath","normalizeProtocolRelative","input","absoluteBase","protocol","normalizeSimplePath","total","uniqDirectory","search","repeat","leftover","base","joined","relative","resolve$1","binarySearch","haystack","needle","comparator","low","high","mid","cmp","FastStringArray","indexes","array","SourceMapTree","_this$map","rootMappings","rootNames","_i2","segments","tracedSegments","traced","traceSegment","_traced$source","put","_this$map2","segmentComparator","stripFilename","asArray","buildSourceMapTree","loader","relativeRoot","maps","_i3","sourceRoot","children","sourceFile","uri","sourceMap","sourceContent","tree","_i4","SourceMap$1","excludeContent","remapping","graph","traceMappings","ErrorHandler$1","errorHandler$1","onUnexpectedError$1","isPromiseCanceledError$1","CanceledError$1","dispose$1","_len4","_key4","combinedDisposable$1","_len5","_key5","DisposableStore$1","Disposable$1","FIN$1","Node$1","LinkedList$1","Event$1","_once2","_map3","_forEach2","_filter2","_reduce2","Emitter$1","_latch2","_len6","_key6","_globalLeakWarningThreshold$1","LeakageMonitor$1","_this9","_this$_deliveryQueue$3","_this$_deliveryQueue$4","_event2","_this10","shortcutEvent$1","MutableToken$1","CancellationTokenSource$1","ExtendableError$2","_Error3","_this11","_ExtendableError$2","_this12","commonjsGlobal","globalThis","global","self","createCommonjsModule","module","base64","_Base64","Base64","eval","b64chars","b64tab","bin","l","cb_utob","cc","re_utob","utob","u","cb_encode","ccc","padlen","ord","_encode","Uint8Array","urisafe","m0","encodeURI","re_btou","cb_btou","cccc","btou","cb_decode","_atob","atob","_decode","noConflict","VERSION","fromBase64","toBase64","__buffer__","noEnum","v","configurable","extendString","base64_1","BARE_MODULE_PREFIX","NODE_CORE_SHIMS","shims","coreLibName","resolveBareModuleToUnpkgWithDetails","resolver","parsedSpec","details","resolvedSpecRoot","unresolvedHref","parentUrl","parentPackageInfo","consolidatedDependencies","builtIn","parsedBuiltInSpec","stableUrl","stableRootUrl","resolveResult","packageInfo","bareModule","peerDependencies","devDependencies","versionSpec","isBuiltIn","traverse","ast","ctx","visit","enter","leave","shouldSkip","skip","childKeys","prop","_shouldSkip","skipped","_i5","reservedWords","3","5","6","strict","strictBind","ecma5AndLessKeywords","keywords","keywordRelationalOperator","nonASCIIidentifierStartChars","nonASCIIidentifierChars","nonASCIIidentifierStart","nonASCIIidentifier","astralIdentifierStartCodes","astralIdentifierCodes","isInAstralSet","isIdentifierStart","astral","isIdentifierChar","TokenType","label","conf","keyword","beforeExpr","startsExpr","isLoop","isAssign","prefix","postfix","binop","updateContext","prec","keywords$1","kw","types","regexp","eof","bracketL","bracketR","braceL","braceR","parenL","parenR","comma","semi","colon","dot","question","arrow","template","invalidTemplate","ellipsis","backQuote","dollarBraceL","eq","incDec","logicalOR","logicalAND","bitwiseOR","bitwiseXOR","bitwiseAND","equality","relational","bitShift","plusMin","modulo","star","slash","starstar","_break","_case","_catch","_continue","_debugger","_default","_do","_else","_finally","_for","_function","_if","_return","_switch","_throw","_try","_var","_const","_while","_with","_new","_super","_class","_extends","_export","_import","_null","_true","_false","_in","_instanceof","_typeof","_void","_delete","lineBreak","lineBreakG","isNewLine","ecma2019String","nonASCIIwhitespace","skipWhiteSpace","ref","toString$1","has","obj","propName","wordsRegexp","words","Position","col","SourceLocation","p","getLineInfo","lastIndex","defaultOptions","ecmaVersion","sourceType","onInsertedSemicolon","onTrailingComma","allowReserved","allowReturnOutsideFunction","allowImportExportEverywhere","allowAwaitOutsideFunction","allowHashBang","locations","onToken","onComment","ranges","program","directSourceFile","preserveParens","getOptions","opts","opt","tokens","pushComment","block","startLoc","endLoc","comment","range","SCOPE_TOP","SCOPE_FUNCTION","SCOPE_VAR","SCOPE_ASYNC","SCOPE_GENERATOR","SCOPE_ARROW","SCOPE_SIMPLE_CATCH","SCOPE_SUPER","SCOPE_DIRECT_SUPER","functionFlags","async","generator","BIND_NONE","BIND_VAR","BIND_LEXICAL","BIND_FUNCTION","BIND_SIMPLE_CATCH","BIND_OUTSIDE","Parser","startPos","reserved","reservedStrict","reservedWordsStrict","reservedWordsStrictBind","containsEsc","lineStart","curLine","curPosition","lastTokEndLoc","lastTokStartLoc","lastTokStart","lastTokEnd","initialContext","exprAllowed","inModule","strictDirective","potentialArrowAt","yieldPos","awaitPos","awaitIdentPos","labels","undefinedExports","skipLineComment","scopeStack","enterScope","regexpState","prototypeAccessors","inFunction","inGenerator","inAsync","allowSuper","allowDirectSuper","treatFunctionsAsVar","startNode","nextToken","parseTopLevel","currentVarScope","flags","currentThisScope","treatFunctionsAsVarInScope","currentScope","inNonArrowFunction","extend","plugins","cls","parseExpressionAt","parser","parseExpression","tokenizer","pp","literal","DestructuringErrors","shorthandAssign","trailingComma","parenthesizedAssign","parenthesizedBind","doubleProto","eat","isContextual","eatContextual","expectContextual","unexpected","canInsertSemicolon","insertSemicolon","semicolon","afterTrailingComma","tokType","notNext","expect","raise","checkPatternErrors","refDestructuringErrors","raiseRecoverable","parens","checkExpressionErrors","andThrow","checkYieldAwaitInDefaultParams","isSimpleAssignTarget","expr","expression","pp$1","stmt","parseStatement","list","adaptDirectivePrologue","finishNode","loopLabel","kind","switchLabel","isLet","nextCh","ident","isAsyncFunction","topLevel","starttype","parseBreakContinueStatement","parseDebuggerStatement","parseDoStatement","parseForStatement","parseFunctionStatement","parseClass","parseIfStatement","parseReturnStatement","parseSwitchStatement","parseThrowStatement","parseTryStatement","parseVarStatement","parseWhileStatement","parseWithStatement","parseBlock","parseEmptyStatement","parseExpressionStatement","parseImport","parseExport","maybeName","parseLabeledStatement","isBreak","parseIdent","lab","parseParenExpression","awaitAt","parseFor","init$1","parseVar","declarations","await","parseForIn","init","toAssignable","checkLVal","isAsync","declarationPosition","parseFunction","FUNC_STATEMENT","FUNC_HANGING_STATEMENT","consequent","alternate","argument","discriminant","cases","sawDefault","isCase","exitScope","empty","handler","clause","param","parseBindingAtom","simple","finalizer","i$1","label$1","statementStart","createNewLexicalScope","update","isForIn","left","right","parseMaybeAssign","isFor","decl","parseVarId","FUNC_NULLABLE_ID","statement","allowExpressionBody","initFunction","oldYieldPos","oldAwaitPos","oldAwaitIdentPos","parseFunctionParams","parseFunctionBody","params","parseBindingList","isStatement","oldStrict","parseClassId","parseClassSuper","classBody","hadConstructor","parseClassElement","superClass","constructorAllowsSuper","method","tryContextual","k","noLineBreak","computed","startNodeAt","static","isGenerator","parsePropertyName","allowsDirectSuper","parseClassMethod","parseMethod","parseExprSubscripts","parseExprAtom","checkExport","fNode","declaration","cNode","shouldParseExportStatement","checkVariableExport","specifiers","parseExportSpecifiers","checkUnreserved","local","checkLocalExport","checkPatternExport","pat","list$1","elements","elt","decls","nodes","exported","parseImportSpecifiers","node$1","node$2","imported","statements","isDirectiveCandidate","directive","pp$2","isBinding","toAssignableList","operator","exprList","parseSpread","parseRestBinding","parseObj","close","allowEmpty","allowTrailingComma","elts","parseBindingListItem","elem","parseMaybeDefault","bindingType","checkClashes","declareName","pp$3","checkPropClash","propHash","shorthand","proto","other","noIn","expressions","afterLeftParse","parseYield","ownDestructuringErrors","oldParenAssign","oldTrailingComma","oldShorthandAssign","parseMaybeConditional","parseExprOps","parseMaybeUnary","parseExprOp","leftStartPos","leftStartLoc","minPrec","logical","op","buildBinary","sawUnary","parseAwait","skipArrowSubscripts","parseSubscripts","noCalls","maybeAsyncArrow","parseSubscript","property","parseExprList","parseArrowExpression","callee","tag","quasi","parseTemplate","isTagged","readRegexp","canBeArrow","parseLiteral","regex","parseParenAndDistinguishExpression","parseNew","parseExprImport","parseDynamicImport","errorPos","bigint","val","spreadStart","innerStartPos","innerStartLoc","lastIsComma","parseParenItem","innerEndPos","innerEndLoc","parseParenArrowList","finishNodeAt","par","empty$1","meta","isImport","parseTemplateElement","cooked","tail","curElt","quasis","isAsyncProp","isPattern","parseProperty","parsePropertyValue","paramCount","isArrowFunction","isMethod","isExpression","useStrict","checkParams","nonSimple","isSimpleParamList","oldLabels","allowDuplicates","nameHash","liberal","delegate","pp$4","SyntaxError","raisedAt","pp$5","Scope","var","lexical","functions","scope","redeclared","scope$2","scope$3","Node$2","pp$6","TokContext","isExpr","preserveSpace","override","types$1","b_stat","b_expr","b_tmpl","p_stat","p_expr","q_tmpl","tryReadTemplateToken","f_stat","f_expr","f_expr_gen","f_gen","pp$7","braceIsBlock","prevType","curContext","inGeneratorContext","out","statementParens","allowed","ecma9BinaryProperties","ecma10BinaryProperties","ecma11BinaryProperties","unicodeBinaryProperties","9","10","11","unicodeGeneralCategoryValues","ecma9ScriptValues","ecma10ScriptValues","ecma11ScriptValues","unicodeScriptValues","data","buildUnicodeData","binary","nonBinary","General_Category","Script","Script_Extensions","gc","sc","scx","pp$8","RegExpValidationState","validFlags","unicodeProperties","switchU","switchN","lastIntValue","lastStringValue","lastAssertionIsQuantifiable","numCapturingParens","maxBackReference","groupNames","backReferenceNames","codePointToString","ch","isSyntaxCharacter","isRegExpIdentifierStart","isRegExpIdentifierPart","isControlLetter","isValidUnicode","isCharacterClassEscape","isUnicodePropertyNameCharacter","isUnicodePropertyValueCharacter","isDecimalDigit","isHexDigit","hexToInt","isOctalDigit","reset","unicode","at","s","nextIndex","lookahead","validateRegExpFlags","state","flag","validateRegExpPattern","regexp_pattern","regexp_disjunction","regexp_alternative","regexp_eatQuantifier","regexp_eatTerm","regexp_eatAssertion","regexp_eatAtom","regexp_eatExtendedAtom","lookbehind","noError","regexp_eatQuantifierPrefix","regexp_eatBracedQuantifier","max","regexp_eatDecimalDigits","regexp_eatPatternCharacters","regexp_eatReverseSolidusAtomEscape","regexp_eatCharacterClass","regexp_eatUncapturingGroup","regexp_eatCapturingGroup","regexp_eatAtomEscape","regexp_groupSpecifier","regexp_eatInvalidBracedQuantifier","regexp_eatExtendedPatternCharacter","regexp_eatSyntaxCharacter","regexp_eatGroupName","regexp_eatRegExpIdentifierName","regexp_eatRegExpIdentifierStart","regexp_eatRegExpIdentifierPart","regexp_eatRegExpUnicodeEscapeSequence","regexp_eatBackReference","regexp_eatCharacterClassEscape","regexp_eatCharacterEscape","regexp_eatKGroupName","regexp_eatDecimalEscape","regexp_eatControlEscape","regexp_eatCControlLetter","regexp_eatZero","regexp_eatHexEscapeSequence","regexp_eatLegacyOctalEscapeSequence","regexp_eatIdentityEscape","regexp_eatControlLetter","regexp_eatFixedHexDigits","lead","leadSurrogateEnd","trail","regexp_eatHexDigits","regexp_eatUnicodePropertyValueExpression","regexp_eatUnicodePropertyName","regexp_eatUnicodePropertyValue","regexp_validateUnicodePropertyNameAndValue","regexp_eatLoneUnicodePropertyNameOrValue","nameOrValue","regexp_validateUnicodePropertyNameOrValue","regexp_classRanges","regexp_eatClassAtom","regexp_eatClassEscape","ch$1","regexp_eatClassControlLetter","regexp_eatOctalDigit","n1","n2","Token","pp$9","codePointToString$1","getToken","skipSpace","finishToken","readToken","fullCharCodeAtPos","readWord","getTokenFromCode","skipBlockComment","startSkip","loop","readToken_dot","readNumber","next2","readToken_slash","finishOp","readToken_mult_modulo_exp","tokentype","readToken_pipe_amp","readToken_caret","readToken_plus_min","readToken_lt_gt","readToken_eq_excl","readRadixNumber","readString","escaped","inClass","flagsStart","readWord1","readInt","radix","BigInt","startsWithDot","octal","str$1","val$1","parseInt","parseFloat","readCodePoint","codePos","readHexChar","invalidStringToken","quote","chunkStart","readEscapedChar","INVALID_TEMPLATE_ESCAPE_ERROR","isArrowFunctionExpression","isArrayPattern","isAssignmentPattern","isBinaryExpression","isBlockStatement","isCallExpression","isClassDeclaration","isFunctionDeclaration","isFunctionExpression","isIdentifier","isIfStatement","isLiteral","isMemberExpression","isNodeWithStartAndEnd","isObjectPattern","isProperty","isRestElement","isProgram","isThisExpression","isTryStatement","isVariableDeclaration","isFunction","isStringLiteral","parse$1","parseFile","unboundSymbols","locals","nodeEnv","replacements","requires","requireResolves","_isBlock","_test","scopingAndRequiresVisitor","collectGlobalsVisitor","requireDependencies","requireResolveDependencies","_node","_ref8","_ref7","symbolName","symbolNodes","inTemplateElement","readTmplToken","readInvalidTemplateToken","position","inTemplate","octalStr","word","escStart","esc","visitAndCaptureScoping","visitAndSkipBranches","visitRequires","_parent","isBindingIdentifier","foundBinding","nextParent","declaresArguments","_foundBinding","_nextParent","declaresThis","_unboundSymbols","isScope","isBlockScope","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","declarePattern","_parent2","_nextParent2","_locals","declareFunction","_locals2","_parent3","_nextParent3","_locals3","_locals4","r","memberExpressionMatches","replacement","firstArg","_firstArg","isPropertyOfMemberExpression","isKeyOfProperty","memberParts","_i6","createRuntime","Velcro","aliasesSymbol","for","modulesSymbol","registrySymbol","rootSymbol","Runtime","root","Module","runtime","dependents","alias","import","reject","require","register","seen","removalQueue","moduleToRemove","Queue","onEnqueue","onComplete","assets","pendingCount","resolvedPromise","waiters","_this13","_len7","jobs","_key7","_i7","_jobs","job","releaseWithError","releaseWithSuccess","promiseResolve","promiseReject","_this14","_this15","ExtendableError$3","_Error4","_this16","ResolveError","_ExtendableError$3","fromHref","_this17","RESOLVE_KEY_SEPARATOR","EMPTY_MODULE_HREF","EMPTY_MODULE_CODE","DEFAULT_SHIM_GLOBALS","export","process","Bundler","assetsByHref","assetsByRootHref","pendingResolves","onAssetAddedEmitter","onAssetRemovedEmitter","_generateBundleCode","entrypoints","onCancellation","queue","addedAssets","entrypointsToAssets","idx","assetsToInclude","includedAssets","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_iterator5","_step5","dependency","_asset","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_iterator6","_step6","_dependency","entrypoint","_asset2","bundleCode","sourceMapSuffix","combinedMap","_this18","_args2","onEnqueueAsset","onCompleteAsset","addUnresolved","wait","InjectedGlobal","Require","RequireResolve","exportName","requireEntrypoints","_invalidate","_ref9","combinedUri","_args3","removeAsset","hadAsset","delete","_addUnresolved","_ref10","resolveKey","pendingResolve","addResolving","_x8","_x9","_addResolving","_ref11","resolveWithDetails","addResolved","resolvedHref","_x10","_x11","_x12","_x13","_addResolved","_callee10","_ref12","parsedFile","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_loop","_iterator7","_step7","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_loop2","_iterator8","_step8","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_loop3","_iterator9","_step9","_ref14","_this19","_context10","addAsset","readCode","getParserForFile","_callee6","dependencyAsset","_context6","_callee7","_context7","_ref13","references","shim","_callee8","_context8","existingAsset","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_loop4","_callee9","_context9","_iterator10","_x14","_x15","_x16","_x17","_readCode","_callee11","_ref19","_context11","_x18","_x19","_resolveWithDetails","_callee12","fromUri","_ref20","resolved","bareModuleResolveResult","resolvedUri","_resolvedHref","_context12","ResolveDetailsKind","BareModule","stableHref","stableRootHref","Relative","_x20","_x21","_x22","_uri","yallist","Yallist","head","unshift","removeNode","unshiftNode","pushNode","thisp","walker","forEachReverse","getReverse","mapReverse","acc","reduceReverse","toArray","arr","toArrayReverse","ret","sliceReverse","reverse","er","MAX","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","LRUCache","lc","stale","maxAge","noDisposeOnSet","updateAgeOnGet","forEachStep","hit","isStale","now","h","_del","Entry","_get","expiresAt","mL","allowStale","mA","lC","doUse","diff","lruCache","semver","debug","SemVer","NODE_DEBUG","args","log","SEMVER_SPEC_VERSION","MAX_LENGTH","MAX_SAFE_INTEGER","Number","re","src","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","STAR","loose","includePrerelease","major","minor","patch","prerelease","build","format","valid","clean","compare","compareMain","comparePre","compareIdentifiers","inc","release","identifier","isNaN","version1","version2","v1","v2","defaultResult","numeric","anum","bnum","gt","lt","neq","gte","lte","Comparator","comp","ANY","rcompareIdentifiers","compareLoose","rcompare","rsort","Range","parseRange","isX","toLowerCase","hyphenReplace","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","tb","testSet","satisfies","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","M","pr","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","thisComparator","rangeComparators","rangeComparator","toComparators","maxSatisfying","versions","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","r1","r2","coerce","semver_30","semver_34","EntryNotFoundError$1","isValidEntry","isValidDirectory","isValidFile","files","UNPKG_SPEC_RX","parseUnpkgUrl","signalFromCancellationToken","AbortControllerConstructor","abortController","abort","ResolverHostUnpkg","_AbstractResolverHost","contentCache","byteLength","inflightContentRequests","packageLock","packageEntriesCache","packageJsonCache","fetch","AbortController","_getCanonicalUrl","_ref6","unresolvedSpec","_args7","hostname","readPackageJsonWithCache","_getResolveRoot","_args8","_listEntries","parentEntry","traversalSegments","_args9","readPackageEntriesWithCache","Boolean","_readFileContent","cached","inflight","_args10","redirect","ok","status","arrayBuffer","catch","_readPackageEntriesWithCache","lockKey","lock","packageEntriesCacheForModule","exactMatch","_packageEntries","packageEntries","_args11","readPackageEntries","_readPackageJsonWithCache","packageJsonCacheForModule","_ref17","_ref16","_packageJson","_args12","readPackageJson","_readPackageJson","_callee13","_ref18","manifest","_args13","_context13","_readPackageEntries","_callee14","_args14","_context14","ResolverHostCompound","hosts","PackageEntryKind","HAS_D_TS_EXTENSION","getTypingsModuleSpec","pkgJson","typingsName","typingsRange","TypeAcquirer","resolveBareModule","_onTypeFile","typingsFiles","parentPath","moduleRoot","_listFiles","promises","normalizedMain","main","contents","filePath","typingsModuleSpec","unresolvedUrl","entriesAtPath","pkgJsonPathname","bareModuleUrl","resolvedPkgJson","pkgJsonText","resolvedName","_importAdjacentTypings","_importTypingsFromDefinitelyTyped","specs","importTypesForSpec","importResults","InvariantError","TimeoutError","TranspileError","diagnostics","ResolverHostMonaco","rootUri","Monaco","getModels","model","modelHref","seenDirs","nestedPath","nextDirIdx","getModel","encoder","TextEncoder","getTranspiledValue","getModeId","tryLoadFromWorker","typescript","getTypeScriptWorker","workerFactory","workerClient","getEmitOutput","getSyntacticDiagnostics","emitOutput","syntacticDiagnostics","emitSkipped","fsPath","diagnostic","startPosition","getPositionAt","endPosition","flattenDiagnosticMessageText","messageText","lineNumber","outputFiles","attempt","timeoutMs","race","timeout","getValue","diag","newLine","ResolverHostWithCache","idbPromise","openDB","schemaVersion","upgrade","db","oldVersion","newVersion","transaction","createObjectStore","objectStore","inflightGetCanonicalUrl","inflightGetResolveRoot","inflightListEntries","inflightReadFileContent","loadFn","inflightMap","serialize","deserialize","idb","withTimeout","withCache","duration","EditorManager","bundler","editor","disposableStore","initialPath","typeAcquirer","viewState","WeakMap","onWillFocusModelEmitter","onDidChangeEmitter","typescriptDefaults","setEagerModelSync","setMaximumWorkerIdleTime","setCompilerOptions","allowJs","allowNonTsExtensions","allowSyntheticDefaultImports","baseUrl","checkJs","esModuleInterop","experimentalDecorators","inlineSourceMap","inlineSources","isolatedModules","jsx","JsxEmit","React","jsxFactory","lib","ModuleKind","CommonJS","moduleResolution","ModuleResolutionKind","NodeJs","noEmit","outDir","resolveJsonModule","rootDir","ScriptTarget","ES2015","typeRoots","setDiagnosticsOptions","noSemanticValidation","noSyntaxValidation","createModel","onDidCreateModel","onDidChangePackageJson","typescriptVersion","importTypesForSpecs","throttler","ThrottledDelayer","trigger","onDidChangeContent","onTypeFile","addExtraLib","language","inferLanguage","setModel","focus","focusModel","el","automaticLayout","showUnused","scrollBeyondLastLine","theme","onDidDispose","onDidChangeModel","newModelUrl","restoreViewState","onDidBlurEditorText","saveViewState","focusPath","EditorManagerContext","createContext","EntryKind","Editor","className","useRef","editorManager","useContext","useEffect","mount","PreviewIframeWrap","PreviewWrap","PreviewMessageError","PreviewMessages","PreviewMessage","Preview","props","invalidations","previewWrapRef","previewIframeRef","useState","messages","setMessages","disposable","delayer","Delayer","Throttler","queueRefreshPreview","uris","refreshPreview","toInvalidate","invalidate","unresolvedEntrypointHref","resolvedEntrypoint","resolvedEntrypointHref","generateBundleCode","errorWatcher","bundleFile","markup","createObjectURL","htmlUrl","iframe","document","createElement","style","display","appendChild","onload","onerror","onWillDisposeModel","onMessage","payload","addEventListener","removeEventListener","modelFocused","color","cursor","backgroundColor","SidebarFile","activeModel","workbench","setActiveModel","trackEditor","onDidFocusEditorText","hasTextFocus","onDidCreateEditor","useActiveModel","onClick","Sidebar","sortEntries","models","initialEntries","modelUri","setEntries","findIndex","useDirectory","App","project","Provider","location","react","AppWrap","ReactDOM","render","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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G,GAAI,GAAI,IAAK,GAAI,IAAK,GAAI,GAAI,EAAG,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,IAAK,GAAI,IAAK,IAAK,IAAK,IAAK,GAAI,IAAK,KAAM,KAAM,KAAM,IAAK,KAAM,IAAK,EAAG,GAAI,IAAK,GAAI,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,GAAI,IAAK,GAAI,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,KAAM,EAAG,IAAK,KAAM,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,IAAK,KAAM,IAAK,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,KAAM,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,KAAM,GAAI,GAAI,EAAG,GAAI,EAAG,IAAK,GAAI,KAAM,IAAK,GAAI,GAAI,EAAG,EAAG,KAAM,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,KAAM,MAAO,GAAI,KAAM,GAAI,IAAK,EAAG,KAAM,GAAI,KAAM,KAAM,KAEjrDC,sBAAwB,CAAC,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,IAAK,EAAG,KAAM,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,IAAK,EAAG,IAAK,EAAG,EAAG,EAAG,IAAK,GAAI,IAAK,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,IAAK,GAAI,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,GAAI,GAAI,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,EAAG,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,GAAI,EAAG,GAAI,GAAI,EAAG,EAAG,GAAI,GAAI,EAAG,EAAG,IAAK,GAAI,IAAK,EAAG,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,GAAI,GAAI,GAAI,IAAK,EAAG,EAAG,EAAG,GAAI,EAAG,GAAI,GAAI,EAAG,GAAI,IAAK,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAAK,EAAG,MAAO,EAAG,IAAK,EAAG,GAAI,EAAG,GAAI,EAAG,KAAM,EAAG,EAAG,GAAI,EAAG,EAAG,MAAO,EAAG,KAAM,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GAAI,EAAG,IAAK,EAAG,KAAM,GAAI,IAAK,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,EAAG,GAAI,EAAG,EAAG,GAAI,KAAM,EAAG,EAAG,GAAI,EAAG,EAAG,EAA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","file":"static/js/main.e5432816.chunk.js","sourcesContent":["var _defineProperty = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _regeneratorRuntime = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _slicedToArray = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _possibleConstructorReturn = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _assertThisInitialized = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _wrapNativeSuper = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\n\nvar _classCallCheck = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/createClass\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = global || self, factory(global.Velcro = global.Velcro || {}));\n})(this, function (exports) {\n  'use strict';\n\n  (function (ResolvedEntryKind) {\n    ResolvedEntryKind[\"Directory\"] = \"directory\";\n    ResolvedEntryKind[\"File\"] = \"file\";\n  })(exports.ResolvedEntryKind || (exports.ResolvedEntryKind = {}));\n\n  function isValidPackageJson(json) {\n    return typeof json === 'object' && json !== null && !hasInvalidOptionalStringField(json, 'name') && !hasInvalidOptionalStringField(json, 'version') && !hasInvalidBrowserField(json) && !hasInvalidOptionalStringField(json, 'main') && !hasInvalidOptionalStringField(json, 'module') && !hasInvalidOptionalStringField(json, 'jsnext:main') && !hasInvalidOptionalStringField(json, 'unpkg') && !hasInvalidDependenciesField(json, 'dependencies') && !hasInvalidDependenciesField(json, 'devDependencies') && !hasInvalidDependenciesField(json, 'peerDependencies');\n  }\n\n  function hasInvalidBrowserField(json) {\n    var error = '';\n    var browser = json.browser;\n\n    if (browser) {\n      if (typeof browser === 'object') {\n        for (var key in browser) {\n          if (typeof key !== 'string') {\n            error = \"The key \".concat(key, \" of .browser must be a string\");\n            break;\n          }\n\n          if (typeof browser[key] !== 'string' && browser[key] !== false) {\n            error = \"The value \".concat(key, \" of .browser must be a string or false\");\n            break;\n          }\n        }\n      }\n    }\n\n    return error;\n  }\n\n  function hasInvalidOptionalStringField(json, field) {\n    return json[field] !== undefined && typeof json[field] !== 'string';\n  }\n\n  function hasInvalidDependenciesField(json, field) {\n    return json[field] !== undefined && typeof json[field] === 'object' && json[field] !== null && !Object.keys(json[field]).every(function (key) {\n      return typeof key === 'string' && typeof json[field][key] === 'string';\n    });\n  }\n\n  var CHAR_DOT = 46;\n  /* . */\n\n  var CHAR_FORWARD_SLASH = 47;\n  /* / */\n\n  var TRAILING_SLASH_RX = /\\/?$/;\n\n  function ensureTrailingSlash(pathname) {\n    return pathname.replace(TRAILING_SLASH_RX, '/');\n  }\n\n  function parseBufferAsPackageJson(decoder, content, spec) {\n    try {\n      var text = decoder.decode(content);\n      return parseTextAsPackageJson(text, spec);\n    } catch (err) {\n      throw new Error(\"Error decoding manifest buffer for package \".concat(spec, \": \").concat(err.message));\n    }\n  }\n\n  function parseTextAsPackageJson(text, spec) {\n    var json;\n\n    try {\n      json = JSON.parse(text);\n    } catch (err) {\n      throw new Error(\"Error parsing manifest as json for package \".concat(spec, \": \").concat(err.message));\n    }\n\n    if (!isValidPackageJson(json)) {\n      throw new Error(\"Invalid manifest for the package \".concat(spec));\n    }\n\n    return json;\n  }\n\n  function getFirstPathSegmentAfterPrefix(child, parent) {\n    var childHref = child.pathname;\n    var parentHref = parent.pathname;\n    var parentOffset = parentHref.charAt(parentHref.length - 1) === '/' ? -1 : 0;\n\n    for (var i = 0; i <= childHref.length; i++) {\n      if (i < parentHref.length) {\n        if (childHref.charAt(i) !== parentHref.charAt(i)) {\n          throw new Error(\"The child entry \".concat(child.href, \" does not have the pathname of \").concat(parent.href, \" as a prefix\"));\n        }\n      } else if (i === parentHref.length + parentOffset) {\n        if (childHref.charAt(i) !== '/') {\n          throw new Error(\"The child entry \".concat(child.href, \" does not have the pathname of \").concat(parent.href, \" as a prefix\"));\n        }\n      } else if (childHref.charAt(i) === '/') {\n        return childHref.slice(parentHref.length + 1 + parentOffset, i);\n      }\n    }\n\n    return childHref.slice(parentHref.length + 1 + parentOffset);\n  }\n\n  function validateString(value, name) {\n    if (typeof value !== 'string') {\n      throw new TypeError(\"The '\".concat(name, \"' argument must be of type string but got \").concat(typeof value));\n    }\n  }\n\n  function basename(path, ext) {\n    if (ext !== undefined) {\n      validateString(ext, 'ext');\n    }\n\n    validateString(path, 'path');\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) {\n        return '';\n      }\n\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n\n      for (i = path.length - 1; i >= start; --i) {\n        var code = path.charCodeAt(i);\n\n        if (isPathSeparator(code)) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) {\n        end = firstNonSlashEnd;\n      } else if (end === -1) {\n        end = path.length;\n      }\n\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= start; --i) {\n        if (isPathSeparator(path.charCodeAt(i))) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) {\n        return '';\n      }\n\n      return path.slice(start, end);\n    }\n  }\n\n  function extname(path) {\n    validateString(path, 'path');\n    var start = 0;\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true; // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n\n    var preDotState = 0;\n\n    for (var i = path.length - 1; i >= start; --i) {\n      var code = path.charCodeAt(i);\n\n      if (isPathSeparator(code)) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n\n        continue;\n      }\n\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n\n      if (code === CHAR_DOT) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) {\n          startDot = i;\n        } else if (preDotState !== 1) {\n          preDotState = 1;\n        }\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n    preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n\n    return path.slice(startDot, end);\n  }\n\n  function dirname(path) {\n    validateString(path, 'path');\n    var len = path.length;\n\n    if (len === 0) {\n      return '.';\n    }\n\n    var rootEnd = -1;\n    var end = -1;\n    var matchedSlash = true;\n    var offset = 0;\n    var code = path.charCodeAt(0); // Try to match a root\n\n    if (len > 1) {\n      if (isPathSeparator(code)) {\n        // Possible UNC root\n        rootEnd = offset = 1;\n\n        if (isPathSeparator(path.charCodeAt(1))) {\n          // Matched double path separator at beginning\n          var j = 2;\n          var last = j; // Match 1 or more non-path separators\n\n          for (; j < len; ++j) {\n            if (isPathSeparator(path.charCodeAt(j))) {\n              break;\n            }\n          }\n\n          if (j < len && j !== last) {\n            // Matched!\n            last = j; // Match 1 or more path separators\n\n            for (; j < len; ++j) {\n              if (!isPathSeparator(path.charCodeAt(j))) {\n                break;\n              }\n            }\n\n            if (j < len && j !== last) {\n              // Matched!\n              last = j; // Match 1 or more non-path separators\n\n              for (; j < len; ++j) {\n                if (isPathSeparator(path.charCodeAt(j))) {\n                  break;\n                }\n              }\n\n              if (j === len) {\n                // We matched a UNC root only\n                return path;\n              }\n\n              if (j !== last) {\n                // We matched a UNC root with leftovers\n                // Offset by 1 to include the separator after the UNC root to\n                // treat it as a \"normal root\" on top of a (UNC) root\n                rootEnd = offset = j + 1;\n              }\n            }\n          }\n        }\n      }\n    } else if (isPathSeparator(code)) {\n      // `path` contains just a path separator, exit early to avoid\n      // unnecessary work\n      return path;\n    }\n\n    for (var i = len - 1; i >= offset; --i) {\n      if (isPathSeparator(path.charCodeAt(i))) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) {\n      if (rootEnd === -1) {\n        return '.';\n      } else {\n        end = rootEnd;\n      }\n    }\n\n    return path.slice(0, end);\n  }\n\n  function join(initialSegment) {\n    var pathname = initialSegment;\n\n    for (var i = 0; i < (arguments.length <= 1 ? 0 : arguments.length - 1); i++) {\n      var segment = i + 1 < 1 || arguments.length <= i + 1 ? undefined : arguments[i + 1];\n\n      if (segment.startsWith('/')) {\n        segment = segment.slice(1);\n      }\n\n      if (pathname.endsWith('/')) {\n        pathname += segment;\n      } else {\n        pathname += \"/\".concat(segment);\n      }\n    }\n\n    return pathname;\n  }\n\n  function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path = void 0;\n\n      if (i >= 0) {\n        path = i < 0 || arguments.length <= i ? undefined : arguments[i];\n      } else {\n        break;\n      }\n\n      validateString(path, 'path'); // Skip empty entries\n\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n    } // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n    // Normalize the path\n\n\n    resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute, '/', isPathSeparator);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0) {\n        return '/' + resolvedPath;\n      } else {\n        return '/';\n      }\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  }\n\n  function isPathSeparator(code) {\n    return code === CHAR_FORWARD_SLASH;\n  }\n\n  function normalizeString(path, allowAboveRoot, separator, isPathSeparator) {\n    var res = '';\n    var lastSegmentLength = 0;\n    var lastSlash = -1;\n    var dots = 0;\n    var code = -1;\n\n    for (var i = 0; i <= path.length; ++i) {\n      if (i < path.length) {\n        code = path.charCodeAt(i);\n      } else if (isPathSeparator(code)) {\n        break;\n      } else {\n        code = CHAR_FORWARD_SLASH;\n      }\n\n      if (isPathSeparator(code)) {\n        if (lastSlash === i - 1 || dots === 1) ;else if (lastSlash !== i - 1 && dots === 2) {\n          if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== CHAR_DOT || res.charCodeAt(res.length - 2) !== CHAR_DOT) {\n            if (res.length > 2) {\n              var lastSlashIndex = res.lastIndexOf(separator);\n\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf(separator);\n              }\n\n              lastSlash = i;\n              dots = 0;\n              continue;\n            } else if (res.length === 2 || res.length === 1) {\n              res = '';\n              lastSegmentLength = 0;\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          }\n\n          if (allowAboveRoot) {\n            if (res.length > 0) {\n              res += \"\".concat(separator, \"..\");\n            } else {\n              res = '..';\n            }\n\n            lastSegmentLength = 2;\n          }\n        } else {\n          if (res.length > 0) {\n            res += separator + path.slice(lastSlash + 1, i);\n          } else {\n            res = path.slice(lastSlash + 1, i);\n          }\n\n          lastSegmentLength = i - lastSlash - 1;\n        }\n        lastSlash = i;\n        dots = 0;\n      } else if (code === CHAR_DOT && dots !== -1) {\n        ++dots;\n      } else {\n        dots = -1;\n      }\n    }\n\n    return res;\n  }\n\n  var util =\n  /*#__PURE__*/\n  Object.freeze({\n    __proto__: null,\n    ensureTrailingSlash: ensureTrailingSlash,\n    parseBufferAsPackageJson: parseBufferAsPackageJson,\n    getFirstPathSegmentAfterPrefix: getFirstPathSegmentAfterPrefix,\n    basename: basename,\n    extname: extname,\n    dirname: dirname,\n    join: join,\n    resolve: resolve\n  });\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n  // Avoid circular dependency on EventEmitter by implementing a subset of the interface.\n\n  var ErrorHandler =\n  /*#__PURE__*/\n  function () {\n    function ErrorHandler() {\n      _classCallCheck(this, ErrorHandler);\n\n      this.listeners = [];\n\n      this.unexpectedErrorHandler = function (e) {\n        setTimeout(function () {\n          if (e.stack) {\n            throw new Error(e.message + '\\n\\n' + e.stack);\n          }\n\n          throw e;\n        }, 0);\n      };\n    }\n\n    _createClass(ErrorHandler, [{\n      key: \"addListener\",\n      value: function addListener(listener) {\n        var _this = this;\n\n        this.listeners.push(listener);\n        return function () {\n          _this._removeListener(listener);\n        };\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(e) {\n        this.listeners.forEach(function (listener) {\n          listener(e);\n        });\n      }\n    }, {\n      key: \"_removeListener\",\n      value: function _removeListener(listener) {\n        this.listeners.splice(this.listeners.indexOf(listener), 1);\n      }\n    }, {\n      key: \"setUnexpectedErrorHandler\",\n      value: function setUnexpectedErrorHandler(newUnexpectedErrorHandler) {\n        this.unexpectedErrorHandler = newUnexpectedErrorHandler;\n      }\n    }, {\n      key: \"getUnexpectedErrorHandler\",\n      value: function getUnexpectedErrorHandler() {\n        return this.unexpectedErrorHandler;\n      }\n    }, {\n      key: \"onUnexpectedError\",\n      value: function onUnexpectedError(e) {\n        this.unexpectedErrorHandler(e);\n        this.emit(e);\n      } // For external errors, we don't want the listeners to be called\n\n    }, {\n      key: \"onUnexpectedExternalError\",\n      value: function onUnexpectedExternalError(e) {\n        this.unexpectedErrorHandler(e);\n      }\n    }]);\n\n    return ErrorHandler;\n  }();\n\n  var errorHandler = new ErrorHandler();\n\n  function onUnexpectedError(e) {\n    // ignore errors from cancelled promises\n    if (!isPromiseCanceledError(e)) {\n      errorHandler.onUnexpectedError(e);\n    }\n\n    return undefined;\n  }\n\n  var ExtendableError =\n  /*#__PURE__*/\n  function (_Error) {\n    _inherits(ExtendableError, _Error);\n\n    function ExtendableError(message) {\n      var _this2;\n\n      _classCallCheck(this, ExtendableError);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError).call(this, message));\n      _this2.name = _this2.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this2), _this2.constructor);\n      } else {\n        _this2.stack = new Error(message).stack;\n      }\n\n      return _this2;\n    }\n\n    return ExtendableError;\n  }(_wrapNativeSuper(Error));\n\n  var CanceledError =\n  /*#__PURE__*/\n  function (_ExtendableError) {\n    _inherits(CanceledError, _ExtendableError);\n\n    function CanceledError() {\n      _classCallCheck(this, CanceledError);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(CanceledError).apply(this, arguments));\n    }\n\n    return CanceledError;\n  }(ExtendableError);\n  /**\r\n   * Checks if the given error is a promise in canceled state\r\n   */\n\n\n  function isPromiseCanceledError(error) {\n    return error instanceof CanceledError;\n  }\n\n  function _dispose(first) {\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    if (Array.isArray(first)) {\n      first.forEach(function (d) {\n        return d && d.dispose();\n      });\n      return [];\n    } else if (rest.length === 0) {\n      if (first) {\n        first.dispose();\n        return first;\n      }\n\n      return undefined;\n    } else {\n      _dispose(first);\n\n      _dispose(rest);\n\n      return [];\n    }\n  }\n\n  function combinedDisposable() {\n    for (var _len2 = arguments.length, disposables = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      disposables[_key2] = arguments[_key2];\n    }\n\n    return {\n      dispose: function dispose() {\n        return _dispose(disposables);\n      }\n    };\n  }\n\n  var DisposableStore =\n  /*#__PURE__*/\n  function () {\n    function DisposableStore() {\n      _classCallCheck(this, DisposableStore);\n\n      this._toDispose = new Set();\n      this._isDisposed = false;\n    }\n    /**\r\n     * Dispose of all registered disposables and mark this object as disposed.\r\n     *\r\n     * Any future disposables added to this object will be disposed of on `add`.\r\n     */\n\n\n    _createClass(DisposableStore, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._isDisposed = true;\n        this.clear();\n      }\n      /**\r\n       * Dispose of all registered disposables but do not mark this object as disposed.\r\n       */\n\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._toDispose.forEach(function (item) {\n          return item.dispose();\n        });\n\n        this._toDispose.clear();\n      }\n    }, {\n      key: \"add\",\n      value: function add(t) {\n        if (this._isDisposed) {\n          console.warn('Registering disposable on object that has already been disposed.');\n          t.dispose();\n        } else {\n          this._toDispose.add(t);\n        }\n\n        return t;\n      }\n    }]);\n\n    return DisposableStore;\n  }();\n\n  var Disposable =\n  /*#__PURE__*/\n  function () {\n    function Disposable() {\n      _classCallCheck(this, Disposable);\n\n      this._store = new DisposableStore();\n    }\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._store.dispose();\n      }\n    }, {\n      key: \"_register\",\n      value: function _register(t) {\n        return this._store.add(t);\n      }\n    }]);\n\n    return Disposable;\n  }();\n\n  Disposable.None = Object.freeze({\n    dispose: function dispose() {}\n  });\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var FIN = {\n    done: true,\n    value: undefined\n  };\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var Node = function Node(element) {\n    _classCallCheck(this, Node);\n\n    this.element = element;\n    this.next = Node.Undefined;\n    this.prev = Node.Undefined;\n  };\n\n  Node.Undefined = new Node(undefined);\n\n  var LinkedList =\n  /*#__PURE__*/\n  function () {\n    function LinkedList() {\n      _classCallCheck(this, LinkedList);\n\n      this._first = Node.Undefined;\n      this._last = Node.Undefined;\n      this._size = 0;\n    }\n\n    _createClass(LinkedList, [{\n      key: \"isEmpty\",\n      value: function isEmpty() {\n        return this._first === Node.Undefined;\n      }\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._first = Node.Undefined;\n        this._last = Node.Undefined;\n        this._size = 0;\n      }\n    }, {\n      key: \"unshift\",\n      value: function unshift(element) {\n        return this._insert(element, false);\n      }\n    }, {\n      key: \"push\",\n      value: function push(element) {\n        return this._insert(element, true);\n      }\n    }, {\n      key: \"_insert\",\n      value: function _insert(element, atTheEnd) {\n        var _this3 = this;\n\n        var newNode = new Node(element);\n\n        if (this._first === Node.Undefined) {\n          this._first = newNode;\n          this._last = newNode;\n        } else if (atTheEnd) {\n          // push\n          var oldLast = this._last;\n          this._last = newNode;\n          newNode.prev = oldLast;\n          oldLast.next = newNode;\n        } else {\n          // unshift\n          var oldFirst = this._first;\n          this._first = newNode;\n          newNode.next = oldFirst;\n          oldFirst.prev = newNode;\n        }\n\n        this._size += 1;\n        var didRemove = false;\n        return function () {\n          if (!didRemove) {\n            didRemove = true;\n\n            _this3._remove(newNode);\n          }\n        };\n      }\n    }, {\n      key: \"shift\",\n      value: function shift() {\n        if (this._first === Node.Undefined) {\n          return undefined;\n        } else {\n          var res = this._first.element;\n\n          this._remove(this._first);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"pop\",\n      value: function pop() {\n        if (this._last === Node.Undefined) {\n          return undefined;\n        } else {\n          var res = this._last.element;\n\n          this._remove(this._last);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"_remove\",\n      value: function _remove(node) {\n        if (node.prev !== Node.Undefined && node.next !== Node.Undefined) {\n          // middle\n          var anchor = node.prev;\n          anchor.next = node.next;\n          node.next.prev = anchor;\n        } else if (node.prev === Node.Undefined && node.next === Node.Undefined) {\n          // only node\n          this._first = Node.Undefined;\n          this._last = Node.Undefined;\n        } else if (node.next === Node.Undefined) {\n          // last\n          this._last = this._last.prev;\n          this._last.next = Node.Undefined;\n        } else if (node.prev === Node.Undefined) {\n          // first\n          this._first = this._first.next;\n          this._first.prev = Node.Undefined;\n        } // done\n\n\n        this._size -= 1;\n      }\n    }, {\n      key: \"iterator\",\n      value: function iterator() {\n        var element;\n        var node = this._first;\n        return {\n          next: function next() {\n            if (node === Node.Undefined) {\n              return FIN;\n            }\n\n            if (!element) {\n              element = {\n                done: false,\n                value: node.element\n              };\n            } else {\n              element.value = node.element;\n            }\n\n            node = node.next;\n            return element;\n          }\n        };\n      }\n    }, {\n      key: \"toArray\",\n      value: function toArray() {\n        var result = [];\n\n        for (var node = this._first; node !== Node.Undefined; node = node.next) {\n          result.push(node.element);\n        }\n\n        return result;\n      }\n    }, {\n      key: \"size\",\n      get: function get() {\n        return this._size;\n      }\n    }]);\n\n    return LinkedList;\n  }();\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var Event;\n\n  (function (Event) {\n    var _disposable = {\n      dispose: function dispose() {}\n    };\n\n    Event.None = function () {\n      return _disposable;\n    };\n    /**\r\n     * Given an event, returns another event which only fires once.\r\n     */\n\n\n    function _once(event) {\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        // we need this, in case the event fires during the listener call\n        var didFire = false;\n        var result;\n        result = event(function (e) {\n          if (didFire) {\n            return;\n          } else if (result) {\n            result.dispose();\n          } else {\n            didFire = true;\n          }\n\n          return listener.call(thisArgs, e);\n        }, null, disposables);\n\n        if (didFire) {\n          result.dispose();\n        }\n\n        return result;\n      };\n    }\n\n    Event.once = _once;\n    /**\r\n     * Given an event and a `map` function, returns another event which maps each element\r\n     * throught the mapping function.\r\n     */\n\n    function _map(event, map) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          return listener.call(thisArgs, map(i));\n        }, null, disposables);\n      });\n    }\n\n    Event.map = _map;\n    /**\r\n     * Given an event and an `each` function, returns another identical event and calls\r\n     * the `each` function per each element.\r\n     */\n\n    function _forEach(event, each) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          each(i);\n          listener.call(thisArgs, i);\n        }, null, disposables);\n      });\n    }\n\n    Event.forEach = _forEach;\n\n    function _filter(event, filter) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (e) {\n          return filter(e) && listener.call(thisArgs, e);\n        }, null, disposables);\n      });\n    }\n\n    Event.filter = _filter;\n    /**\r\n     * Given an event, returns the same event but typed as `Event<void>`.\r\n     */\n\n    function signal(event) {\n      return event;\n    }\n\n    Event.signal = signal;\n    /**\r\n     * Given a collection of events, returns a single event which emits\r\n     * whenever any of the provided events emit.\r\n     */\n\n    function any() {\n      for (var _len3 = arguments.length, events = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        events[_key3] = arguments[_key3];\n      }\n\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return combinedDisposable.apply(void 0, _toConsumableArray(events.map(function (event) {\n          return event(function (e) {\n            return listener.call(thisArgs, e);\n          }, null, disposables);\n        })));\n      };\n    }\n\n    Event.any = any;\n    /**\r\n     * Given an event and a `merge` function, returns another event which maps each element\r\n     * and the cummulative result throught the `merge` function. Similar to `map`, but with memory.\r\n     */\n\n    function _reduce(event, merge, initial) {\n      var output = initial;\n      return _map(event, function (e) {\n        output = merge(output, e);\n        return output;\n      });\n    }\n\n    Event.reduce = _reduce;\n    /**\r\n     * Given a chain of event processing functions (filter, map, etc), each\r\n     * function will be invoked per event & per listener. Snapshotting an event\r\n     * chain allows each function to be invoked just once per event.\r\n     */\n\n    function snapshot(event) {\n      var listener;\n      var emitter = new Emitter({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          listener = event(emitter.fire, emitter);\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          listener.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.snapshot = snapshot;\n\n    function debounce(event, merge) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n      var leading = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var leakWarningThreshold = arguments.length > 4 ? arguments[4] : undefined;\n      var subscription;\n      var output = undefined;\n      var handle = undefined;\n      var numDebouncedCalls = 0;\n      var emitter = new Emitter({\n        leakWarningThreshold: leakWarningThreshold,\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          subscription = event(function (cur) {\n            numDebouncedCalls++;\n            output = merge(output, cur);\n\n            if (leading && !handle) {\n              emitter.fire(output);\n            }\n\n            clearTimeout(handle);\n            handle = setTimeout(function () {\n              var _output = output;\n              output = undefined;\n              handle = undefined;\n\n              if (!leading || numDebouncedCalls > 1) {\n                emitter.fire(_output);\n              }\n\n              numDebouncedCalls = 0;\n            }, delay);\n          });\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          subscription.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.debounce = debounce;\n    /**\r\n     * Given an event, it returns another event which fires only once and as soon as\r\n     * the input event emits. The event data is the number of millis it took for the\r\n     * event to fire.\r\n     */\n\n    function stopwatch(event) {\n      var start = new Date().getTime();\n      return _map(_once(event), function (_) {\n        return new Date().getTime() - start;\n      });\n    }\n\n    Event.stopwatch = stopwatch;\n    /**\r\n     * Given an event, it returns another event which fires only when the event\r\n     * element changes.\r\n     */\n\n    function _latch(event) {\n      var firstCall = true;\n      var cache;\n      return _filter(event, function (value) {\n        var shouldEmit = firstCall || value !== cache;\n        firstCall = false;\n        cache = value;\n        return shouldEmit;\n      });\n    }\n\n    Event.latch = _latch;\n    /**\r\n     * Buffers the provided event until a first listener comes\r\n     * along, at which point fire all the events at once and\r\n     * pipe the event from then on.\r\n     *\r\n     * ```typescript\r\n     * const emitter = new Emitter<number>();\r\n     * const event = emitter.event;\r\n     * const bufferedEvent = buffer(event);\r\n     *\r\n     * emitter.fire(1);\r\n     * emitter.fire(2);\r\n     * emitter.fire(3);\r\n     * // nothing...\r\n     *\r\n     * const listener = bufferedEvent(num => console.log(num));\r\n     * // 1, 2, 3\r\n     *\r\n     * emitter.fire(4);\r\n     * // 4\r\n     * ```\r\n     */\n\n    function buffer(event) {\n      var nextTick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _buffer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      var buffer = _buffer.slice();\n\n      var listener = event(function (e) {\n        if (buffer) {\n          buffer.push(e);\n        } else {\n          emitter.fire(e);\n        }\n      });\n\n      var flush = function flush() {\n        if (buffer) {\n          buffer.forEach(function (e) {\n            return emitter.fire(e);\n          });\n        }\n\n        buffer = null;\n      };\n\n      var emitter = new Emitter({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          if (!listener) {\n            listener = event(function (e) {\n              return emitter.fire(e);\n            });\n          }\n        },\n        onFirstListenerDidAdd: function onFirstListenerDidAdd() {\n          if (buffer) {\n            if (nextTick) {\n              setTimeout(flush, 0);\n            } else {\n              flush();\n            }\n          }\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          if (listener) {\n            listener.dispose();\n          }\n\n          listener = null;\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.buffer = buffer;\n\n    var ChainableEvent =\n    /*#__PURE__*/\n    function () {\n      function ChainableEvent(event) {\n        _classCallCheck(this, ChainableEvent);\n\n        this.event = event;\n      }\n\n      _createClass(ChainableEvent, [{\n        key: \"map\",\n        value: function map(fn) {\n          return new ChainableEvent(_map(this.event, fn));\n        }\n      }, {\n        key: \"forEach\",\n        value: function forEach(fn) {\n          return new ChainableEvent(_forEach(this.event, fn));\n        }\n      }, {\n        key: \"filter\",\n        value: function filter(fn) {\n          return new ChainableEvent(_filter(this.event, fn));\n        }\n      }, {\n        key: \"reduce\",\n        value: function reduce(merge, initial) {\n          return new ChainableEvent(_reduce(this.event, merge, initial));\n        }\n      }, {\n        key: \"latch\",\n        value: function latch() {\n          return new ChainableEvent(_latch(this.event));\n        }\n      }, {\n        key: \"on\",\n        value: function on(listener, thisArgs, disposables) {\n          return this.event(listener, thisArgs, disposables);\n        }\n      }, {\n        key: \"once\",\n        value: function once(listener, thisArgs, disposables) {\n          return _once(this.event)(listener, thisArgs, disposables);\n        }\n      }]);\n\n      return ChainableEvent;\n    }();\n\n    function chain(event) {\n      return new ChainableEvent(event);\n    }\n\n    Event.chain = chain;\n\n    function fromNodeEventEmitter(emitter, eventName) {\n      var map = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (id) {\n        return id;\n      };\n\n      var fn = function fn() {\n        return result.fire(map.apply(void 0, arguments));\n      };\n\n      var onFirstListenerAdd = function onFirstListenerAdd() {\n        return emitter.on(eventName, fn);\n      };\n\n      var onLastListenerRemove = function onLastListenerRemove() {\n        return emitter.removeListener(eventName, fn);\n      };\n\n      var result = new Emitter({\n        onFirstListenerAdd: onFirstListenerAdd,\n        onLastListenerRemove: onLastListenerRemove\n      });\n      return result.event;\n    }\n\n    Event.fromNodeEventEmitter = fromNodeEventEmitter;\n\n    function fromPromise(promise) {\n      var emitter = new Emitter();\n      var shouldEmit = false;\n      promise.then(undefined, function () {\n        return null;\n      }).then(function () {\n        if (!shouldEmit) {\n          setTimeout(function () {\n            return emitter.fire(undefined);\n          }, 0);\n        } else {\n          emitter.fire(undefined);\n        }\n      });\n      shouldEmit = true;\n      return emitter.event;\n    }\n\n    Event.fromPromise = fromPromise;\n\n    function toPromise(event) {\n      return new Promise(function (c) {\n        return _once(event)(c);\n      });\n    }\n\n    Event.toPromise = toPromise;\n  })(Event || (Event = {}));\n\n  var _globalLeakWarningThreshold = -1;\n\n  var LeakageMonitor =\n  /*#__PURE__*/\n  function () {\n    function LeakageMonitor(customThreshold) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Math.random().toString(18).slice(2, 5);\n\n      _classCallCheck(this, LeakageMonitor);\n\n      this.customThreshold = customThreshold;\n      this.name = name;\n      this._warnCountdown = 0;\n    }\n\n    _createClass(LeakageMonitor, [{\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._stacks) {\n          this._stacks.clear();\n        }\n      }\n    }, {\n      key: \"check\",\n      value: function check(listenerCount) {\n        var _this4 = this;\n\n        var threshold = _globalLeakWarningThreshold;\n\n        if (typeof this.customThreshold === 'number') {\n          threshold = this.customThreshold;\n        }\n\n        if (threshold <= 0 || listenerCount < threshold) {\n          return undefined;\n        }\n\n        if (!this._stacks) {\n          this._stacks = new Map();\n        }\n\n        var stack = new Error().stack.split('\\n').slice(3).join('\\n');\n        var count = this._stacks.get(stack) || 0;\n\n        this._stacks.set(stack, count + 1);\n\n        this._warnCountdown -= 1;\n\n        if (this._warnCountdown <= 0) {\n          // only warn on first exceed and then every time the limit\n          // is exceeded by 50% again\n          this._warnCountdown = threshold * 0.5; // find most frequent listener and print warning\n\n          var topStack;\n          var topCount = 0;\n\n          this._stacks.forEach(function (count, stack) {\n            if (!topStack || topCount < count) {\n              topStack = stack;\n              topCount = count;\n            }\n          });\n\n          console.warn(\"[\".concat(this.name, \"] potential listener LEAK detected, having \").concat(listenerCount, \" listeners already. MOST frequent listener (\").concat(topCount, \"):\"));\n          console.warn(topStack);\n        }\n\n        return function () {\n          var count = _this4._stacks.get(stack) || 0;\n\n          _this4._stacks.set(stack, count - 1);\n        };\n      }\n    }]);\n\n    return LeakageMonitor;\n  }();\n  /**\r\n   * The Emitter can be used to expose an Event to the public\r\n   * to fire it from the insides.\r\n   * Sample:\r\n      class Document {\r\n          private _onDidChange = new Emitter<(value:string)=>any>();\r\n          public onDidChange = this._onDidChange.event;\r\n          // getter-style\r\n          // get onDidChange(): Event<(value:string)=>any> {\r\n          // \treturn this._onDidChange.event;\r\n          // }\r\n          private _doIt() {\r\n              //...\r\n              this._onDidChange.fire(value);\r\n          }\r\n      }\r\n   */\n\n\n  var Emitter =\n  /*#__PURE__*/\n  function () {\n    function Emitter(options) {\n      _classCallCheck(this, Emitter);\n\n      this._disposed = false;\n      this._options = options;\n      this._leakageMon = _globalLeakWarningThreshold > 0 ? new LeakageMonitor(this._options && this._options.leakWarningThreshold) : undefined;\n    }\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\n\n\n    _createClass(Emitter, [{\n      key: \"fire\",\n\n      /**\r\n       * To be kept private to fire an event to\r\n       * subscribers\r\n       */\n      value: function fire(event) {\n        if (this._listeners) {\n          // put all [listener,event]-pairs into delivery queue\n          // then emit all event. an inner/nested event might be\n          // the driver of this\n          if (!this._deliveryQueue) {\n            this._deliveryQueue = new LinkedList();\n          }\n\n          for (var iter = this._listeners.iterator(), e = iter.next(); !e.done; e = iter.next()) {\n            this._deliveryQueue.push([e.value, event]);\n          }\n\n          while (this._deliveryQueue.size > 0) {\n            var _this$_deliveryQueue$ = this._deliveryQueue.shift(),\n                _this$_deliveryQueue$2 = _slicedToArray(_this$_deliveryQueue$, 2),\n                listener = _this$_deliveryQueue$2[0],\n                _event = _this$_deliveryQueue$2[1];\n\n            try {\n              if (typeof listener === 'function') {\n                listener.call(undefined, _event);\n              } else {\n                listener[0].call(listener[1], _event);\n              }\n            } catch (e) {\n              onUnexpectedError(e);\n            }\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._listeners) {\n          this._listeners.clear();\n        }\n\n        if (this._deliveryQueue) {\n          this._deliveryQueue.clear();\n        }\n\n        if (this._leakageMon) {\n          this._leakageMon.dispose();\n        }\n\n        this._disposed = true;\n      }\n    }, {\n      key: \"event\",\n      get: function get() {\n        var _this5 = this;\n\n        if (!this._event) {\n          this._event = function (listener, thisArgs, disposables) {\n            if (!_this5._listeners) {\n              _this5._listeners = new LinkedList();\n            }\n\n            var firstListener = _this5._listeners.isEmpty();\n\n            if (firstListener && _this5._options && _this5._options.onFirstListenerAdd) {\n              _this5._options.onFirstListenerAdd(_this5);\n            }\n\n            var remove = _this5._listeners.push(!thisArgs ? listener : [listener, thisArgs]);\n\n            if (firstListener && _this5._options && _this5._options.onFirstListenerDidAdd) {\n              _this5._options.onFirstListenerDidAdd(_this5);\n            }\n\n            if (_this5._options && _this5._options.onListenerDidAdd) {\n              _this5._options.onListenerDidAdd(_this5, listener, thisArgs);\n            } // check and record this emitter for potential leakage\n\n\n            var removeMonitor;\n\n            if (_this5._leakageMon) {\n              removeMonitor = _this5._leakageMon.check(_this5._listeners.size);\n            }\n\n            var result;\n            result = {\n              dispose: function dispose() {\n                if (removeMonitor) {\n                  removeMonitor();\n                }\n\n                result.dispose = Emitter._noop;\n\n                if (!_this5._disposed) {\n                  remove();\n\n                  if (_this5._options && _this5._options.onLastListenerRemove) {\n                    var hasListeners = _this5._listeners && !_this5._listeners.isEmpty();\n\n                    if (!hasListeners) {\n                      _this5._options.onLastListenerRemove(_this5);\n                    }\n                  }\n                }\n              }\n            };\n\n            if (Array.isArray(disposables)) {\n              disposables.push(result);\n            }\n\n            return result;\n          };\n        }\n\n        return this._event;\n      }\n    }]);\n\n    return Emitter;\n  }();\n\n  Emitter._noop = function () {};\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var shortcutEvent = Object.freeze(function (callback, context) {\n    var handle = setTimeout(callback.bind(context), 0);\n    return {\n      dispose: function dispose() {\n        clearTimeout(handle);\n      }\n    };\n  });\n\n  (function (CancellationToken) {\n    function isCancellationToken(thing) {\n      if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n        return true;\n      }\n\n      if (thing instanceof MutableToken) {\n        return true;\n      }\n\n      if (!thing || typeof thing !== 'object') {\n        return false;\n      }\n\n      return typeof thing.isCancellationRequested === 'boolean' && typeof thing.onCancellationRequested === 'function';\n    }\n\n    CancellationToken.isCancellationToken = isCancellationToken;\n    CancellationToken.None = Object.freeze({\n      isCancellationRequested: false,\n      onCancellationRequested: Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n      isCancellationRequested: true,\n      onCancellationRequested: shortcutEvent\n    });\n  })(exports.CancellationToken || (exports.CancellationToken = {}));\n\n  var MutableToken =\n  /*#__PURE__*/\n  function () {\n    function MutableToken() {\n      _classCallCheck(this, MutableToken);\n\n      this._isCancelled = false;\n      this._emitter = null;\n    }\n\n    _createClass(MutableToken, [{\n      key: \"cancel\",\n      value: function cancel() {\n        if (!this._isCancelled) {\n          this._isCancelled = true;\n\n          if (this._emitter) {\n            this._emitter.fire(undefined);\n\n            this.dispose();\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._emitter) {\n          this._emitter.dispose();\n\n          this._emitter = null;\n        }\n      }\n    }, {\n      key: \"isCancellationRequested\",\n      get: function get() {\n        return this._isCancelled;\n      }\n    }, {\n      key: \"onCancellationRequested\",\n      get: function get() {\n        if (this._isCancelled) {\n          return shortcutEvent;\n        }\n\n        if (!this._emitter) {\n          this._emitter = new Emitter();\n        }\n\n        return this._emitter.event;\n      }\n    }]);\n\n    return MutableToken;\n  }();\n\n  var CancellationTokenSource =\n  /*#__PURE__*/\n  function () {\n    function CancellationTokenSource(parent) {\n      _classCallCheck(this, CancellationTokenSource);\n\n      this._token = undefined;\n      this._parentListener = undefined;\n      this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n    }\n\n    _createClass(CancellationTokenSource, [{\n      key: \"cancel\",\n      value: function cancel() {\n        if (!this._token) {\n          // save an object by returning the default\n          // cancelled token when cancellation happens\n          // before someone asks for the token\n          this._token = exports.CancellationToken.Cancelled;\n        } else if (this._token instanceof MutableToken) {\n          // actually cancel\n          this._token.cancel();\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._parentListener) {\n          this._parentListener.dispose();\n        }\n\n        if (!this._token) {\n          // ensure to initialize with an empty token if we had none\n          this._token = exports.CancellationToken.None;\n        } else if (this._token instanceof MutableToken) {\n          // actually dispose\n          this._token.dispose();\n        }\n      }\n    }, {\n      key: \"token\",\n      get: function get() {\n        if (!this._token) {\n          // be lazy and create the token only when\n          // actually needed\n          this._token = new MutableToken();\n        }\n\n        return this._token;\n      }\n    }]);\n\n    return CancellationTokenSource;\n  }();\n\n  (function () {\n    if (typeof requestIdleCallback !== 'function' || typeof cancelIdleCallback !== 'function') {\n      var dummyIdle = Object.freeze({\n        didTimeout: true,\n        timeRemaining: function timeRemaining() {\n          return 15;\n        }\n      });\n    }\n  })();\n\n  var Decoder =\n  /*#__PURE__*/\n  function () {\n    function Decoder() {\n      _classCallCheck(this, Decoder);\n\n      if (typeof TextDecoder !== 'undefined') {\n        this.decoder = new TextDecoder();\n      }\n    }\n\n    _createClass(Decoder, [{\n      key: \"decode\",\n      value: function decode(buf) {\n        var str = this.decoder ? this.decoder.decode(buf) : Buffer.from(buf).toString('utf-8');\n        return str.charCodeAt(0) === 0xfeff ? str.slice(1) : str;\n      }\n    }]);\n\n    return Decoder;\n  }();\n\n  var ExtendableError$1 =\n  /*#__PURE__*/\n  function (_Error2) {\n    _inherits(ExtendableError$1, _Error2);\n\n    function ExtendableError$1(message) {\n      var _this6;\n\n      _classCallCheck(this, ExtendableError$1);\n\n      _this6 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError$1).call(this, message));\n      _this6.name = _this6.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this6), _this6.constructor);\n      } else {\n        _this6.stack = new Error(message).stack;\n      }\n\n      return _this6;\n    }\n\n    return ExtendableError$1;\n  }(_wrapNativeSuper(Error));\n\n  var EntryNotFoundError =\n  /*#__PURE__*/\n  function (_ExtendableError$) {\n    _inherits(EntryNotFoundError, _ExtendableError$);\n\n    function EntryNotFoundError(url) {\n      var _this7;\n\n      _classCallCheck(this, EntryNotFoundError);\n\n      _this7 = _possibleConstructorReturn(this, _getPrototypeOf(EntryNotFoundError).call(this, \"Not found \".concat(url.href)));\n      _this7.url = url;\n      return _this7;\n    }\n\n    return EntryNotFoundError;\n  }(ExtendableError$1);\n\n  var AbstractResolverHost =\n  /*#__PURE__*/\n  function () {\n    function AbstractResolverHost() {\n      _classCallCheck(this, AbstractResolverHost);\n    }\n\n    _createClass(AbstractResolverHost, [{\n      key: \"getCanonicalUrl\",\n      value: function getCanonicalUrl(_resolver, url) {\n        return Promise.resolve(url);\n      }\n    }]);\n\n    return AbstractResolverHost;\n  }();\n\n  var TRAILING_SLASH_RX$1 = /\\/?$/;\n\n  var Resolver =\n  /*#__PURE__*/\n  function () {\n    function Resolver(host) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Resolver);\n\n      this.host = host;\n      this.decoder = new Decoder();\n      this.extensions = Array.from(options.extensions || Resolver.defaultExtensions);\n      this.packageMain = options.packageMain || ['main'];\n    }\n\n    _createClass(Resolver, [{\n      key: \"resolve\",\n      value: function () {\n        var _resolve = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(url) {\n          var options,\n              token,\n              tokenSource,\n              optionsWithDefaults,\n              canonicalUrlPromise,\n              _ref,\n              _ref2,\n              canonicalUrl,\n              rootUrl,\n              rootHref,\n              rootHrefWithoutTrailingSlash,\n              canonicalHref,\n              resolvedUrl,\n              _args = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n\n                  if (url instanceof URL) {\n                    _context.next = 9;\n                    break;\n                  }\n\n                  _context.prev = 2;\n                  url = new URL(url);\n                  _context.next = 9;\n                  break;\n\n                case 6:\n                  _context.prev = 6;\n                  _context.t0 = _context[\"catch\"](2);\n                  throw new Error(\"Invalid URL: \".concat(url, \": \").concat(_context.t0.message));\n\n                case 9:\n                  token = options.token;\n\n                  if (!token) {\n                    tokenSource = new CancellationTokenSource();\n                    token = tokenSource.token;\n                  }\n\n                  optionsWithDefaults = {\n                    extensions: options.extensions || this.extensions,\n                    ignoreBrowserOverrides: typeof options.ignoreBrowserOverrides === 'undefined' ? false : options.ignoreBrowserOverrides,\n                    packageMain: options.packageMain || this.packageMain,\n                    token: token\n                  };\n                  canonicalUrlPromise = this.host.getCanonicalUrl ? this.host.getCanonicalUrl(this, url, {\n                    token: token\n                  }) : Promise.resolve(url);\n\n                  if (!token.isCancellationRequested) {\n                    _context.next = 15;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 15:\n                  _context.next = 17;\n                  return Promise.all([canonicalUrlPromise, this.host.getResolveRoot(this, url, {\n                    token: token\n                  })]);\n\n                case 17:\n                  _ref = _context.sent;\n                  _ref2 = _slicedToArray(_ref, 2);\n                  canonicalUrl = _ref2[0];\n                  rootUrl = _ref2[1];\n\n                  if (!token.isCancellationRequested) {\n                    _context.next = 23;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 23:\n                  rootHref = rootUrl.href;\n                  rootHrefWithoutTrailingSlash = rootHref.replace(TRAILING_SLASH_RX$1, '');\n                  canonicalHref = canonicalUrl.href;\n\n                  if (canonicalHref.startsWith(rootHrefWithoutTrailingSlash)) {\n                    _context.next = 28;\n                    break;\n                  }\n\n                  throw new Error(\"Unable to resolve a module whose path \".concat(canonicalHref, \" is above the host's root \").concat(rootHref));\n\n                case 28:\n                  if (!(rootHrefWithoutTrailingSlash === canonicalHref || rootHref == canonicalHref)) {\n                    _context.next = 34;\n                    break;\n                  }\n\n                  _context.next = 31;\n                  return this.resolveAsDirectory(canonicalUrl, optionsWithDefaults);\n\n                case 31:\n                  _context.t1 = _context.sent;\n                  _context.next = 37;\n                  break;\n\n                case 34:\n                  _context.next = 36;\n                  return this.resolveAsFile(canonicalUrl, optionsWithDefaults);\n\n                case 36:\n                  _context.t1 = _context.sent;\n\n                case 37:\n                  resolvedUrl = _context.t1;\n\n                  if (!token.isCancellationRequested) {\n                    _context.next = 40;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 40:\n                  return _context.abrupt(\"return\", {\n                    ignored: resolvedUrl === false,\n                    resolvedUrl: resolvedUrl || undefined,\n                    rootUrl: rootUrl\n                  });\n\n                case 41:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[2, 6]]);\n        }));\n\n        function resolve(_x) {\n          return _resolve.apply(this, arguments);\n        }\n\n        return resolve;\n      }()\n      /**\r\n       * Resolve a reference treating it as a directory\r\n       *\r\n       * 1. If there is a `package.json` file and this has a `main` entry, use that\r\n       * 2. Assume `index` if no main file is found in the `package.json` manifest\r\n       *\r\n       * The outcome of this process will then be resolved as if it were a file.\r\n       */\n\n    }, {\n      key: \"resolveAsDirectory\",\n      value: function () {\n        var _resolveAsDirectory = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2(url, options) {\n          var _ref3, _ref4, rootUrl, entries, mainPathname, packageJsonEntry, packageJsonContent, packageJson, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, packageMain, pathname, mainUrl;\n\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return Promise.all([this.host.getResolveRoot(this, url, {\n                    token: options.token\n                  }), this.host.listEntries(this, url, {\n                    token: options.token\n                  })]);\n\n                case 2:\n                  _ref3 = _context2.sent;\n                  _ref4 = _slicedToArray(_ref3, 2);\n                  rootUrl = _ref4[0];\n                  entries = _ref4[1];\n\n                  if (!options.token.isCancellationRequested) {\n                    _context2.next = 8;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 8:\n                  mainPathname = 'index'; // Step 1: Look for a package.json with an main field\n\n                  packageJsonEntry = entries.find(function (entry) {\n                    return basename(entry.url.pathname) === 'package.json';\n                  });\n\n                  if (!packageJsonEntry) {\n                    _context2.next = 45;\n                    break;\n                  }\n\n                  _context2.next = 13;\n                  return this.host.readFileContent(this, packageJsonEntry.url, {\n                    token: options.token\n                  });\n\n                case 13:\n                  packageJsonContent = _context2.sent;\n\n                  if (!options.token.isCancellationRequested) {\n                    _context2.next = 16;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 16:\n                  packageJson = parseBufferAsPackageJson(this.decoder, packageJsonContent, url.href);\n                  _iteratorNormalCompletion = true;\n                  _didIteratorError = false;\n                  _iteratorError = undefined;\n                  _context2.prev = 20;\n                  _iterator = this.packageMain[Symbol.iterator]();\n\n                case 22:\n                  if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                    _context2.next = 31;\n                    break;\n                  }\n\n                  packageMain = _step.value;\n                  pathname = packageJson[packageMain];\n\n                  if (!(typeof pathname === 'string')) {\n                    _context2.next = 28;\n                    break;\n                  }\n\n                  mainPathname = pathname;\n                  return _context2.abrupt(\"break\", 31);\n\n                case 28:\n                  _iteratorNormalCompletion = true;\n                  _context2.next = 22;\n                  break;\n\n                case 31:\n                  _context2.next = 37;\n                  break;\n\n                case 33:\n                  _context2.prev = 33;\n                  _context2.t0 = _context2[\"catch\"](20);\n                  _didIteratorError = true;\n                  _iteratorError = _context2.t0;\n\n                case 37:\n                  _context2.prev = 37;\n                  _context2.prev = 38;\n\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n\n                case 40:\n                  _context2.prev = 40;\n\n                  if (!_didIteratorError) {\n                    _context2.next = 43;\n                    break;\n                  }\n\n                  throw _iteratorError;\n\n                case 43:\n                  return _context2.finish(40);\n\n                case 44:\n                  return _context2.finish(37);\n\n                case 45:\n                  mainUrl = new URL(resolve(url.pathname, mainPathname), rootUrl);\n                  return _context2.abrupt(\"return\", this.resolveAsFile(mainUrl, options));\n\n                case 47:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this, [[20, 33, 37, 45], [38,, 40, 44]]);\n        }));\n\n        function resolveAsDirectory(_x2, _x3) {\n          return _resolveAsDirectory.apply(this, arguments);\n        }\n\n        return resolveAsDirectory;\n      }()\n      /**\r\n       * Resolve a reference treating it as a file\r\n       *\r\n       * 1. List entries in the containing directory\r\n       * 2. Look for an exact file match or a file match with one of the supplied extensions\r\n       * 3. Look for a matching child directory and attempt to resolve that as a directory\r\n       */\n\n    }, {\n      key: \"resolveAsFile\",\n      value: function () {\n        var _resolveAsFile = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee3(url, options) {\n          var rootUrl, parentPackageJson, browserOverrides, browserMap, packageJsonDir, entry, impliedUrl, targetSpec, target, containingUrl, filename, entries, entryDirectoryMap, entryFileMap, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, _entry, childFilename, _childFilename, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, ext, mapping, _match, match;\n\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!(url.pathname === '' || url.pathname === '/')) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  throw new TypeError(\"Unable to resolve the root as a file: \".concat(url.href));\n\n                case 2:\n                  _context3.next = 4;\n                  return this.host.getResolveRoot(this, url, {\n                    token: options.token\n                  });\n\n                case 4:\n                  rootUrl = _context3.sent;\n\n                  if (!options.token.isCancellationRequested) {\n                    _context3.next = 7;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 7:\n                  if (!(this.packageMain.includes('browser') && !options.ignoreBrowserOverrides)) {\n                    _context3.next = 13;\n                    break;\n                  }\n\n                  _context3.next = 10;\n                  return this.readParentPackageJson(url, {\n                    token: options.token\n                  });\n\n                case 10:\n                  _context3.t0 = _context3.sent;\n                  _context3.next = 14;\n                  break;\n\n                case 13:\n                  _context3.t0 = undefined;\n\n                case 14:\n                  parentPackageJson = _context3.t0;\n\n                  if (!options.token.isCancellationRequested) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 17:\n                  browserOverrides = new Map();\n\n                  if (!(parentPackageJson && typeof parentPackageJson.packageJson.browser === 'object')) {\n                    _context3.next = 34;\n                    break;\n                  }\n\n                  browserMap = parentPackageJson.packageJson.browser;\n                  packageJsonDir = dirname(parentPackageJson.url.pathname);\n                  _context3.t1 = _regeneratorRuntime.keys(browserMap);\n\n                case 22:\n                  if ((_context3.t2 = _context3.t1()).done) {\n                    _context3.next = 34;\n                    break;\n                  }\n\n                  entry = _context3.t2.value;\n                  impliedUrl = new URL(resolve(packageJsonDir, entry), parentPackageJson.url);\n                  targetSpec = browserMap[entry];\n                  target = targetSpec === false ? false : new URL(resolve(packageJsonDir, targetSpec), parentPackageJson.url);\n\n                  if (!(impliedUrl.href === url.href)) {\n                    _context3.next = 31;\n                    break;\n                  }\n\n                  if (!(target === false)) {\n                    _context3.next = 30;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", false);\n\n                case 30:\n                  return _context3.abrupt(\"return\", this.resolveAsFile(target, _objectSpread({}, options, {\n                    ignoreBrowserOverrides: true\n                  })));\n\n                case 31:\n                  browserOverrides.set(impliedUrl.href, target);\n                  _context3.next = 22;\n                  break;\n\n                case 34:\n                  containingUrl = new URL(ensureTrailingSlash(dirname(url.pathname)), rootUrl);\n                  filename = basename(url.pathname);\n                  _context3.next = 38;\n                  return this.host.listEntries(this, containingUrl, {\n                    token: options.token\n                  });\n\n                case 38:\n                  entries = _context3.sent;\n\n                  if (!options.token.isCancellationRequested) {\n                    _context3.next = 41;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 41:\n                  entryDirectoryMap = new Map();\n                  entryFileMap = new Map();\n                  _iteratorNormalCompletion2 = true;\n                  _didIteratorError2 = false;\n                  _iteratorError2 = undefined;\n                  _context3.prev = 46;\n                  _iterator2 = entries[Symbol.iterator]();\n\n                case 48:\n                  if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {\n                    _context3.next = 56;\n                    break;\n                  }\n\n                  _entry = _step2.value;\n\n                  if (!(_entry.url.href === url.href && _entry.type == exports.ResolvedEntryKind.File)) {\n                    _context3.next = 52;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", _entry.url);\n\n                case 52:\n                  if (_entry.type === exports.ResolvedEntryKind.Directory) {\n                    childFilename = getFirstPathSegmentAfterPrefix(_entry.url, containingUrl);\n                    entryDirectoryMap.set(childFilename, _entry);\n                  } else if (_entry.type === exports.ResolvedEntryKind.File) {\n                    _childFilename = basename(_entry.url.pathname);\n                    entryFileMap.set(_childFilename, _entry);\n                  }\n\n                case 53:\n                  _iteratorNormalCompletion2 = true;\n                  _context3.next = 48;\n                  break;\n\n                case 56:\n                  _context3.next = 62;\n                  break;\n\n                case 58:\n                  _context3.prev = 58;\n                  _context3.t3 = _context3[\"catch\"](46);\n                  _didIteratorError2 = true;\n                  _iteratorError2 = _context3.t3;\n\n                case 62:\n                  _context3.prev = 62;\n                  _context3.prev = 63;\n\n                  if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                    _iterator2.return();\n                  }\n\n                case 65:\n                  _context3.prev = 65;\n\n                  if (!_didIteratorError2) {\n                    _context3.next = 68;\n                    break;\n                  }\n\n                  throw _iteratorError2;\n\n                case 68:\n                  return _context3.finish(65);\n\n                case 69:\n                  return _context3.finish(62);\n\n                case 70:\n                  // Look for browser overrides\n                  _iteratorNormalCompletion3 = true;\n                  _didIteratorError3 = false;\n                  _iteratorError3 = undefined;\n                  _context3.prev = 73;\n                  _iterator3 = options.extensions[Symbol.iterator]();\n\n                case 75:\n                  if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {\n                    _context3.next = 92;\n                    break;\n                  }\n\n                  ext = _step3.value;\n                  mapping = browserOverrides.get(\"\".concat(url.href).concat(ext));\n\n                  if (!(mapping === false)) {\n                    _context3.next = 82;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", false);\n\n                case 82:\n                  if (!mapping) {\n                    _context3.next = 84;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", this.resolveAsFile(mapping, _objectSpread({}, options, {\n                    ignoreBrowserOverrides: true\n                  })));\n\n                case 84:\n                  _match = entryFileMap.get(\"\".concat(filename).concat(ext));\n\n                  if (!_match) {\n                    _context3.next = 89;\n                    break;\n                  }\n\n                  if (!(_match.type !== exports.ResolvedEntryKind.File)) {\n                    _context3.next = 88;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"continue\", 89);\n\n                case 88:\n                  return _context3.abrupt(\"return\", _match.url);\n\n                case 89:\n                  _iteratorNormalCompletion3 = true;\n                  _context3.next = 75;\n                  break;\n\n                case 92:\n                  _context3.next = 98;\n                  break;\n\n                case 94:\n                  _context3.prev = 94;\n                  _context3.t4 = _context3[\"catch\"](73);\n                  _didIteratorError3 = true;\n                  _iteratorError3 = _context3.t4;\n\n                case 98:\n                  _context3.prev = 98;\n                  _context3.prev = 99;\n\n                  if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n                    _iterator3.return();\n                  }\n\n                case 101:\n                  _context3.prev = 101;\n\n                  if (!_didIteratorError3) {\n                    _context3.next = 104;\n                    break;\n                  }\n\n                  throw _iteratorError3;\n\n                case 104:\n                  return _context3.finish(101);\n\n                case 105:\n                  return _context3.finish(98);\n\n                case 106:\n                  // First, attempt to find a matching file or directory\n                  match = entryDirectoryMap.get(filename);\n\n                  if (!match) {\n                    _context3.next = 111;\n                    break;\n                  }\n\n                  if (!(match.type !== exports.ResolvedEntryKind.Directory)) {\n                    _context3.next = 110;\n                    break;\n                  }\n\n                  throw new Error(\"Invariant violation \".concat(match.type, \" is unexpected\"));\n\n                case 110:\n                  return _context3.abrupt(\"return\", this.resolveAsDirectory(match.url, options));\n\n                case 111:\n                  throw new EntryNotFoundError(url);\n\n                case 112:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this, [[46, 58, 62, 70], [63,, 65, 69], [73, 94, 98, 106], [99,, 101, 105]]);\n        }));\n\n        function resolveAsFile(_x4, _x5) {\n          return _resolveAsFile.apply(this, arguments);\n        }\n\n        return resolveAsFile;\n      }()\n    }, {\n      key: \"readParentPackageJson\",\n      value: function () {\n        var _readParentPackageJson = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee5(url) {\n          var _this8 = this;\n\n          var options,\n              hostRootUrl,\n              hostRootHref,\n              containingDirUrl,\n              readPackageJsonOrRecurse,\n              _args5 = arguments;\n          return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  options = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : {};\n                  _context5.next = 3;\n                  return this.host.getCanonicalUrl(this, url, {\n                    token: options.token\n                  });\n\n                case 3:\n                  url = _context5.sent;\n\n                  if (!(options.token && options.token.isCancellationRequested)) {\n                    _context5.next = 6;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 6:\n                  _context5.next = 8;\n                  return this.host.getResolveRoot(this, url, {\n                    token: options.token\n                  });\n\n                case 8:\n                  hostRootUrl = _context5.sent;\n\n                  if (!(options.token && options.token.isCancellationRequested)) {\n                    _context5.next = 11;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 11:\n                  hostRootHref = ensureTrailingSlash(hostRootUrl.href);\n                  containingDirUrl = new URL(ensureTrailingSlash(dirname(url.pathname)), url);\n\n                  readPackageJsonOrRecurse =\n                  /*#__PURE__*/\n                  function () {\n                    var _ref5 = _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee4(dir) {\n                      var entries, packageJsonEntry, parentPackageJsonContent, packageJson, parentDir;\n                      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                        while (1) {\n                          switch (_context4.prev = _context4.next) {\n                            case 0:\n                              if (dir.href.startsWith(hostRootHref)) {\n                                _context4.next = 2;\n                                break;\n                              }\n\n                              return _context4.abrupt(\"return\", undefined);\n\n                            case 2:\n                              _context4.next = 4;\n                              return _this8.host.listEntries(_this8, dir, {\n                                token: options.token\n                              });\n\n                            case 4:\n                              entries = _context4.sent;\n\n                              if (!(options.token && options.token.isCancellationRequested)) {\n                                _context4.next = 7;\n                                break;\n                              }\n\n                              throw new CanceledError('Canceled');\n\n                            case 7:\n                              packageJsonEntry = entries.find(function (entry) {\n                                return entry.type === exports.ResolvedEntryKind.File && entry.url.pathname.endsWith('/package.json');\n                              });\n\n                              if (!packageJsonEntry) {\n                                _context4.next = 22;\n                                break;\n                              }\n\n                              _context4.prev = 9;\n                              _context4.next = 12;\n                              return _this8.host.readFileContent(_this8, packageJsonEntry.url, {\n                                token: options.token\n                              });\n\n                            case 12:\n                              parentPackageJsonContent = _context4.sent;\n\n                              if (!(options.token && options.token.isCancellationRequested)) {\n                                _context4.next = 15;\n                                break;\n                              }\n\n                              throw new CanceledError('Canceled');\n\n                            case 15:\n                              packageJson = parseBufferAsPackageJson(_this8.decoder, parentPackageJsonContent, packageJsonEntry.url.href);\n                              return _context4.abrupt(\"return\", {\n                                packageJson: packageJson,\n                                url: packageJsonEntry.url\n                              });\n\n                            case 19:\n                              _context4.prev = 19;\n                              _context4.t0 = _context4[\"catch\"](9);\n                              console.warn(\"Error reading the parent package manifest for \".concat(url.href, \" from \").concat(packageJsonEntry.url.href, \": \").concat(_context4.t0.message));\n\n                            case 22:\n                              // Not found here, let's try one up\n                              parentDir = new URL(ensureTrailingSlash(dirname(dir.pathname)), dir); // Skip infinite recursion\n\n                              if (!(parentDir.href === dir.href)) {\n                                _context4.next = 25;\n                                break;\n                              }\n\n                              return _context4.abrupt(\"return\", undefined);\n\n                            case 25:\n                              return _context4.abrupt(\"return\", readPackageJsonOrRecurse(parentDir));\n\n                            case 26:\n                            case \"end\":\n                              return _context4.stop();\n                          }\n                        }\n                      }, _callee4, null, [[9, 19]]);\n                    }));\n\n                    return function readPackageJsonOrRecurse(_x7) {\n                      return _ref5.apply(this, arguments);\n                    };\n                  }();\n\n                  return _context5.abrupt(\"return\", readPackageJsonOrRecurse(containingDirUrl));\n\n                case 15:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, this);\n        }));\n\n        function readParentPackageJson(_x6) {\n          return _readParentPackageJson.apply(this, arguments);\n        }\n\n        return readParentPackageJson;\n      }()\n    }]);\n\n    return Resolver;\n  }();\n\n  Resolver.defaultExtensions = ['.js', '.jsx', '.es6', '.es', '.mjs', '.ts', '.tsx', '.json'];\n  Resolver.path = {\n    basename: basename,\n    dirname: dirname,\n    extname: extname,\n    resolve: resolve\n  };\n  exports.AbstractResolverHost = AbstractResolverHost;\n  exports.CanceledError = CanceledError;\n  exports.CancellationTokenSource = CancellationTokenSource;\n  exports.Decoder = Decoder;\n  exports.EntryNotFoundError = EntryNotFoundError;\n  exports.Resolver = Resolver;\n  exports.isValidPackageJson = isValidPackageJson;\n  exports.util = util;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","var _regeneratorRuntime = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _defineProperty = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _slicedToArray = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _possibleConstructorReturn = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _assertThisInitialized = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _wrapNativeSuper = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\n\nvar _classCallCheck = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/createClass\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = global || self, factory(global.Velcro = global.Velcro || {}));\n})(this, function (exports) {\n  'use strict';\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n  // Avoid circular dependency on EventEmitter by implementing a subset of the interface.\n\n  var ErrorHandler =\n  /*#__PURE__*/\n  function () {\n    function ErrorHandler() {\n      _classCallCheck(this, ErrorHandler);\n\n      this.listeners = [];\n\n      this.unexpectedErrorHandler = function (e) {\n        setTimeout(function () {\n          if (e.stack) {\n            throw new Error(e.message + '\\n\\n' + e.stack);\n          }\n\n          throw e;\n        }, 0);\n      };\n    }\n\n    _createClass(ErrorHandler, [{\n      key: \"addListener\",\n      value: function addListener(listener) {\n        var _this = this;\n\n        this.listeners.push(listener);\n        return function () {\n          _this._removeListener(listener);\n        };\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(e) {\n        this.listeners.forEach(function (listener) {\n          listener(e);\n        });\n      }\n    }, {\n      key: \"_removeListener\",\n      value: function _removeListener(listener) {\n        this.listeners.splice(this.listeners.indexOf(listener), 1);\n      }\n    }, {\n      key: \"setUnexpectedErrorHandler\",\n      value: function setUnexpectedErrorHandler(newUnexpectedErrorHandler) {\n        this.unexpectedErrorHandler = newUnexpectedErrorHandler;\n      }\n    }, {\n      key: \"getUnexpectedErrorHandler\",\n      value: function getUnexpectedErrorHandler() {\n        return this.unexpectedErrorHandler;\n      }\n    }, {\n      key: \"onUnexpectedError\",\n      value: function onUnexpectedError(e) {\n        this.unexpectedErrorHandler(e);\n        this.emit(e);\n      } // For external errors, we don't want the listeners to be called\n\n    }, {\n      key: \"onUnexpectedExternalError\",\n      value: function onUnexpectedExternalError(e) {\n        this.unexpectedErrorHandler(e);\n      }\n    }]);\n\n    return ErrorHandler;\n  }();\n\n  var errorHandler = new ErrorHandler();\n\n  function onUnexpectedError(e) {\n    // ignore errors from cancelled promises\n    if (!isPromiseCanceledError(e)) {\n      errorHandler.onUnexpectedError(e);\n    }\n\n    return undefined;\n  }\n\n  var ExtendableError =\n  /*#__PURE__*/\n  function (_Error) {\n    _inherits(ExtendableError, _Error);\n\n    function ExtendableError(message) {\n      var _this2;\n\n      _classCallCheck(this, ExtendableError);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError).call(this, message));\n      _this2.name = _this2.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this2), _this2.constructor);\n      } else {\n        _this2.stack = new Error(message).stack;\n      }\n\n      return _this2;\n    }\n\n    return ExtendableError;\n  }(_wrapNativeSuper(Error));\n\n  var CanceledError =\n  /*#__PURE__*/\n  function (_ExtendableError) {\n    _inherits(CanceledError, _ExtendableError);\n\n    function CanceledError() {\n      _classCallCheck(this, CanceledError);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(CanceledError).apply(this, arguments));\n    }\n\n    return CanceledError;\n  }(ExtendableError);\n  /**\r\n   * Checks if the given error is a promise in canceled state\r\n   */\n\n\n  function isPromiseCanceledError(error) {\n    return error instanceof CanceledError;\n  }\n\n  function _dispose(first) {\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    if (Array.isArray(first)) {\n      first.forEach(function (d) {\n        return d && d.dispose();\n      });\n      return [];\n    } else if (rest.length === 0) {\n      if (first) {\n        first.dispose();\n        return first;\n      }\n\n      return undefined;\n    } else {\n      _dispose(first);\n\n      _dispose(rest);\n\n      return [];\n    }\n  }\n\n  function combinedDisposable() {\n    for (var _len2 = arguments.length, disposables = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      disposables[_key2] = arguments[_key2];\n    }\n\n    return {\n      dispose: function dispose() {\n        return _dispose(disposables);\n      }\n    };\n  }\n\n  var DisposableStore =\n  /*#__PURE__*/\n  function () {\n    function DisposableStore() {\n      _classCallCheck(this, DisposableStore);\n\n      this._toDispose = new Set();\n      this._isDisposed = false;\n    }\n    /**\r\n     * Dispose of all registered disposables and mark this object as disposed.\r\n     *\r\n     * Any future disposables added to this object will be disposed of on `add`.\r\n     */\n\n\n    _createClass(DisposableStore, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._isDisposed = true;\n        this.clear();\n      }\n      /**\r\n       * Dispose of all registered disposables but do not mark this object as disposed.\r\n       */\n\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._toDispose.forEach(function (item) {\n          return item.dispose();\n        });\n\n        this._toDispose.clear();\n      }\n    }, {\n      key: \"add\",\n      value: function add(t) {\n        if (this._isDisposed) {\n          console.warn('Registering disposable on object that has already been disposed.');\n          t.dispose();\n        } else {\n          this._toDispose.add(t);\n        }\n\n        return t;\n      }\n    }]);\n\n    return DisposableStore;\n  }();\n\n  var Disposable =\n  /*#__PURE__*/\n  function () {\n    function Disposable() {\n      _classCallCheck(this, Disposable);\n\n      this._store = new DisposableStore();\n    }\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._store.dispose();\n      }\n    }, {\n      key: \"_register\",\n      value: function _register(t) {\n        return this._store.add(t);\n      }\n    }]);\n\n    return Disposable;\n  }();\n\n  Disposable.None = Object.freeze({\n    dispose: function dispose() {}\n  });\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var FIN = {\n    done: true,\n    value: undefined\n  };\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var Node = function Node(element) {\n    _classCallCheck(this, Node);\n\n    this.element = element;\n    this.next = Node.Undefined;\n    this.prev = Node.Undefined;\n  };\n\n  Node.Undefined = new Node(undefined);\n\n  var LinkedList =\n  /*#__PURE__*/\n  function () {\n    function LinkedList() {\n      _classCallCheck(this, LinkedList);\n\n      this._first = Node.Undefined;\n      this._last = Node.Undefined;\n      this._size = 0;\n    }\n\n    _createClass(LinkedList, [{\n      key: \"isEmpty\",\n      value: function isEmpty() {\n        return this._first === Node.Undefined;\n      }\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._first = Node.Undefined;\n        this._last = Node.Undefined;\n        this._size = 0;\n      }\n    }, {\n      key: \"unshift\",\n      value: function unshift(element) {\n        return this._insert(element, false);\n      }\n    }, {\n      key: \"push\",\n      value: function push(element) {\n        return this._insert(element, true);\n      }\n    }, {\n      key: \"_insert\",\n      value: function _insert(element, atTheEnd) {\n        var _this3 = this;\n\n        var newNode = new Node(element);\n\n        if (this._first === Node.Undefined) {\n          this._first = newNode;\n          this._last = newNode;\n        } else if (atTheEnd) {\n          // push\n          var oldLast = this._last;\n          this._last = newNode;\n          newNode.prev = oldLast;\n          oldLast.next = newNode;\n        } else {\n          // unshift\n          var oldFirst = this._first;\n          this._first = newNode;\n          newNode.next = oldFirst;\n          oldFirst.prev = newNode;\n        }\n\n        this._size += 1;\n        var didRemove = false;\n        return function () {\n          if (!didRemove) {\n            didRemove = true;\n\n            _this3._remove(newNode);\n          }\n        };\n      }\n    }, {\n      key: \"shift\",\n      value: function shift() {\n        if (this._first === Node.Undefined) {\n          return undefined;\n        } else {\n          var res = this._first.element;\n\n          this._remove(this._first);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"pop\",\n      value: function pop() {\n        if (this._last === Node.Undefined) {\n          return undefined;\n        } else {\n          var res = this._last.element;\n\n          this._remove(this._last);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"_remove\",\n      value: function _remove(node) {\n        if (node.prev !== Node.Undefined && node.next !== Node.Undefined) {\n          // middle\n          var anchor = node.prev;\n          anchor.next = node.next;\n          node.next.prev = anchor;\n        } else if (node.prev === Node.Undefined && node.next === Node.Undefined) {\n          // only node\n          this._first = Node.Undefined;\n          this._last = Node.Undefined;\n        } else if (node.next === Node.Undefined) {\n          // last\n          this._last = this._last.prev;\n          this._last.next = Node.Undefined;\n        } else if (node.prev === Node.Undefined) {\n          // first\n          this._first = this._first.next;\n          this._first.prev = Node.Undefined;\n        } // done\n\n\n        this._size -= 1;\n      }\n    }, {\n      key: \"iterator\",\n      value: function iterator() {\n        var element;\n        var node = this._first;\n        return {\n          next: function next() {\n            if (node === Node.Undefined) {\n              return FIN;\n            }\n\n            if (!element) {\n              element = {\n                done: false,\n                value: node.element\n              };\n            } else {\n              element.value = node.element;\n            }\n\n            node = node.next;\n            return element;\n          }\n        };\n      }\n    }, {\n      key: \"toArray\",\n      value: function toArray() {\n        var result = [];\n\n        for (var node = this._first; node !== Node.Undefined; node = node.next) {\n          result.push(node.element);\n        }\n\n        return result;\n      }\n    }, {\n      key: \"size\",\n      get: function get() {\n        return this._size;\n      }\n    }]);\n\n    return LinkedList;\n  }();\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var Event;\n\n  (function (Event) {\n    var _disposable = {\n      dispose: function dispose() {}\n    };\n\n    Event.None = function () {\n      return _disposable;\n    };\n    /**\r\n     * Given an event, returns another event which only fires once.\r\n     */\n\n\n    function _once(event) {\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        // we need this, in case the event fires during the listener call\n        var didFire = false;\n        var result;\n        result = event(function (e) {\n          if (didFire) {\n            return;\n          } else if (result) {\n            result.dispose();\n          } else {\n            didFire = true;\n          }\n\n          return listener.call(thisArgs, e);\n        }, null, disposables);\n\n        if (didFire) {\n          result.dispose();\n        }\n\n        return result;\n      };\n    }\n\n    Event.once = _once;\n    /**\r\n     * Given an event and a `map` function, returns another event which maps each element\r\n     * throught the mapping function.\r\n     */\n\n    function _map(event, map) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          return listener.call(thisArgs, map(i));\n        }, null, disposables);\n      });\n    }\n\n    Event.map = _map;\n    /**\r\n     * Given an event and an `each` function, returns another identical event and calls\r\n     * the `each` function per each element.\r\n     */\n\n    function _forEach(event, each) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          each(i);\n          listener.call(thisArgs, i);\n        }, null, disposables);\n      });\n    }\n\n    Event.forEach = _forEach;\n\n    function _filter(event, filter) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (e) {\n          return filter(e) && listener.call(thisArgs, e);\n        }, null, disposables);\n      });\n    }\n\n    Event.filter = _filter;\n    /**\r\n     * Given an event, returns the same event but typed as `Event<void>`.\r\n     */\n\n    function signal(event) {\n      return event;\n    }\n\n    Event.signal = signal;\n    /**\r\n     * Given a collection of events, returns a single event which emits\r\n     * whenever any of the provided events emit.\r\n     */\n\n    function any() {\n      for (var _len3 = arguments.length, events = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        events[_key3] = arguments[_key3];\n      }\n\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return combinedDisposable.apply(void 0, _toConsumableArray(events.map(function (event) {\n          return event(function (e) {\n            return listener.call(thisArgs, e);\n          }, null, disposables);\n        })));\n      };\n    }\n\n    Event.any = any;\n    /**\r\n     * Given an event and a `merge` function, returns another event which maps each element\r\n     * and the cummulative result throught the `merge` function. Similar to `map`, but with memory.\r\n     */\n\n    function _reduce(event, merge, initial) {\n      var output = initial;\n      return _map(event, function (e) {\n        output = merge(output, e);\n        return output;\n      });\n    }\n\n    Event.reduce = _reduce;\n    /**\r\n     * Given a chain of event processing functions (filter, map, etc), each\r\n     * function will be invoked per event & per listener. Snapshotting an event\r\n     * chain allows each function to be invoked just once per event.\r\n     */\n\n    function snapshot(event) {\n      var listener;\n      var emitter = new Emitter({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          listener = event(emitter.fire, emitter);\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          listener.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.snapshot = snapshot;\n\n    function debounce(event, merge) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n      var leading = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var leakWarningThreshold = arguments.length > 4 ? arguments[4] : undefined;\n      var subscription;\n      var output = undefined;\n      var handle = undefined;\n      var numDebouncedCalls = 0;\n      var emitter = new Emitter({\n        leakWarningThreshold: leakWarningThreshold,\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          subscription = event(function (cur) {\n            numDebouncedCalls++;\n            output = merge(output, cur);\n\n            if (leading && !handle) {\n              emitter.fire(output);\n            }\n\n            clearTimeout(handle);\n            handle = setTimeout(function () {\n              var _output = output;\n              output = undefined;\n              handle = undefined;\n\n              if (!leading || numDebouncedCalls > 1) {\n                emitter.fire(_output);\n              }\n\n              numDebouncedCalls = 0;\n            }, delay);\n          });\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          subscription.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.debounce = debounce;\n    /**\r\n     * Given an event, it returns another event which fires only once and as soon as\r\n     * the input event emits. The event data is the number of millis it took for the\r\n     * event to fire.\r\n     */\n\n    function stopwatch(event) {\n      var start = new Date().getTime();\n      return _map(_once(event), function (_) {\n        return new Date().getTime() - start;\n      });\n    }\n\n    Event.stopwatch = stopwatch;\n    /**\r\n     * Given an event, it returns another event which fires only when the event\r\n     * element changes.\r\n     */\n\n    function _latch(event) {\n      var firstCall = true;\n      var cache;\n      return _filter(event, function (value) {\n        var shouldEmit = firstCall || value !== cache;\n        firstCall = false;\n        cache = value;\n        return shouldEmit;\n      });\n    }\n\n    Event.latch = _latch;\n    /**\r\n     * Buffers the provided event until a first listener comes\r\n     * along, at which point fire all the events at once and\r\n     * pipe the event from then on.\r\n     *\r\n     * ```typescript\r\n     * const emitter = new Emitter<number>();\r\n     * const event = emitter.event;\r\n     * const bufferedEvent = buffer(event);\r\n     *\r\n     * emitter.fire(1);\r\n     * emitter.fire(2);\r\n     * emitter.fire(3);\r\n     * // nothing...\r\n     *\r\n     * const listener = bufferedEvent(num => console.log(num));\r\n     * // 1, 2, 3\r\n     *\r\n     * emitter.fire(4);\r\n     * // 4\r\n     * ```\r\n     */\n\n    function buffer(event) {\n      var nextTick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _buffer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      var buffer = _buffer.slice();\n\n      var listener = event(function (e) {\n        if (buffer) {\n          buffer.push(e);\n        } else {\n          emitter.fire(e);\n        }\n      });\n\n      var flush = function flush() {\n        if (buffer) {\n          buffer.forEach(function (e) {\n            return emitter.fire(e);\n          });\n        }\n\n        buffer = null;\n      };\n\n      var emitter = new Emitter({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          if (!listener) {\n            listener = event(function (e) {\n              return emitter.fire(e);\n            });\n          }\n        },\n        onFirstListenerDidAdd: function onFirstListenerDidAdd() {\n          if (buffer) {\n            if (nextTick) {\n              setTimeout(flush, 0);\n            } else {\n              flush();\n            }\n          }\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          if (listener) {\n            listener.dispose();\n          }\n\n          listener = null;\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.buffer = buffer;\n\n    var ChainableEvent =\n    /*#__PURE__*/\n    function () {\n      function ChainableEvent(event) {\n        _classCallCheck(this, ChainableEvent);\n\n        this.event = event;\n      }\n\n      _createClass(ChainableEvent, [{\n        key: \"map\",\n        value: function map(fn) {\n          return new ChainableEvent(_map(this.event, fn));\n        }\n      }, {\n        key: \"forEach\",\n        value: function forEach(fn) {\n          return new ChainableEvent(_forEach(this.event, fn));\n        }\n      }, {\n        key: \"filter\",\n        value: function filter(fn) {\n          return new ChainableEvent(_filter(this.event, fn));\n        }\n      }, {\n        key: \"reduce\",\n        value: function reduce(merge, initial) {\n          return new ChainableEvent(_reduce(this.event, merge, initial));\n        }\n      }, {\n        key: \"latch\",\n        value: function latch() {\n          return new ChainableEvent(_latch(this.event));\n        }\n      }, {\n        key: \"on\",\n        value: function on(listener, thisArgs, disposables) {\n          return this.event(listener, thisArgs, disposables);\n        }\n      }, {\n        key: \"once\",\n        value: function once(listener, thisArgs, disposables) {\n          return _once(this.event)(listener, thisArgs, disposables);\n        }\n      }]);\n\n      return ChainableEvent;\n    }();\n\n    function chain(event) {\n      return new ChainableEvent(event);\n    }\n\n    Event.chain = chain;\n\n    function fromNodeEventEmitter(emitter, eventName) {\n      var map = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (id) {\n        return id;\n      };\n\n      var fn = function fn() {\n        return result.fire(map.apply(void 0, arguments));\n      };\n\n      var onFirstListenerAdd = function onFirstListenerAdd() {\n        return emitter.on(eventName, fn);\n      };\n\n      var onLastListenerRemove = function onLastListenerRemove() {\n        return emitter.removeListener(eventName, fn);\n      };\n\n      var result = new Emitter({\n        onFirstListenerAdd: onFirstListenerAdd,\n        onLastListenerRemove: onLastListenerRemove\n      });\n      return result.event;\n    }\n\n    Event.fromNodeEventEmitter = fromNodeEventEmitter;\n\n    function fromPromise(promise) {\n      var emitter = new Emitter();\n      var shouldEmit = false;\n      promise.then(undefined, function () {\n        return null;\n      }).then(function () {\n        if (!shouldEmit) {\n          setTimeout(function () {\n            return emitter.fire(undefined);\n          }, 0);\n        } else {\n          emitter.fire(undefined);\n        }\n      });\n      shouldEmit = true;\n      return emitter.event;\n    }\n\n    Event.fromPromise = fromPromise;\n\n    function toPromise(event) {\n      return new Promise(function (c) {\n        return _once(event)(c);\n      });\n    }\n\n    Event.toPromise = toPromise;\n  })(Event || (Event = {}));\n\n  var _globalLeakWarningThreshold = -1;\n\n  var LeakageMonitor =\n  /*#__PURE__*/\n  function () {\n    function LeakageMonitor(customThreshold) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Math.random().toString(18).slice(2, 5);\n\n      _classCallCheck(this, LeakageMonitor);\n\n      this.customThreshold = customThreshold;\n      this.name = name;\n      this._warnCountdown = 0;\n    }\n\n    _createClass(LeakageMonitor, [{\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._stacks) {\n          this._stacks.clear();\n        }\n      }\n    }, {\n      key: \"check\",\n      value: function check(listenerCount) {\n        var _this4 = this;\n\n        var threshold = _globalLeakWarningThreshold;\n\n        if (typeof this.customThreshold === 'number') {\n          threshold = this.customThreshold;\n        }\n\n        if (threshold <= 0 || listenerCount < threshold) {\n          return undefined;\n        }\n\n        if (!this._stacks) {\n          this._stacks = new Map();\n        }\n\n        var stack = new Error().stack.split('\\n').slice(3).join('\\n');\n        var count = this._stacks.get(stack) || 0;\n\n        this._stacks.set(stack, count + 1);\n\n        this._warnCountdown -= 1;\n\n        if (this._warnCountdown <= 0) {\n          // only warn on first exceed and then every time the limit\n          // is exceeded by 50% again\n          this._warnCountdown = threshold * 0.5; // find most frequent listener and print warning\n\n          var topStack;\n          var topCount = 0;\n\n          this._stacks.forEach(function (count, stack) {\n            if (!topStack || topCount < count) {\n              topStack = stack;\n              topCount = count;\n            }\n          });\n\n          console.warn(\"[\".concat(this.name, \"] potential listener LEAK detected, having \").concat(listenerCount, \" listeners already. MOST frequent listener (\").concat(topCount, \"):\"));\n          console.warn(topStack);\n        }\n\n        return function () {\n          var count = _this4._stacks.get(stack) || 0;\n\n          _this4._stacks.set(stack, count - 1);\n        };\n      }\n    }]);\n\n    return LeakageMonitor;\n  }();\n  /**\r\n   * The Emitter can be used to expose an Event to the public\r\n   * to fire it from the insides.\r\n   * Sample:\r\n      class Document {\r\n          private _onDidChange = new Emitter<(value:string)=>any>();\r\n          public onDidChange = this._onDidChange.event;\r\n          // getter-style\r\n          // get onDidChange(): Event<(value:string)=>any> {\r\n          // \treturn this._onDidChange.event;\r\n          // }\r\n          private _doIt() {\r\n              //...\r\n              this._onDidChange.fire(value);\r\n          }\r\n      }\r\n   */\n\n\n  var Emitter =\n  /*#__PURE__*/\n  function () {\n    function Emitter(options) {\n      _classCallCheck(this, Emitter);\n\n      this._disposed = false;\n      this._options = options;\n      this._leakageMon = _globalLeakWarningThreshold > 0 ? new LeakageMonitor(this._options && this._options.leakWarningThreshold) : undefined;\n    }\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\n\n\n    _createClass(Emitter, [{\n      key: \"fire\",\n\n      /**\r\n       * To be kept private to fire an event to\r\n       * subscribers\r\n       */\n      value: function fire(event) {\n        if (this._listeners) {\n          // put all [listener,event]-pairs into delivery queue\n          // then emit all event. an inner/nested event might be\n          // the driver of this\n          if (!this._deliveryQueue) {\n            this._deliveryQueue = new LinkedList();\n          }\n\n          for (var iter = this._listeners.iterator(), e = iter.next(); !e.done; e = iter.next()) {\n            this._deliveryQueue.push([e.value, event]);\n          }\n\n          while (this._deliveryQueue.size > 0) {\n            var _this$_deliveryQueue$ = this._deliveryQueue.shift(),\n                _this$_deliveryQueue$2 = _slicedToArray(_this$_deliveryQueue$, 2),\n                listener = _this$_deliveryQueue$2[0],\n                _event = _this$_deliveryQueue$2[1];\n\n            try {\n              if (typeof listener === 'function') {\n                listener.call(undefined, _event);\n              } else {\n                listener[0].call(listener[1], _event);\n              }\n            } catch (e) {\n              onUnexpectedError(e);\n            }\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._listeners) {\n          this._listeners.clear();\n        }\n\n        if (this._deliveryQueue) {\n          this._deliveryQueue.clear();\n        }\n\n        if (this._leakageMon) {\n          this._leakageMon.dispose();\n        }\n\n        this._disposed = true;\n      }\n    }, {\n      key: \"event\",\n      get: function get() {\n        var _this5 = this;\n\n        if (!this._event) {\n          this._event = function (listener, thisArgs, disposables) {\n            if (!_this5._listeners) {\n              _this5._listeners = new LinkedList();\n            }\n\n            var firstListener = _this5._listeners.isEmpty();\n\n            if (firstListener && _this5._options && _this5._options.onFirstListenerAdd) {\n              _this5._options.onFirstListenerAdd(_this5);\n            }\n\n            var remove = _this5._listeners.push(!thisArgs ? listener : [listener, thisArgs]);\n\n            if (firstListener && _this5._options && _this5._options.onFirstListenerDidAdd) {\n              _this5._options.onFirstListenerDidAdd(_this5);\n            }\n\n            if (_this5._options && _this5._options.onListenerDidAdd) {\n              _this5._options.onListenerDidAdd(_this5, listener, thisArgs);\n            } // check and record this emitter for potential leakage\n\n\n            var removeMonitor;\n\n            if (_this5._leakageMon) {\n              removeMonitor = _this5._leakageMon.check(_this5._listeners.size);\n            }\n\n            var result;\n            result = {\n              dispose: function dispose() {\n                if (removeMonitor) {\n                  removeMonitor();\n                }\n\n                result.dispose = Emitter._noop;\n\n                if (!_this5._disposed) {\n                  remove();\n\n                  if (_this5._options && _this5._options.onLastListenerRemove) {\n                    var hasListeners = _this5._listeners && !_this5._listeners.isEmpty();\n\n                    if (!hasListeners) {\n                      _this5._options.onLastListenerRemove(_this5);\n                    }\n                  }\n                }\n              }\n            };\n\n            if (Array.isArray(disposables)) {\n              disposables.push(result);\n            }\n\n            return result;\n          };\n        }\n\n        return this._event;\n      }\n    }]);\n\n    return Emitter;\n  }();\n\n  Emitter._noop = function () {};\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var shortcutEvent = Object.freeze(function (callback, context) {\n    var handle = setTimeout(callback.bind(context), 0);\n    return {\n      dispose: function dispose() {\n        clearTimeout(handle);\n      }\n    };\n  });\n\n  (function (CancellationToken) {\n    function isCancellationToken(thing) {\n      if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n        return true;\n      }\n\n      if (thing instanceof MutableToken) {\n        return true;\n      }\n\n      if (!thing || typeof thing !== 'object') {\n        return false;\n      }\n\n      return typeof thing.isCancellationRequested === 'boolean' && typeof thing.onCancellationRequested === 'function';\n    }\n\n    CancellationToken.isCancellationToken = isCancellationToken;\n    CancellationToken.None = Object.freeze({\n      isCancellationRequested: false,\n      onCancellationRequested: Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n      isCancellationRequested: true,\n      onCancellationRequested: shortcutEvent\n    });\n  })(exports.CancellationToken || (exports.CancellationToken = {}));\n\n  var MutableToken =\n  /*#__PURE__*/\n  function () {\n    function MutableToken() {\n      _classCallCheck(this, MutableToken);\n\n      this._isCancelled = false;\n      this._emitter = null;\n    }\n\n    _createClass(MutableToken, [{\n      key: \"cancel\",\n      value: function cancel() {\n        if (!this._isCancelled) {\n          this._isCancelled = true;\n\n          if (this._emitter) {\n            this._emitter.fire(undefined);\n\n            this.dispose();\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._emitter) {\n          this._emitter.dispose();\n\n          this._emitter = null;\n        }\n      }\n    }, {\n      key: \"isCancellationRequested\",\n      get: function get() {\n        return this._isCancelled;\n      }\n    }, {\n      key: \"onCancellationRequested\",\n      get: function get() {\n        if (this._isCancelled) {\n          return shortcutEvent;\n        }\n\n        if (!this._emitter) {\n          this._emitter = new Emitter();\n        }\n\n        return this._emitter.event;\n      }\n    }]);\n\n    return MutableToken;\n  }();\n\n  var CancellationTokenSource =\n  /*#__PURE__*/\n  function () {\n    function CancellationTokenSource(parent) {\n      _classCallCheck(this, CancellationTokenSource);\n\n      this._token = undefined;\n      this._parentListener = undefined;\n      this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n    }\n\n    _createClass(CancellationTokenSource, [{\n      key: \"cancel\",\n      value: function cancel() {\n        if (!this._token) {\n          // save an object by returning the default\n          // cancelled token when cancellation happens\n          // before someone asks for the token\n          this._token = exports.CancellationToken.Cancelled;\n        } else if (this._token instanceof MutableToken) {\n          // actually cancel\n          this._token.cancel();\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._parentListener) {\n          this._parentListener.dispose();\n        }\n\n        if (!this._token) {\n          // ensure to initialize with an empty token if we had none\n          this._token = exports.CancellationToken.None;\n        } else if (this._token instanceof MutableToken) {\n          // actually dispose\n          this._token.dispose();\n        }\n      }\n    }, {\n      key: \"token\",\n      get: function get() {\n        if (!this._token) {\n          // be lazy and create the token only when\n          // actually needed\n          this._token = new MutableToken();\n        }\n\n        return this._token;\n      }\n    }]);\n\n    return CancellationTokenSource;\n  }();\n\n  (function () {\n    if (typeof requestIdleCallback !== 'function' || typeof cancelIdleCallback !== 'function') {\n      var dummyIdle = Object.freeze({\n        didTimeout: true,\n        timeRemaining: function timeRemaining() {\n          return 15;\n        }\n      });\n    }\n  })();\n\n  var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  function encode(decoded) {\n    var sourceFileIndex = 0; // second field\n\n    var sourceCodeLine = 0; // third field\n\n    var sourceCodeColumn = 0; // fourth field\n\n    var nameIndex = 0; // fifth field\n\n    var mappings = '';\n\n    for (var i = 0; i < decoded.length; i++) {\n      var line = decoded[i];\n      if (i > 0) mappings += ';';\n      if (line.length === 0) continue;\n      var generatedCodeColumn = 0; // first field\n\n      var lineMappings = [];\n\n      for (var _i = 0, line_1 = line; _i < line_1.length; _i++) {\n        var segment = line_1[_i];\n        var segmentMappings = encodeInteger(segment[0] - generatedCodeColumn);\n        generatedCodeColumn = segment[0];\n\n        if (segment.length > 1) {\n          segmentMappings += encodeInteger(segment[1] - sourceFileIndex) + encodeInteger(segment[2] - sourceCodeLine) + encodeInteger(segment[3] - sourceCodeColumn);\n          sourceFileIndex = segment[1];\n          sourceCodeLine = segment[2];\n          sourceCodeColumn = segment[3];\n        }\n\n        if (segment.length === 5) {\n          segmentMappings += encodeInteger(segment[4] - nameIndex);\n          nameIndex = segment[4];\n        }\n\n        lineMappings.push(segmentMappings);\n      }\n\n      mappings += lineMappings.join(',');\n    }\n\n    return mappings;\n  }\n\n  function encodeInteger(num) {\n    var result = '';\n    num = num < 0 ? -num << 1 | 1 : num << 1;\n\n    do {\n      var clamped = num & 31;\n      num >>>= 5;\n\n      if (num > 0) {\n        clamped |= 32;\n      }\n\n      result += chars[clamped];\n    } while (num > 0);\n\n    return result;\n  }\n\n  var Chunk = function Chunk(start, end, content) {\n    this.start = start;\n    this.end = end;\n    this.original = content;\n    this.intro = '';\n    this.outro = '';\n    this.content = content;\n    this.storeName = false;\n    this.edited = false; // we make these non-enumerable, for sanity while debugging\n\n    Object.defineProperties(this, {\n      previous: {\n        writable: true,\n        value: null\n      },\n      next: {\n        writable: true,\n        value: null\n      }\n    });\n  };\n\n  Chunk.prototype.appendLeft = function appendLeft(content) {\n    this.outro += content;\n  };\n\n  Chunk.prototype.appendRight = function appendRight(content) {\n    this.intro = this.intro + content;\n  };\n\n  Chunk.prototype.clone = function clone() {\n    var chunk = new Chunk(this.start, this.end, this.original);\n    chunk.intro = this.intro;\n    chunk.outro = this.outro;\n    chunk.content = this.content;\n    chunk.storeName = this.storeName;\n    chunk.edited = this.edited;\n    return chunk;\n  };\n\n  Chunk.prototype.contains = function contains(index) {\n    return this.start < index && index < this.end;\n  };\n\n  Chunk.prototype.eachNext = function eachNext(fn) {\n    var chunk = this;\n\n    while (chunk) {\n      fn(chunk);\n      chunk = chunk.next;\n    }\n  };\n\n  Chunk.prototype.eachPrevious = function eachPrevious(fn) {\n    var chunk = this;\n\n    while (chunk) {\n      fn(chunk);\n      chunk = chunk.previous;\n    }\n  };\n\n  Chunk.prototype.edit = function edit(content, storeName, contentOnly) {\n    this.content = content;\n\n    if (!contentOnly) {\n      this.intro = '';\n      this.outro = '';\n    }\n\n    this.storeName = storeName;\n    this.edited = true;\n    return this;\n  };\n\n  Chunk.prototype.prependLeft = function prependLeft(content) {\n    this.outro = content + this.outro;\n  };\n\n  Chunk.prototype.prependRight = function prependRight(content) {\n    this.intro = content + this.intro;\n  };\n\n  Chunk.prototype.split = function split(index) {\n    var sliceIndex = index - this.start;\n    var originalBefore = this.original.slice(0, sliceIndex);\n    var originalAfter = this.original.slice(sliceIndex);\n    this.original = originalBefore;\n    var newChunk = new Chunk(index, this.end, originalAfter);\n    newChunk.outro = this.outro;\n    this.outro = '';\n    this.end = index;\n\n    if (this.edited) {\n      // TODO is this block necessary?...\n      newChunk.edit('', false);\n      this.content = '';\n    } else {\n      this.content = originalBefore;\n    }\n\n    newChunk.next = this.next;\n\n    if (newChunk.next) {\n      newChunk.next.previous = newChunk;\n    }\n\n    newChunk.previous = this;\n    this.next = newChunk;\n    return newChunk;\n  };\n\n  Chunk.prototype.toString = function toString() {\n    return this.intro + this.content + this.outro;\n  };\n\n  Chunk.prototype.trimEnd = function trimEnd(rx) {\n    this.outro = this.outro.replace(rx, '');\n\n    if (this.outro.length) {\n      return true;\n    }\n\n    var trimmed = this.content.replace(rx, '');\n\n    if (trimmed.length) {\n      if (trimmed !== this.content) {\n        this.split(this.start + trimmed.length).edit('', undefined, true);\n      }\n\n      return true;\n    } else {\n      this.edit('', undefined, true);\n      this.intro = this.intro.replace(rx, '');\n\n      if (this.intro.length) {\n        return true;\n      }\n    }\n  };\n\n  Chunk.prototype.trimStart = function trimStart(rx) {\n    this.intro = this.intro.replace(rx, '');\n\n    if (this.intro.length) {\n      return true;\n    }\n\n    var trimmed = this.content.replace(rx, '');\n\n    if (trimmed.length) {\n      if (trimmed !== this.content) {\n        this.split(this.end - trimmed.length);\n        this.edit('', undefined, true);\n      }\n\n      return true;\n    } else {\n      this.edit('', undefined, true);\n      this.outro = this.outro.replace(rx, '');\n\n      if (this.outro.length) {\n        return true;\n      }\n    }\n  };\n\n  var btoa = function btoa() {\n    throw new Error('Unsupported environment: `window.btoa` or `Buffer` should be supported.');\n  };\n\n  if (typeof window !== 'undefined' && typeof window.btoa === 'function') {\n    btoa = function btoa(str) {\n      return window.btoa(unescape(encodeURIComponent(str)));\n    };\n  } else if (typeof Buffer === 'function') {\n    btoa = function btoa(str) {\n      return Buffer.from(str, 'utf-8').toString('base64');\n    };\n  }\n\n  var SourceMap = function SourceMap(properties) {\n    this.version = 3;\n    this.file = properties.file;\n    this.sources = properties.sources;\n    this.sourcesContent = properties.sourcesContent;\n    this.names = properties.names;\n    this.mappings = encode(properties.mappings);\n  };\n\n  SourceMap.prototype.toString = function toString() {\n    return JSON.stringify(this);\n  };\n\n  SourceMap.prototype.toUrl = function toUrl() {\n    return 'data:application/json;charset=utf-8;base64,' + btoa(this.toString());\n  };\n\n  function guessIndent(code) {\n    var lines = code.split('\\n');\n    var tabbed = lines.filter(function (line) {\n      return /^\\t+/.test(line);\n    });\n    var spaced = lines.filter(function (line) {\n      return /^ {2,}/.test(line);\n    });\n\n    if (tabbed.length === 0 && spaced.length === 0) {\n      return null;\n    } // More lines tabbed than spaced? Assume tabs, and\n    // default to tabs in the case of a tie (or nothing\n    // to go on)\n\n\n    if (tabbed.length >= spaced.length) {\n      return '\\t';\n    } // Otherwise, we need to guess the multiple\n\n\n    var min = spaced.reduce(function (previous, current) {\n      var numSpaces = /^ +/.exec(current)[0].length;\n      return Math.min(numSpaces, previous);\n    }, Infinity);\n    return new Array(min + 1).join(' ');\n  }\n\n  function getRelativePath(from, to) {\n    var fromParts = from.split(/[/\\\\]/);\n    var toParts = to.split(/[/\\\\]/);\n    fromParts.pop(); // get dirname\n\n    while (fromParts[0] === toParts[0]) {\n      fromParts.shift();\n      toParts.shift();\n    }\n\n    if (fromParts.length) {\n      var i = fromParts.length;\n\n      while (i--) {\n        fromParts[i] = '..';\n      }\n    }\n\n    return fromParts.concat(toParts).join('/');\n  }\n\n  var toString = Object.prototype.toString;\n\n  function isObject(thing) {\n    return toString.call(thing) === '[object Object]';\n  }\n\n  function getLocator(source) {\n    var originalLines = source.split('\\n');\n    var lineOffsets = [];\n\n    for (var i = 0, pos = 0; i < originalLines.length; i++) {\n      lineOffsets.push(pos);\n      pos += originalLines[i].length + 1;\n    }\n\n    return function locate(index) {\n      var i = 0;\n      var j = lineOffsets.length;\n\n      while (i < j) {\n        var m = i + j >> 1;\n\n        if (index < lineOffsets[m]) {\n          j = m;\n        } else {\n          i = m + 1;\n        }\n      }\n\n      var line = i - 1;\n      var column = index - lineOffsets[line];\n      return {\n        line: line,\n        column: column\n      };\n    };\n  }\n\n  var Mappings = function Mappings(hires) {\n    this.hires = hires;\n    this.generatedCodeLine = 0;\n    this.generatedCodeColumn = 0;\n    this.raw = [];\n    this.rawSegments = this.raw[this.generatedCodeLine] = [];\n    this.pending = null;\n  };\n\n  Mappings.prototype.addEdit = function addEdit(sourceIndex, content, loc, nameIndex) {\n    if (content.length) {\n      var segment = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\n\n      if (nameIndex >= 0) {\n        segment.push(nameIndex);\n      }\n\n      this.rawSegments.push(segment);\n    } else if (this.pending) {\n      this.rawSegments.push(this.pending);\n    }\n\n    this.advance(content);\n    this.pending = null;\n  };\n\n  Mappings.prototype.addUneditedChunk = function addUneditedChunk(sourceIndex, chunk, original, loc, sourcemapLocations) {\n    var this$1 = this;\n    var originalCharIndex = chunk.start;\n    var first = true;\n\n    while (originalCharIndex < chunk.end) {\n      if (this$1.hires || first || sourcemapLocations[originalCharIndex]) {\n        this$1.rawSegments.push([this$1.generatedCodeColumn, sourceIndex, loc.line, loc.column]);\n      }\n\n      if (original[originalCharIndex] === '\\n') {\n        loc.line += 1;\n        loc.column = 0;\n        this$1.generatedCodeLine += 1;\n        this$1.raw[this$1.generatedCodeLine] = this$1.rawSegments = [];\n        this$1.generatedCodeColumn = 0;\n      } else {\n        loc.column += 1;\n        this$1.generatedCodeColumn += 1;\n      }\n\n      originalCharIndex += 1;\n      first = false;\n    }\n\n    this.pending = [this.generatedCodeColumn, sourceIndex, loc.line, loc.column];\n  };\n\n  Mappings.prototype.advance = function advance(str) {\n    var this$1 = this;\n\n    if (!str) {\n      return;\n    }\n\n    var lines = str.split('\\n');\n\n    if (lines.length > 1) {\n      for (var i = 0; i < lines.length - 1; i++) {\n        this$1.generatedCodeLine++;\n        this$1.raw[this$1.generatedCodeLine] = this$1.rawSegments = [];\n      }\n\n      this.generatedCodeColumn = 0;\n    }\n\n    this.generatedCodeColumn += lines[lines.length - 1].length;\n  };\n\n  var n = '\\n';\n  var warned = {\n    insertLeft: false,\n    insertRight: false,\n    storeName: false\n  };\n\n  var MagicString = function MagicString(string, options) {\n    if (options === void 0) options = {};\n    var chunk = new Chunk(0, string.length, string);\n    Object.defineProperties(this, {\n      original: {\n        writable: true,\n        value: string\n      },\n      outro: {\n        writable: true,\n        value: ''\n      },\n      intro: {\n        writable: true,\n        value: ''\n      },\n      firstChunk: {\n        writable: true,\n        value: chunk\n      },\n      lastChunk: {\n        writable: true,\n        value: chunk\n      },\n      lastSearchedChunk: {\n        writable: true,\n        value: chunk\n      },\n      byStart: {\n        writable: true,\n        value: {}\n      },\n      byEnd: {\n        writable: true,\n        value: {}\n      },\n      filename: {\n        writable: true,\n        value: options.filename\n      },\n      indentExclusionRanges: {\n        writable: true,\n        value: options.indentExclusionRanges\n      },\n      sourcemapLocations: {\n        writable: true,\n        value: {}\n      },\n      storedNames: {\n        writable: true,\n        value: {}\n      },\n      indentStr: {\n        writable: true,\n        value: guessIndent(string)\n      }\n    });\n    this.byStart[0] = chunk;\n    this.byEnd[string.length] = chunk;\n  };\n\n  MagicString.prototype.addSourcemapLocation = function addSourcemapLocation(char) {\n    this.sourcemapLocations[char] = true;\n  };\n\n  MagicString.prototype.append = function append(content) {\n    if (typeof content !== 'string') {\n      throw new TypeError('outro content must be a string');\n    }\n\n    this.outro += content;\n    return this;\n  };\n\n  MagicString.prototype.appendLeft = function appendLeft(index, content) {\n    if (typeof content !== 'string') {\n      throw new TypeError('inserted content must be a string');\n    }\n\n    this._split(index);\n\n    var chunk = this.byEnd[index];\n\n    if (chunk) {\n      chunk.appendLeft(content);\n    } else {\n      this.intro += content;\n    }\n\n    return this;\n  };\n\n  MagicString.prototype.appendRight = function appendRight(index, content) {\n    if (typeof content !== 'string') {\n      throw new TypeError('inserted content must be a string');\n    }\n\n    this._split(index);\n\n    var chunk = this.byStart[index];\n\n    if (chunk) {\n      chunk.appendRight(content);\n    } else {\n      this.outro += content;\n    }\n\n    return this;\n  };\n\n  MagicString.prototype.clone = function clone() {\n    var cloned = new MagicString(this.original, {\n      filename: this.filename\n    });\n    var originalChunk = this.firstChunk;\n    var clonedChunk = cloned.firstChunk = cloned.lastSearchedChunk = originalChunk.clone();\n\n    while (originalChunk) {\n      cloned.byStart[clonedChunk.start] = clonedChunk;\n      cloned.byEnd[clonedChunk.end] = clonedChunk;\n      var nextOriginalChunk = originalChunk.next;\n      var nextClonedChunk = nextOriginalChunk && nextOriginalChunk.clone();\n\n      if (nextClonedChunk) {\n        clonedChunk.next = nextClonedChunk;\n        nextClonedChunk.previous = clonedChunk;\n        clonedChunk = nextClonedChunk;\n      }\n\n      originalChunk = nextOriginalChunk;\n    }\n\n    cloned.lastChunk = clonedChunk;\n\n    if (this.indentExclusionRanges) {\n      cloned.indentExclusionRanges = this.indentExclusionRanges.slice();\n    }\n\n    Object.keys(this.sourcemapLocations).forEach(function (loc) {\n      cloned.sourcemapLocations[loc] = true;\n    });\n    cloned.intro = this.intro;\n    cloned.outro = this.outro;\n    return cloned;\n  };\n\n  MagicString.prototype.generateDecodedMap = function generateDecodedMap(options) {\n    var this$1 = this;\n    options = options || {};\n    var sourceIndex = 0;\n    var names = Object.keys(this.storedNames);\n    var mappings = new Mappings(options.hires);\n    var locate = getLocator(this.original);\n\n    if (this.intro) {\n      mappings.advance(this.intro);\n    }\n\n    this.firstChunk.eachNext(function (chunk) {\n      var loc = locate(chunk.start);\n\n      if (chunk.intro.length) {\n        mappings.advance(chunk.intro);\n      }\n\n      if (chunk.edited) {\n        mappings.addEdit(sourceIndex, chunk.content, loc, chunk.storeName ? names.indexOf(chunk.original) : -1);\n      } else {\n        mappings.addUneditedChunk(sourceIndex, chunk, this$1.original, loc, this$1.sourcemapLocations);\n      }\n\n      if (chunk.outro.length) {\n        mappings.advance(chunk.outro);\n      }\n    });\n    return {\n      file: options.file ? options.file.split(/[/\\\\]/).pop() : null,\n      sources: [options.source ? getRelativePath(options.file || '', options.source) : null],\n      sourcesContent: options.includeContent ? [this.original] : [null],\n      names: names,\n      mappings: mappings.raw\n    };\n  };\n\n  MagicString.prototype.generateMap = function generateMap(options) {\n    return new SourceMap(this.generateDecodedMap(options));\n  };\n\n  MagicString.prototype.getIndentString = function getIndentString() {\n    return this.indentStr === null ? '\\t' : this.indentStr;\n  };\n\n  MagicString.prototype.indent = function indent(indentStr, options) {\n    var this$1 = this;\n    var pattern = /^[^\\r\\n]/gm;\n\n    if (isObject(indentStr)) {\n      options = indentStr;\n      indentStr = undefined;\n    }\n\n    indentStr = indentStr !== undefined ? indentStr : this.indentStr || '\\t';\n\n    if (indentStr === '') {\n      return this;\n    } // noop\n\n\n    options = options || {}; // Process exclusion ranges\n\n    var isExcluded = {};\n\n    if (options.exclude) {\n      var exclusions = typeof options.exclude[0] === 'number' ? [options.exclude] : options.exclude;\n      exclusions.forEach(function (exclusion) {\n        for (var i = exclusion[0]; i < exclusion[1]; i += 1) {\n          isExcluded[i] = true;\n        }\n      });\n    }\n\n    var shouldIndentNextCharacter = options.indentStart !== false;\n\n    var replacer = function replacer(match) {\n      if (shouldIndentNextCharacter) {\n        return \"\" + indentStr + match;\n      }\n\n      shouldIndentNextCharacter = true;\n      return match;\n    };\n\n    this.intro = this.intro.replace(pattern, replacer);\n    var charIndex = 0;\n    var chunk = this.firstChunk;\n\n    while (chunk) {\n      var end = chunk.end;\n\n      if (chunk.edited) {\n        if (!isExcluded[charIndex]) {\n          chunk.content = chunk.content.replace(pattern, replacer);\n\n          if (chunk.content.length) {\n            shouldIndentNextCharacter = chunk.content[chunk.content.length - 1] === '\\n';\n          }\n        }\n      } else {\n        charIndex = chunk.start;\n\n        while (charIndex < end) {\n          if (!isExcluded[charIndex]) {\n            var char = this$1.original[charIndex];\n\n            if (char === '\\n') {\n              shouldIndentNextCharacter = true;\n            } else if (char !== '\\r' && shouldIndentNextCharacter) {\n              shouldIndentNextCharacter = false;\n\n              if (charIndex === chunk.start) {\n                chunk.prependRight(indentStr);\n              } else {\n                this$1._splitChunk(chunk, charIndex);\n\n                chunk = chunk.next;\n                chunk.prependRight(indentStr);\n              }\n            }\n          }\n\n          charIndex += 1;\n        }\n      }\n\n      charIndex = chunk.end;\n      chunk = chunk.next;\n    }\n\n    this.outro = this.outro.replace(pattern, replacer);\n    return this;\n  };\n\n  MagicString.prototype.insert = function insert() {\n    throw new Error('magicString.insert(...) is deprecated. Use prependRight(...) or appendLeft(...)');\n  };\n\n  MagicString.prototype.insertLeft = function insertLeft(index, content) {\n    if (!warned.insertLeft) {\n      console.warn('magicString.insertLeft(...) is deprecated. Use magicString.appendLeft(...) instead'); // eslint-disable-line no-console\n\n      warned.insertLeft = true;\n    }\n\n    return this.appendLeft(index, content);\n  };\n\n  MagicString.prototype.insertRight = function insertRight(index, content) {\n    if (!warned.insertRight) {\n      console.warn('magicString.insertRight(...) is deprecated. Use magicString.prependRight(...) instead'); // eslint-disable-line no-console\n\n      warned.insertRight = true;\n    }\n\n    return this.prependRight(index, content);\n  };\n\n  MagicString.prototype.move = function move(start, end, index) {\n    if (index >= start && index <= end) {\n      throw new Error('Cannot move a selection inside itself');\n    }\n\n    this._split(start);\n\n    this._split(end);\n\n    this._split(index);\n\n    var first = this.byStart[start];\n    var last = this.byEnd[end];\n    var oldLeft = first.previous;\n    var oldRight = last.next;\n    var newRight = this.byStart[index];\n\n    if (!newRight && last === this.lastChunk) {\n      return this;\n    }\n\n    var newLeft = newRight ? newRight.previous : this.lastChunk;\n\n    if (oldLeft) {\n      oldLeft.next = oldRight;\n    }\n\n    if (oldRight) {\n      oldRight.previous = oldLeft;\n    }\n\n    if (newLeft) {\n      newLeft.next = first;\n    }\n\n    if (newRight) {\n      newRight.previous = last;\n    }\n\n    if (!first.previous) {\n      this.firstChunk = last.next;\n    }\n\n    if (!last.next) {\n      this.lastChunk = first.previous;\n      this.lastChunk.next = null;\n    }\n\n    first.previous = newLeft;\n    last.next = newRight || null;\n\n    if (!newLeft) {\n      this.firstChunk = first;\n    }\n\n    if (!newRight) {\n      this.lastChunk = last;\n    }\n\n    return this;\n  };\n\n  MagicString.prototype.overwrite = function overwrite(start, end, content, options) {\n    var this$1 = this;\n\n    if (typeof content !== 'string') {\n      throw new TypeError('replacement content must be a string');\n    }\n\n    while (start < 0) {\n      start += this$1.original.length;\n    }\n\n    while (end < 0) {\n      end += this$1.original.length;\n    }\n\n    if (end > this.original.length) {\n      throw new Error('end is out of bounds');\n    }\n\n    if (start === end) {\n      throw new Error('Cannot overwrite a zero-length range  use appendLeft or prependRight instead');\n    }\n\n    this._split(start);\n\n    this._split(end);\n\n    if (options === true) {\n      if (!warned.storeName) {\n        console.warn('The final argument to magicString.overwrite(...) should be an options object. See https://github.com/rich-harris/magic-string'); // eslint-disable-line no-console\n\n        warned.storeName = true;\n      }\n\n      options = {\n        storeName: true\n      };\n    }\n\n    var storeName = options !== undefined ? options.storeName : false;\n    var contentOnly = options !== undefined ? options.contentOnly : false;\n\n    if (storeName) {\n      var original = this.original.slice(start, end);\n      this.storedNames[original] = true;\n    }\n\n    var first = this.byStart[start];\n    var last = this.byEnd[end];\n\n    if (first) {\n      if (end > first.end && first.next !== this.byStart[first.end]) {\n        throw new Error('Cannot overwrite across a split point');\n      }\n\n      first.edit(content, storeName, contentOnly);\n\n      if (first !== last) {\n        var chunk = first.next;\n\n        while (chunk !== last) {\n          chunk.edit('', false);\n          chunk = chunk.next;\n        }\n\n        chunk.edit('', false);\n      }\n    } else {\n      // must be inserting at the end\n      var newChunk = new Chunk(start, end, '').edit(content, storeName); // TODO last chunk in the array may not be the last chunk, if it's moved...\n\n      last.next = newChunk;\n      newChunk.previous = last;\n    }\n\n    return this;\n  };\n\n  MagicString.prototype.prepend = function prepend(content) {\n    if (typeof content !== 'string') {\n      throw new TypeError('outro content must be a string');\n    }\n\n    this.intro = content + this.intro;\n    return this;\n  };\n\n  MagicString.prototype.prependLeft = function prependLeft(index, content) {\n    if (typeof content !== 'string') {\n      throw new TypeError('inserted content must be a string');\n    }\n\n    this._split(index);\n\n    var chunk = this.byEnd[index];\n\n    if (chunk) {\n      chunk.prependLeft(content);\n    } else {\n      this.intro = content + this.intro;\n    }\n\n    return this;\n  };\n\n  MagicString.prototype.prependRight = function prependRight(index, content) {\n    if (typeof content !== 'string') {\n      throw new TypeError('inserted content must be a string');\n    }\n\n    this._split(index);\n\n    var chunk = this.byStart[index];\n\n    if (chunk) {\n      chunk.prependRight(content);\n    } else {\n      this.outro = content + this.outro;\n    }\n\n    return this;\n  };\n\n  MagicString.prototype.remove = function remove(start, end) {\n    var this$1 = this;\n\n    while (start < 0) {\n      start += this$1.original.length;\n    }\n\n    while (end < 0) {\n      end += this$1.original.length;\n    }\n\n    if (start === end) {\n      return this;\n    }\n\n    if (start < 0 || end > this.original.length) {\n      throw new Error('Character is out of bounds');\n    }\n\n    if (start > end) {\n      throw new Error('end must be greater than start');\n    }\n\n    this._split(start);\n\n    this._split(end);\n\n    var chunk = this.byStart[start];\n\n    while (chunk) {\n      chunk.intro = '';\n      chunk.outro = '';\n      chunk.edit('');\n      chunk = end > chunk.end ? this$1.byStart[chunk.end] : null;\n    }\n\n    return this;\n  };\n\n  MagicString.prototype.lastChar = function lastChar() {\n    if (this.outro.length) {\n      return this.outro[this.outro.length - 1];\n    }\n\n    var chunk = this.lastChunk;\n\n    do {\n      if (chunk.outro.length) {\n        return chunk.outro[chunk.outro.length - 1];\n      }\n\n      if (chunk.content.length) {\n        return chunk.content[chunk.content.length - 1];\n      }\n\n      if (chunk.intro.length) {\n        return chunk.intro[chunk.intro.length - 1];\n      }\n    } while (chunk = chunk.previous);\n\n    if (this.intro.length) {\n      return this.intro[this.intro.length - 1];\n    }\n\n    return '';\n  };\n\n  MagicString.prototype.lastLine = function lastLine() {\n    var lineIndex = this.outro.lastIndexOf(n);\n\n    if (lineIndex !== -1) {\n      return this.outro.substr(lineIndex + 1);\n    }\n\n    var lineStr = this.outro;\n    var chunk = this.lastChunk;\n\n    do {\n      if (chunk.outro.length > 0) {\n        lineIndex = chunk.outro.lastIndexOf(n);\n\n        if (lineIndex !== -1) {\n          return chunk.outro.substr(lineIndex + 1) + lineStr;\n        }\n\n        lineStr = chunk.outro + lineStr;\n      }\n\n      if (chunk.content.length > 0) {\n        lineIndex = chunk.content.lastIndexOf(n);\n\n        if (lineIndex !== -1) {\n          return chunk.content.substr(lineIndex + 1) + lineStr;\n        }\n\n        lineStr = chunk.content + lineStr;\n      }\n\n      if (chunk.intro.length > 0) {\n        lineIndex = chunk.intro.lastIndexOf(n);\n\n        if (lineIndex !== -1) {\n          return chunk.intro.substr(lineIndex + 1) + lineStr;\n        }\n\n        lineStr = chunk.intro + lineStr;\n      }\n    } while (chunk = chunk.previous);\n\n    lineIndex = this.intro.lastIndexOf(n);\n\n    if (lineIndex !== -1) {\n      return this.intro.substr(lineIndex + 1) + lineStr;\n    }\n\n    return this.intro + lineStr;\n  };\n\n  MagicString.prototype.slice = function slice(start, end) {\n    var this$1 = this;\n    if (start === void 0) start = 0;\n    if (end === void 0) end = this.original.length;\n\n    while (start < 0) {\n      start += this$1.original.length;\n    }\n\n    while (end < 0) {\n      end += this$1.original.length;\n    }\n\n    var result = ''; // find start chunk\n\n    var chunk = this.firstChunk;\n\n    while (chunk && (chunk.start > start || chunk.end <= start)) {\n      // found end chunk before start\n      if (chunk.start < end && chunk.end >= end) {\n        return result;\n      }\n\n      chunk = chunk.next;\n    }\n\n    if (chunk && chunk.edited && chunk.start !== start) {\n      throw new Error(\"Cannot use replaced character \" + start + \" as slice start anchor.\");\n    }\n\n    var startChunk = chunk;\n\n    while (chunk) {\n      if (chunk.intro && (startChunk !== chunk || chunk.start === start)) {\n        result += chunk.intro;\n      }\n\n      var containsEnd = chunk.start < end && chunk.end >= end;\n\n      if (containsEnd && chunk.edited && chunk.end !== end) {\n        throw new Error(\"Cannot use replaced character \" + end + \" as slice end anchor.\");\n      }\n\n      var sliceStart = startChunk === chunk ? start - chunk.start : 0;\n      var sliceEnd = containsEnd ? chunk.content.length + end - chunk.end : chunk.content.length;\n      result += chunk.content.slice(sliceStart, sliceEnd);\n\n      if (chunk.outro && (!containsEnd || chunk.end === end)) {\n        result += chunk.outro;\n      }\n\n      if (containsEnd) {\n        break;\n      }\n\n      chunk = chunk.next;\n    }\n\n    return result;\n  }; // TODO deprecate this? not really very useful\n\n\n  MagicString.prototype.snip = function snip(start, end) {\n    var clone = this.clone();\n    clone.remove(0, start);\n    clone.remove(end, clone.original.length);\n    return clone;\n  };\n\n  MagicString.prototype._split = function _split(index) {\n    var this$1 = this;\n\n    if (this.byStart[index] || this.byEnd[index]) {\n      return;\n    }\n\n    var chunk = this.lastSearchedChunk;\n    var searchForward = index > chunk.end;\n\n    while (chunk) {\n      if (chunk.contains(index)) {\n        return this$1._splitChunk(chunk, index);\n      }\n\n      chunk = searchForward ? this$1.byStart[chunk.end] : this$1.byEnd[chunk.start];\n    }\n  };\n\n  MagicString.prototype._splitChunk = function _splitChunk(chunk, index) {\n    if (chunk.edited && chunk.content.length) {\n      // zero-length edited chunks are a special case (overlapping replacements)\n      var loc = getLocator(this.original)(index);\n      throw new Error(\"Cannot split a chunk that has already been edited (\" + loc.line + \":\" + loc.column + \"  \\\"\" + chunk.original + \"\\\")\");\n    }\n\n    var newChunk = chunk.split(index);\n    this.byEnd[index] = chunk;\n    this.byStart[index] = newChunk;\n    this.byEnd[newChunk.end] = newChunk;\n\n    if (chunk === this.lastChunk) {\n      this.lastChunk = newChunk;\n    }\n\n    this.lastSearchedChunk = chunk;\n    return true;\n  };\n\n  MagicString.prototype.toString = function toString() {\n    var str = this.intro;\n    var chunk = this.firstChunk;\n\n    while (chunk) {\n      str += chunk.toString();\n      chunk = chunk.next;\n    }\n\n    return str + this.outro;\n  };\n\n  MagicString.prototype.isEmpty = function isEmpty() {\n    var chunk = this.firstChunk;\n\n    do {\n      if (chunk.intro.length && chunk.intro.trim() || chunk.content.length && chunk.content.trim() || chunk.outro.length && chunk.outro.trim()) {\n        return false;\n      }\n    } while (chunk = chunk.next);\n\n    return true;\n  };\n\n  MagicString.prototype.length = function length() {\n    var chunk = this.firstChunk;\n    var length = 0;\n\n    do {\n      length += chunk.intro.length + chunk.content.length + chunk.outro.length;\n    } while (chunk = chunk.next);\n\n    return length;\n  };\n\n  MagicString.prototype.trimLines = function trimLines() {\n    return this.trim('[\\\\r\\\\n]');\n  };\n\n  MagicString.prototype.trim = function trim(charType) {\n    return this.trimStart(charType).trimEnd(charType);\n  };\n\n  MagicString.prototype.trimEndAborted = function trimEndAborted(charType) {\n    var this$1 = this;\n    var rx = new RegExp((charType || '\\\\s') + '+$');\n    this.outro = this.outro.replace(rx, '');\n\n    if (this.outro.length) {\n      return true;\n    }\n\n    var chunk = this.lastChunk;\n\n    do {\n      var end = chunk.end;\n      var aborted = chunk.trimEnd(rx); // if chunk was trimmed, we have a new lastChunk\n\n      if (chunk.end !== end) {\n        if (this$1.lastChunk === chunk) {\n          this$1.lastChunk = chunk.next;\n        }\n\n        this$1.byEnd[chunk.end] = chunk;\n        this$1.byStart[chunk.next.start] = chunk.next;\n        this$1.byEnd[chunk.next.end] = chunk.next;\n      }\n\n      if (aborted) {\n        return true;\n      }\n\n      chunk = chunk.previous;\n    } while (chunk);\n\n    return false;\n  };\n\n  MagicString.prototype.trimEnd = function trimEnd(charType) {\n    this.trimEndAborted(charType);\n    return this;\n  };\n\n  MagicString.prototype.trimStartAborted = function trimStartAborted(charType) {\n    var this$1 = this;\n    var rx = new RegExp('^' + (charType || '\\\\s') + '+');\n    this.intro = this.intro.replace(rx, '');\n\n    if (this.intro.length) {\n      return true;\n    }\n\n    var chunk = this.firstChunk;\n\n    do {\n      var end = chunk.end;\n      var aborted = chunk.trimStart(rx);\n\n      if (chunk.end !== end) {\n        // special case...\n        if (chunk === this$1.lastChunk) {\n          this$1.lastChunk = chunk.next;\n        }\n\n        this$1.byEnd[chunk.end] = chunk;\n        this$1.byStart[chunk.next.start] = chunk.next;\n        this$1.byEnd[chunk.next.end] = chunk.next;\n      }\n\n      if (aborted) {\n        return true;\n      }\n\n      chunk = chunk.next;\n    } while (chunk);\n\n    return false;\n  };\n\n  MagicString.prototype.trimStart = function trimStart(charType) {\n    this.trimStartAborted(charType);\n    return this;\n  };\n\n  var hasOwnProp = Object.prototype.hasOwnProperty;\n\n  var Bundle = function Bundle(options) {\n    if (options === void 0) options = {};\n    this.intro = options.intro || '';\n    this.separator = options.separator !== undefined ? options.separator : '\\n';\n    this.sources = [];\n    this.uniqueSources = [];\n    this.uniqueSourceIndexByFilename = {};\n  };\n\n  Bundle.prototype.addSource = function addSource(source) {\n    if (source instanceof MagicString) {\n      return this.addSource({\n        content: source,\n        filename: source.filename,\n        separator: this.separator\n      });\n    }\n\n    if (!isObject(source) || !source.content) {\n      throw new Error('bundle.addSource() takes an object with a `content` property, which should be an instance of MagicString, and an optional `filename`');\n    }\n\n    ['filename', 'indentExclusionRanges', 'separator'].forEach(function (option) {\n      if (!hasOwnProp.call(source, option)) {\n        source[option] = source.content[option];\n      }\n    });\n\n    if (source.separator === undefined) {\n      // TODO there's a bunch of this sort of thing, needs cleaning up\n      source.separator = this.separator;\n    }\n\n    if (source.filename) {\n      if (!hasOwnProp.call(this.uniqueSourceIndexByFilename, source.filename)) {\n        this.uniqueSourceIndexByFilename[source.filename] = this.uniqueSources.length;\n        this.uniqueSources.push({\n          filename: source.filename,\n          content: source.content.original\n        });\n      } else {\n        var uniqueSource = this.uniqueSources[this.uniqueSourceIndexByFilename[source.filename]];\n\n        if (source.content.original !== uniqueSource.content) {\n          throw new Error(\"Illegal source: same filename (\" + source.filename + \"), different contents\");\n        }\n      }\n    }\n\n    this.sources.push(source);\n    return this;\n  };\n\n  Bundle.prototype.append = function append(str, options) {\n    this.addSource({\n      content: new MagicString(str),\n      separator: options && options.separator || ''\n    });\n    return this;\n  };\n\n  Bundle.prototype.clone = function clone() {\n    var bundle = new Bundle({\n      intro: this.intro,\n      separator: this.separator\n    });\n    this.sources.forEach(function (source) {\n      bundle.addSource({\n        filename: source.filename,\n        content: source.content.clone(),\n        separator: source.separator\n      });\n    });\n    return bundle;\n  };\n\n  Bundle.prototype.generateDecodedMap = function generateDecodedMap(options) {\n    var this$1 = this;\n    if (options === void 0) options = {};\n    var names = [];\n    this.sources.forEach(function (source) {\n      Object.keys(source.content.storedNames).forEach(function (name) {\n        if (!~names.indexOf(name)) {\n          names.push(name);\n        }\n      });\n    });\n    var mappings = new Mappings(options.hires);\n\n    if (this.intro) {\n      mappings.advance(this.intro);\n    }\n\n    this.sources.forEach(function (source, i) {\n      if (i > 0) {\n        mappings.advance(this$1.separator);\n      }\n\n      var sourceIndex = source.filename ? this$1.uniqueSourceIndexByFilename[source.filename] : -1;\n      var magicString = source.content;\n      var locate = getLocator(magicString.original);\n\n      if (magicString.intro) {\n        mappings.advance(magicString.intro);\n      }\n\n      magicString.firstChunk.eachNext(function (chunk) {\n        var loc = locate(chunk.start);\n\n        if (chunk.intro.length) {\n          mappings.advance(chunk.intro);\n        }\n\n        if (source.filename) {\n          if (chunk.edited) {\n            mappings.addEdit(sourceIndex, chunk.content, loc, chunk.storeName ? names.indexOf(chunk.original) : -1);\n          } else {\n            mappings.addUneditedChunk(sourceIndex, chunk, magicString.original, loc, magicString.sourcemapLocations);\n          }\n        } else {\n          mappings.advance(chunk.content);\n        }\n\n        if (chunk.outro.length) {\n          mappings.advance(chunk.outro);\n        }\n      });\n\n      if (magicString.outro) {\n        mappings.advance(magicString.outro);\n      }\n    });\n    return {\n      file: options.file ? options.file.split(/[/\\\\]/).pop() : null,\n      sources: this.uniqueSources.map(function (source) {\n        return options.file ? getRelativePath(options.file, source.filename) : source.filename;\n      }),\n      sourcesContent: this.uniqueSources.map(function (source) {\n        return options.includeContent ? source.content : null;\n      }),\n      names: names,\n      mappings: mappings.raw\n    };\n  };\n\n  Bundle.prototype.generateMap = function generateMap(options) {\n    return new SourceMap(this.generateDecodedMap(options));\n  };\n\n  Bundle.prototype.getIndentString = function getIndentString() {\n    var indentStringCounts = {};\n    this.sources.forEach(function (source) {\n      var indentStr = source.content.indentStr;\n\n      if (indentStr === null) {\n        return;\n      }\n\n      if (!indentStringCounts[indentStr]) {\n        indentStringCounts[indentStr] = 0;\n      }\n\n      indentStringCounts[indentStr] += 1;\n    });\n    return Object.keys(indentStringCounts).sort(function (a, b) {\n      return indentStringCounts[a] - indentStringCounts[b];\n    })[0] || '\\t';\n  };\n\n  Bundle.prototype.indent = function indent(indentStr) {\n    var this$1 = this;\n\n    if (!arguments.length) {\n      indentStr = this.getIndentString();\n    }\n\n    if (indentStr === '') {\n      return this;\n    } // noop\n\n\n    var trailingNewline = !this.intro || this.intro.slice(-1) === '\\n';\n    this.sources.forEach(function (source, i) {\n      var separator = source.separator !== undefined ? source.separator : this$1.separator;\n      var indentStart = trailingNewline || i > 0 && /\\r?\\n$/.test(separator);\n      source.content.indent(indentStr, {\n        exclude: source.indentExclusionRanges,\n        indentStart: indentStart //: trailingNewline || /\\r?\\n$/.test( separator )  //true///\\r?\\n/.test( separator )\n\n      });\n      trailingNewline = source.content.lastChar() === '\\n';\n    });\n\n    if (this.intro) {\n      this.intro = indentStr + this.intro.replace(/^[^\\n]/gm, function (match, index) {\n        return index > 0 ? indentStr + match : match;\n      });\n    }\n\n    return this;\n  };\n\n  Bundle.prototype.prepend = function prepend(str) {\n    this.intro = str + this.intro;\n    return this;\n  };\n\n  Bundle.prototype.toString = function toString() {\n    var this$1 = this;\n    var body = this.sources.map(function (source, i) {\n      var separator = source.separator !== undefined ? source.separator : this$1.separator;\n      var str = (i > 0 ? separator : '') + source.content.toString();\n      return str;\n    }).join('');\n    return this.intro + body;\n  };\n\n  Bundle.prototype.isEmpty = function isEmpty() {\n    if (this.intro.length && this.intro.trim()) {\n      return false;\n    }\n\n    if (this.sources.some(function (source) {\n      return !source.content.isEmpty();\n    })) {\n      return false;\n    }\n\n    return true;\n  };\n\n  Bundle.prototype.length = function length() {\n    return this.sources.reduce(function (length, source) {\n      return length + source.content.length();\n    }, this.intro.length);\n  };\n\n  Bundle.prototype.trimLines = function trimLines() {\n    return this.trim('[\\\\r\\\\n]');\n  };\n\n  Bundle.prototype.trim = function trim(charType) {\n    return this.trimStart(charType).trimEnd(charType);\n  };\n\n  Bundle.prototype.trimStart = function trimStart(charType) {\n    var this$1 = this;\n    var rx = new RegExp('^' + (charType || '\\\\s') + '+');\n    this.intro = this.intro.replace(rx, '');\n\n    if (!this.intro) {\n      var source;\n      var i = 0;\n\n      do {\n        source = this$1.sources[i++];\n\n        if (!source) {\n          break;\n        }\n      } while (!source.content.trimStartAborted(charType));\n    }\n\n    return this;\n  };\n\n  Bundle.prototype.trimEnd = function trimEnd(charType) {\n    var this$1 = this;\n    var rx = new RegExp((charType || '\\\\s') + '+$');\n    var source;\n    var i = this.sources.length - 1;\n\n    do {\n      source = this$1.sources[i--];\n\n      if (!source) {\n        this$1.intro = this$1.intro.replace(rx, '');\n        break;\n      }\n    } while (!source.content.trimEndAborted(charType));\n\n    return this;\n  };\n\n  var RELATE_PATH_RX = /^[./]|^[a-z_-]+:/;\n  var SPEC_RX = /^((@[^/]+\\/[^/@]+|[^./@][^/@]*)(?:@([^/]+))?)(.*)?$/;\n\n  function isBareModuleSpecifier(spec) {\n    return !RELATE_PATH_RX.test(spec);\n  }\n\n  function maybeParseBareModuleSpec(spec) {\n    /**\r\n     * 1: scope + name + version\r\n     * 2: scope + name\r\n     * 3: version?\r\n     * 4: pathname\r\n     */\n    var matches = spec.match(SPEC_RX);\n\n    if (!matches) {\n      return undefined;\n    }\n\n    return {\n      nameSpec: matches[1],\n      name: matches[2],\n      spec: matches[3] || '',\n      pathname: matches[4] || ''\n    };\n  }\n\n  function parseBareModuleSpec(spec) {\n    var parsed = maybeParseBareModuleSpec(spec);\n\n    if (!parsed) {\n      throw new Error(\"Unable to parse unexpected unpkg url: '\".concat(spec, \"'\"));\n    }\n\n    return parsed;\n  } // this looks ridiculous, but it prevents sourcemap tooling from mistaking\n  // this for an actual sourceMappingURL\n\n\n  var SOURCEMAPPING_URL = 'sourceMa';\n  SOURCEMAPPING_URL += 'ppingURL';\n\n  function getSourceMappingUrl(str) {\n    // assume we want the last occurence\n    var index = str.lastIndexOf(\"\".concat(SOURCEMAPPING_URL, \"=\"));\n\n    if (index === -1) {\n      return undefined;\n    }\n\n    var substring = str.substring(index + 17);\n    var match = /^[^\\r\\n]+/.exec(substring);\n    var url = match ? match[0] : undefined; // possibly a better way to do this, but we don't want to exclude whitespace\n    // from the sourceMappingURL because it might not have been correctly encoded\n\n    if (url && url.slice(-2) === '*/') {\n      url = url.slice(0, -2).trim();\n    }\n\n    return url;\n  }\n\n  var Asset =\n  /*#__PURE__*/\n  function () {\n    function Asset(href, rootHref) {\n      _classCallCheck(this, Asset);\n\n      this.href = href;\n      this.rootHref = rootHref;\n      this.dependencies = [];\n    }\n\n    _createClass(Asset, [{\n      key: \"setCode\",\n      value: function setCode(code) {\n        this.magicString = new MagicString(code, {\n          filename: this.href,\n          indentExclusionRanges: []\n        });\n        this.sourceMappingUrl = getSourceMappingUrl(code);\n      }\n    }, {\n      key: \"toJSON\",\n      value: function toJSON() {\n        return {\n          href: this.href,\n          rootHref: this.rootHref,\n          dependencies: this.dependencies,\n          sourceMappingUrl: this.sourceMappingUrl,\n          code: this.magicString ? this.magicString.original : ''\n        };\n      }\n    }], [{\n      key: \"fromJSON\",\n      value: function fromJSON(json) {\n        var _asset$dependencies;\n\n        var asset = new Asset(json.href, json.rootHref);\n\n        (_asset$dependencies = asset.dependencies).push.apply(_asset$dependencies, _toConsumableArray(json.dependencies));\n\n        asset.sourceMappingUrl = json.sourceMappingUrl;\n        asset.setCode(json.code);\n        return asset;\n      }\n    }]);\n\n    return Asset;\n  }();\n\n  (function (Asset) {\n    var DependencyKind;\n\n    (function (DependencyKind) {\n      DependencyKind[\"Require\"] = \"require\";\n      DependencyKind[\"RequireResolve\"] = \"require.resolve\";\n      DependencyKind[\"InjectedGlobal\"] = \"injected_global\";\n    })(DependencyKind = Asset.DependencyKind || (Asset.DependencyKind = {}));\n  })(Asset || (Asset = {}));\n\n  var charToInteger = {};\n  var chars$1 = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n  for (var i = 0; i < chars$1.length; i++) {\n    charToInteger[chars$1.charCodeAt(i)] = i;\n  }\n\n  function decode(mappings) {\n    var generatedCodeColumn = 0; // first field\n\n    var sourceFileIndex = 0; // second field\n\n    var sourceCodeLine = 0; // third field\n\n    var sourceCodeColumn = 0; // fourth field\n\n    var nameIndex = 0; // fifth field\n\n    var decoded = [];\n    var line = [];\n    var segment = [];\n\n    for (var i = 0, j = 0, shift = 0, value = 0, len = mappings.length; i < len; i++) {\n      var c = mappings.charCodeAt(i);\n\n      if (c === 44) {\n        // \",\"\n        if (segment.length) line.push(segment);\n        segment = [];\n        j = 0;\n      } else if (c === 59) {\n        // \";\"\n        if (segment.length) line.push(segment);\n        segment = [];\n        j = 0;\n        decoded.push(line);\n        line = [];\n        generatedCodeColumn = 0;\n      } else {\n        var integer = charToInteger[c];\n\n        if (integer === undefined) {\n          throw new Error('Invalid character (' + String.fromCharCode(c) + ')');\n        }\n\n        var hasContinuationBit = integer & 32;\n        integer &= 31;\n        value += integer << shift;\n\n        if (hasContinuationBit) {\n          shift += 5;\n        } else {\n          var shouldNegate = value & 1;\n          value >>>= 1;\n\n          if (shouldNegate) {\n            value = -value;\n            if (value === 0) value = -0x80000000;\n          }\n\n          if (j == 0) {\n            generatedCodeColumn += value;\n            segment.push(generatedCodeColumn);\n          } else if (j === 1) {\n            sourceFileIndex += value;\n            segment.push(sourceFileIndex);\n          } else if (j === 2) {\n            sourceCodeLine += value;\n            segment.push(sourceCodeLine);\n          } else if (j === 3) {\n            sourceCodeColumn += value;\n            segment.push(sourceCodeColumn);\n          } else if (j === 4) {\n            nameIndex += value;\n            segment.push(nameIndex);\n          }\n\n          j++;\n          value = shift = 0; // reset\n        }\n      }\n    }\n\n    if (segment.length) line.push(segment);\n    decoded.push(line);\n    return decoded;\n  }\n\n  function encode$1(decoded) {\n    var sourceFileIndex = 0; // second field\n\n    var sourceCodeLine = 0; // third field\n\n    var sourceCodeColumn = 0; // fourth field\n\n    var nameIndex = 0; // fifth field\n\n    var mappings = '';\n\n    for (var i = 0; i < decoded.length; i++) {\n      var line = decoded[i];\n      if (i > 0) mappings += ';';\n      if (line.length === 0) continue;\n      var generatedCodeColumn = 0; // first field\n\n      var lineMappings = [];\n\n      for (var _i = 0, line_1 = line; _i < line_1.length; _i++) {\n        var segment = line_1[_i];\n        var segmentMappings = encodeInteger$1(segment[0] - generatedCodeColumn);\n        generatedCodeColumn = segment[0];\n\n        if (segment.length > 1) {\n          segmentMappings += encodeInteger$1(segment[1] - sourceFileIndex) + encodeInteger$1(segment[2] - sourceCodeLine) + encodeInteger$1(segment[3] - sourceCodeColumn);\n          sourceFileIndex = segment[1];\n          sourceCodeLine = segment[2];\n          sourceCodeColumn = segment[3];\n        }\n\n        if (segment.length === 5) {\n          segmentMappings += encodeInteger$1(segment[4] - nameIndex);\n          nameIndex = segment[4];\n        }\n\n        lineMappings.push(segmentMappings);\n      }\n\n      mappings += lineMappings.join(',');\n    }\n\n    return mappings;\n  }\n\n  function encodeInteger$1(num) {\n    var result = '';\n    num = num < 0 ? -num << 1 | 1 : num << 1;\n\n    do {\n      var clamped = num & 31;\n      num >>>= 5;\n\n      if (num > 0) {\n        clamped |= 32;\n      }\n\n      result += chars$1[clamped];\n    } while (num > 0);\n\n    return result;\n  }\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * Creates a brand new (prototype-less) object with the enumerable-own\n   * properties of `target`. Any enumerable-own properties from `source` which\n   * are not present on `target` will be copied as well.\n   */\n\n\n  function defaults(target, source) {\n    return Object.assign(Object.create(null), source, target);\n  }\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * Decodes an input sourcemap into a `DecodedSourceMap` sourcemap object.\n   *\n   * Valid input maps include a `DecodedSourceMap`, a `RawSourceMap`, or JSON\n   * representations of either type.\n   */\n\n\n  function decodeSourceMap(map) {\n    if (typeof map === 'string') {\n      map = JSON.parse(map);\n    }\n\n    var _map2 = map,\n        mappings = _map2.mappings;\n\n    if (typeof mappings === 'string') {\n      mappings = decode(mappings);\n    }\n\n    return defaults({\n      mappings: mappings\n    }, map);\n  }\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * A \"leaf\" node in the sourcemap tree, representing an original, unmodified\n   * source file. Recursive segment tracing ends at the `OriginalSource`.\n   */\n\n\n  var OriginalSource =\n  /*#__PURE__*/\n  function () {\n    function OriginalSource(filename, content) {\n      _classCallCheck(this, OriginalSource);\n\n      this.filename = filename;\n      this.content = content;\n    }\n    /**\n     * Tracing a `SourceMapSegment` ends when we get to an `OriginalSource`,\n     * meaning this line/column location originated from this source file.\n     */\n\n\n    _createClass(OriginalSource, [{\n      key: \"traceSegment\",\n      value: function traceSegment(line, column, name) {\n        return {\n          column: column,\n          line: line,\n          name: name,\n          source: this\n        };\n      }\n    }]);\n\n    return OriginalSource;\n  }();\n  /* istanbul ignore next */\n\n\n  var Url = typeof URL !== 'undefined' ? URL : require('url').URL; // Matches \"..\", which must be preceeded by \"/\" or the start of the string, and\n  // must be followed by a \"/\". We do not eat the following \"/\", so that the next\n  // iteration can match on it.\n\n  var parentRegex = /(^|\\/)\\.\\.(?=\\/|$)/g;\n\n  function isAbsoluteUrl(url) {\n    try {\n      return !!new Url(url);\n    } catch (e) {\n      return false;\n    }\n  }\n  /**\n   * Creates a directory name that is guaranteed to not be in `str`.\n   */\n\n\n  function uniqInStr(str) {\n    var uniq = String(Math.random()).slice(2);\n\n    while (str.indexOf(uniq) > -1) {\n      /* istanbul ignore next */\n      uniq += uniq;\n    }\n\n    return uniq;\n  }\n  /**\n   * Removes the filename from the path (everything trailing the last \"/\"). This\n   * is only safe to call on a path, never call with an absolute or protocol\n   * relative URL.\n   */\n\n\n  function stripPathFilename(path) {\n    path = normalizePath(path);\n    var index = path.lastIndexOf('/');\n    return path.slice(0, index + 1);\n  }\n  /**\n   * Normalizes a protocol-relative URL, but keeps it protocol relative by\n   * stripping out the protocl before returning it.\n   */\n\n\n  function normalizeProtocolRelative(input, absoluteBase) {\n    var _ref = new Url(input, absoluteBase),\n        href = _ref.href,\n        protocol = _ref.protocol;\n\n    return href.slice(protocol.length);\n  }\n  /**\n   * Normalizes a simple path (one that has no \"..\"s, or is absolute so \"..\"s can\n   * be normalized absolutely).\n   */\n\n\n  function normalizeSimplePath(input) {\n    var _ref2 = new Url(input, 'https://foo.com/'),\n        href = _ref2.href;\n\n    return href.slice('https://foo.com/'.length);\n  }\n  /**\n   * Normalizes a path, ensuring that excess \"..\"s are preserved for relative\n   * paths in the output.\n   *\n   * If the input is absolute, this will return an absolutey normalized path, but\n   * it will not have a leading \"/\".\n   *\n   * If the input has a leading \"..\", the output will have a leading \"..\".\n   *\n   * If the input has a leading \".\", the output will not have a leading \".\"\n   * unless there are too many \"..\"s, in which case there will be a leading \"..\".\n   */\n\n\n  function normalizePath(input) {\n    // If there are no \"..\"s, we can treat this as if it were an absolute path.\n    // The return won't be an absolute path, so it's easy.\n    if (!parentRegex.test(input)) return normalizeSimplePath(input); // We already found one \"..\". Let's see how many there are.\n\n    var total = 1;\n\n    while (parentRegex.test(input)) {\n      total++;\n    } // If there are \"..\"s, we need to prefix the the path with the same number of\n    // unique directories. This is to ensure that we \"remember\" how many parent\n    // directories we are accessing. Eg, \"../../..\" must keep 3, and \"foo/../..\"\n    // must keep 1.\n\n\n    var uniqDirectory = \"z\".concat(uniqInStr(input), \"/\"); // uniqDirectory is just a \"z\", followed by numbers, followed by a \"/\". So\n    // generating a runtime regex from it is safe. We'll use this search regex to\n    // strip out our uniq directory names and insert any needed \"..\"s.\n\n    var search = new RegExp(\"^(?:\".concat(uniqDirectory, \")*\")); // Now we can resolve the total path. If there are excess \"..\"s, they will\n    // eliminate one or more of the unique directories we prefix with.\n\n    var relative = normalizeSimplePath(uniqDirectory.repeat(total) + input); // We can now count the number of unique directories that were eliminated. If\n    // there were 3, and 1 was eliminated, we know we only need to add 1 \"..\". If\n    // 2 were eliminated, we need to insert 2 \"..\"s. If all 3 were eliminated,\n    // then we need 3, etc. This replace is guranteed to match (it may match 0 or\n    // more times), and we can count the total match to see how many were eliminated.\n\n    return relative.replace(search, function (all) {\n      var leftover = all.length / uniqDirectory.length;\n      return '../'.repeat(total - leftover);\n    });\n  }\n  /**\n   * Attempts to resolve `input` URL relative to `base`.\n   */\n\n\n  function resolve(input, base) {\n    if (!base) base = ''; // Absolute URLs are very easy to resolve right.\n\n    if (isAbsoluteUrl(input)) return new Url(input).href;\n\n    if (base) {\n      // Absolute URLs are easy...\n      if (isAbsoluteUrl(base)) return new Url(input, base).href; // If base is protocol relative, we'll resolve with it but keep the result\n      // protocol relative.\n\n      if (base.startsWith('//')) return normalizeProtocolRelative(input, \"https:\".concat(base));\n    } // Normalize input, but keep it protocol relative. We know base doesn't supply\n    // a protocol, because that would have been handled above.\n\n\n    if (input.startsWith('//')) return normalizeProtocolRelative(input, 'https://foo.com/'); // We now know that base (if there is one) and input are paths. We've handled\n    // both absolute and protocol-relative variations above.\n    // Absolute paths don't need any special handling, because they cannot have\n    // extra \".\" or \"..\"s. That'll all be stripped away. Input takes priority here,\n    // because if input is an absolute path, base path won't affect it in any way.\n\n    if (input.startsWith('/')) return '/' + normalizeSimplePath(input); // Since input and base are paths, we need to join them to do any further\n    // processing. Paths are joined at the directory level, so we need to remove\n    // the base's filename before joining. We also know that input does not have a\n    // leading slash, and that the stripped base will have a trailing slash if\n    // there are any directories (or it'll be empty).\n\n    var joined = stripPathFilename(base) + input; // If base is an absolute path, then input will be relative to it.\n\n    if (base.startsWith('/')) return '/' + normalizeSimplePath(joined); // We now know both base (if there is one) and input are relative paths.\n\n    var relative = normalizePath(joined); // If base started with a leading \".\", or there is no base and input started\n    // with a \".\", then we need to ensure that the relative path starts with a\n    // \".\". We don't know if relative starts with a \"..\", though, so check before\n    // prepending.\n\n    if ((base || input).startsWith('.') && !relative.startsWith('.')) {\n      return './' + relative;\n    }\n\n    return relative;\n  }\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n\n  function resolve$1(input, base) {\n    // The base is always treated as a directory, if it's not empty.\n    // https://github.com/mozilla/source-map/blob/8cb3ee57/lib/util.js#L327\n    // https://github.com/chromium/chromium/blob/da4adbb3/third_party/blink/renderer/devtools/front_end/sdk/SourceMap.js#L400-L401\n    if (base && !base.endsWith('/')) base += '/';\n    return resolve(input, base);\n  }\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * A binary search implementation that returns the index if a match is found,\n   * or the negated index of where the `needle` should be inserted.\n   *\n   * The `comparator` callback receives both the `item` under comparison and the\n   * needle we are searching for. It must return `0` if the `item` is a match,\n   * any negative number if `item` is too small (and we must search after it), or\n   * any positive number if the `item` is too large (and we must search before\n   * it).\n   *\n   * If no match is found, a negated index of where to insert the `needle` is\n   * returned. This negated index is guaranteed to be less than 0. To insert an\n   * item, negate it (again) and splice:\n   *\n   * ```js\n   * const array = [1, 3];\n   * const needle = 2;\n   * const index = binarySearch(array, needle, (item, needle) => item - needle);\n   *\n   * assert.equal(index, -2);\n   * assert.equal(~index, 1);\n   * array.splice(~index, 0, needle);\n   * assert.deepEqual(array, [1, 2, 3]);\n   * ```\n   */\n\n\n  function binarySearch(haystack, needle, comparator) {\n    var low = 0;\n    var high = haystack.length - 1;\n\n    while (low <= high) {\n      var mid = low + (high - low >> 1);\n      var cmp = comparator(haystack[mid], needle);\n\n      if (cmp === 0) {\n        return mid;\n      }\n\n      if (cmp < 0) {\n        low = mid + 1;\n      } else {\n        high = mid - 1;\n      }\n    }\n\n    return ~low;\n  }\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * FastStringArray acts like a `Set` (allowing only one occurrence of a string\n   * `key`), but provides the index of the `key` in the backing array.\n   *\n   * This is designed to allow synchronizing a second array with the contents of\n   * the backing array, like how `sourcesContent[i]` is the source content\n   * associated with `source[i]`, and there are never duplicates.\n   */\n\n\n  var FastStringArray =\n  /*#__PURE__*/\n  function () {\n    function FastStringArray() {\n      _classCallCheck(this, FastStringArray);\n\n      this.indexes = Object.create(null);\n      this.array = [];\n    }\n    /**\n     * Puts `key` into the backing array, if it is not already present. Returns\n     * the index of the `key` in the backing array.\n     */\n\n\n    _createClass(FastStringArray, [{\n      key: \"put\",\n      value: function put(key) {\n        var array = this.array,\n            indexes = this.indexes; // The key may or may not be present. If it is present, it's a number.\n\n        var index = indexes[key]; // If it's not yet present, we need to insert it and track the index in the\n        // indexes.\n\n        if (index === undefined) {\n          index = indexes[key] = array.length;\n          array.push(key);\n        }\n\n        return index;\n      }\n    }]);\n\n    return FastStringArray;\n  }();\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * SourceMapTree represents a single sourcemap, with the ability to trace\n   * mappings into its child nodes (which may themselves be SourceMapTrees).\n   */\n\n\n  var SourceMapTree =\n  /*#__PURE__*/\n  function () {\n    function SourceMapTree(map, sources) {\n      _classCallCheck(this, SourceMapTree);\n\n      this.map = map;\n      this.sources = sources;\n    }\n    /**\n     * traceMappings is only called on the root level SourceMapTree, and begins\n     * the process of resolving each mapping in terms of the original source\n     * files.\n     */\n\n\n    _createClass(SourceMapTree, [{\n      key: \"traceMappings\",\n      value: function traceMappings() {\n        var mappings = [];\n        var names = new FastStringArray();\n        var sources = new FastStringArray();\n        var sourcesContent = [];\n        var _this$map = this.map,\n            rootMappings = _this$map.mappings,\n            rootNames = _this$map.names;\n\n        for (var _i2 = 0; _i2 < rootMappings.length; _i2++) {\n          var segments = rootMappings[_i2];\n          var tracedSegments = [];\n\n          for (var j = 0; j < segments.length; j++) {\n            var segment = segments[j]; // 1-length segments only move the current generated column, there's no\n            // source information to gather from it.\n\n            if (segment.length === 1) continue;\n            var source = this.sources[segment[1]];\n            var traced = source.traceSegment(segment[2], segment[3], segment.length === 5 ? rootNames[segment[4]] : '');\n            if (!traced) continue; // So we traced a segment down into its original source file. Now push a\n            // new segment pointing to this location.\n\n            var column = traced.column,\n                line = traced.line,\n                name = traced.name;\n            var _traced$source = traced.source,\n                content = _traced$source.content,\n                filename = _traced$source.filename; // Store the source location, and ensure we keep sourcesContent up to\n            // date with the sources array.\n\n            var sourceIndex = sources.put(filename);\n            sourcesContent[sourceIndex] = content; // This looks like unnecessary duplication, but it noticeably increases\n            // performance. If we were to push the nameIndex onto length-4 array, v8\n            // would internally allocate 22 slots! That's 68 wasted bytes! Array\n            // literals have the same capacity as their length, saving memory.\n\n            if (name) {\n              tracedSegments.push([segment[0], sourceIndex, line, column, names.put(name)]);\n            } else {\n              tracedSegments.push([segment[0], sourceIndex, line, column]);\n            }\n          }\n\n          mappings.push(tracedSegments);\n        } // TODO: Make all sources relative to the sourceRoot.\n\n\n        return defaults({\n          mappings: mappings,\n          names: names.array,\n          sources: sources.array,\n          sourcesContent: sourcesContent\n        }, this.map);\n      }\n      /**\n       * traceSegment is only called on children SourceMapTrees. It recurses down\n       * into its own child SourceMapTrees, until we find the original source map.\n       */\n\n    }, {\n      key: \"traceSegment\",\n      value: function traceSegment(line, column, name) {\n        var _this$map2 = this.map,\n            mappings = _this$map2.mappings,\n            names = _this$map2.names; // It's common for parent sourcemaps to have pointers to lines that have no\n        // mapping (like a \"//# sourceMappingURL=\") at the end of the child file.\n\n        if (line >= mappings.length) return null;\n        var segments = mappings[line];\n        var index = binarySearch(segments, column, segmentComparator); // If we can't find an segment that lines up to this column, then we can't\n        // trace it further.\n\n        if (index < 0) return null;\n        var segment = segments[index]; // 1-length segments only move the current generated column, there's no\n        // source information to gather from it.\n\n        if (segment.length === 1) return null;\n        var source = this.sources[segment[1]]; // So now we can recurse down, until we hit the original source file.\n\n        return source.traceSegment(segment[2], segment[3], // A child map's recorded name for this segment takes precedence over the\n        // parent's mapped name. Imagine a mangler changing the name over, etc.\n        segment.length === 5 ? names[segment[4]] : name);\n      }\n    }]);\n\n    return SourceMapTree;\n  }();\n\n  function segmentComparator(segment, column) {\n    return segment[0] - column;\n  }\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * Removes the filename from a path.\n   */\n\n\n  function stripFilename(path) {\n    if (!path) return '';\n    var index = path.lastIndexOf('/');\n    return path.slice(0, index + 1);\n  }\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n\n  function asArray(value) {\n    if (Array.isArray(value)) return value;\n    return [value];\n  }\n  /**\n   * Recursively builds a tree structure out of sourcemap files, with each node\n   * being either an `OriginalSource` \"leaf\" or a `SourceMapTree` composed of\n   * `OriginalSource`s and `SourceMapTree`s.\n   *\n   * Every sourcemap is composed of a collection of source files and mappings\n   * into locations of those source files. When we generate a `SourceMapTree` for\n   * the sourcemap, we attempt to load each source file's own sourcemap. If it\n   * does not have an associated sourcemap, it is considered an original,\n   * unmodified source file.\n   */\n\n\n  function buildSourceMapTree(input, loader, relativeRoot) {\n    var maps = asArray(input).map(decodeSourceMap);\n    var map = maps.pop();\n\n    for (var _i3 = 0; _i3 < maps.length; _i3++) {\n      if (maps[_i3].sources.length !== 1) {\n        throw new Error(\"Transformation map \".concat(_i3, \" must have exactly one source file.\\n\") + 'Did you specify these with the most recent transformation maps first?');\n      }\n    }\n\n    var sourceRoot = map.sourceRoot,\n        sources = map.sources,\n        sourcesContent = map.sourcesContent;\n    var children = sources.map(function (sourceFile, i) {\n      // Each source file is loaded relative to the sourcemap's own sourceRoot,\n      // which is itself relative to the sourcemap's parent.\n      var uri = resolve$1(sourceFile, resolve$1(sourceRoot || '', stripFilename(relativeRoot))); // Use the provided loader callback to retrieve the file's sourcemap.\n      // TODO: We should eventually support async loading of sourcemap files.\n\n      var sourceMap = loader(uri); // If there is no sourcemap, then it is an unmodified source file.\n\n      if (!sourceMap) {\n        // The source file's actual contents must be included in the sourcemap\n        // (done when generating the sourcemap) for it to be included as a\n        // sourceContent in the output sourcemap.\n        var sourceContent = sourcesContent ? sourcesContent[i] : null;\n        return new OriginalSource(uri, sourceContent);\n      } // Else, it's a real sourcemap, and we need to recurse into it to load it's\n      // source files.\n\n\n      return buildSourceMapTree(decodeSourceMap(sourceMap), loader, uri);\n    });\n    var tree = new SourceMapTree(map, children);\n\n    for (var _i4 = maps.length - 1; _i4 >= 0; _i4--) {\n      tree = new SourceMapTree(maps[_i4], [tree]);\n    }\n\n    return tree;\n  }\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * A SourceMap v3 compatible sourcemap, which only includes fields that were\n   * provided to it.\n   */\n\n\n  var SourceMap$1 =\n  /*#__PURE__*/\n  function () {\n    function SourceMap$1(map, excludeContent) {\n      _classCallCheck(this, SourceMap$1);\n\n      this.version = 3; // SourceMap spec says this should be first.\n\n      if ('file' in map) this.file = map.file;\n      this.mappings = encode$1(map.mappings);\n      this.names = map.names; // TODO: We first need to make all source URIs relative to the sourceRoot\n      // before we can support a sourceRoot.\n      // if ('sourceRoot' in map) this.sourceRoot = map.sourceRoot;\n\n      this.sources = map.sources;\n      if (!excludeContent && 'sourcesContent' in map) this.sourcesContent = map.sourcesContent;\n    }\n\n    _createClass(SourceMap$1, [{\n      key: \"toString\",\n      value: function toString() {\n        return JSON.stringify(this);\n      }\n    }]);\n\n    return SourceMap$1;\n  }();\n  /**\n   * Copyright 2019 The AMP HTML Authors. All Rights Reserved.\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *      http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   */\n\n  /**\n   * Traces through all the mappings in the root sourcemap, through the sources\n   * (and their sourcemaps), all the way back to the original source location.\n   *\n   * `loader` will be called every time we encounter a source file. If it returns\n   * a sourcemap, we will recurse into that sourcemap to continue the trace. If\n   * it returns a falsey value, that source file is treated as an original,\n   * unmodified source file.\n   *\n   * Pass `excludeContent` content to exclude any self-containing source file\n   * content from the output sourcemap.\n   */\n\n\n  function remapping(input, loader, excludeContent) {\n    var graph = buildSourceMapTree(input, loader);\n    return new SourceMap$1(graph.traceMappings(), !!excludeContent);\n  }\n\n  var version = \"0.16.0\";\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n  // Avoid circular dependency on EventEmitter by implementing a subset of the interface.\n\n  var ErrorHandler$1 =\n  /*#__PURE__*/\n  function () {\n    function ErrorHandler$1() {\n      _classCallCheck(this, ErrorHandler$1);\n\n      this.listeners = [];\n\n      this.unexpectedErrorHandler = function (e) {\n        setTimeout(function () {\n          if (e.stack) {\n            throw new Error(e.message + '\\n\\n' + e.stack);\n          }\n\n          throw e;\n        }, 0);\n      };\n    }\n\n    _createClass(ErrorHandler$1, [{\n      key: \"addListener\",\n      value: function addListener(listener) {\n        var _this6 = this;\n\n        this.listeners.push(listener);\n        return function () {\n          _this6._removeListener(listener);\n        };\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(e) {\n        this.listeners.forEach(function (listener) {\n          listener(e);\n        });\n      }\n    }, {\n      key: \"_removeListener\",\n      value: function _removeListener(listener) {\n        this.listeners.splice(this.listeners.indexOf(listener), 1);\n      }\n    }, {\n      key: \"setUnexpectedErrorHandler\",\n      value: function setUnexpectedErrorHandler(newUnexpectedErrorHandler) {\n        this.unexpectedErrorHandler = newUnexpectedErrorHandler;\n      }\n    }, {\n      key: \"getUnexpectedErrorHandler\",\n      value: function getUnexpectedErrorHandler() {\n        return this.unexpectedErrorHandler;\n      }\n    }, {\n      key: \"onUnexpectedError\",\n      value: function onUnexpectedError(e) {\n        this.unexpectedErrorHandler(e);\n        this.emit(e);\n      } // For external errors, we don't want the listeners to be called\n\n    }, {\n      key: \"onUnexpectedExternalError\",\n      value: function onUnexpectedExternalError(e) {\n        this.unexpectedErrorHandler(e);\n      }\n    }]);\n\n    return ErrorHandler$1;\n  }();\n\n  var errorHandler$1 = new ErrorHandler$1();\n\n  function onUnexpectedError$1(e) {\n    // ignore errors from cancelled promises\n    if (!isPromiseCanceledError$1(e)) {\n      errorHandler$1.onUnexpectedError(e);\n    }\n\n    return undefined;\n  }\n\n  var ExtendableError$1 =\n  /*#__PURE__*/\n  function (_Error2) {\n    _inherits(ExtendableError$1, _Error2);\n\n    function ExtendableError$1(message) {\n      var _this7;\n\n      _classCallCheck(this, ExtendableError$1);\n\n      _this7 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError$1).call(this, message));\n      _this7.name = _this7.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this7), _this7.constructor);\n      } else {\n        _this7.stack = new Error(message).stack;\n      }\n\n      return _this7;\n    }\n\n    return ExtendableError$1;\n  }(_wrapNativeSuper(Error));\n\n  var CanceledError$1 =\n  /*#__PURE__*/\n  function (_ExtendableError$) {\n    _inherits(CanceledError$1, _ExtendableError$);\n\n    function CanceledError$1() {\n      _classCallCheck(this, CanceledError$1);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(CanceledError$1).apply(this, arguments));\n    }\n\n    return CanceledError$1;\n  }(ExtendableError$1);\n  /**\r\n   * Checks if the given error is a promise in canceled state\r\n   */\n\n\n  function isPromiseCanceledError$1(error) {\n    return error instanceof CanceledError$1;\n  }\n\n  function dispose$1(first) {\n    for (var _len4 = arguments.length, rest = new Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {\n      rest[_key4 - 1] = arguments[_key4];\n    }\n\n    if (Array.isArray(first)) {\n      first.forEach(function (d) {\n        return d && d.dispose();\n      });\n      return [];\n    } else if (rest.length === 0) {\n      if (first) {\n        first.dispose();\n        return first;\n      }\n\n      return undefined;\n    } else {\n      dispose$1(first);\n      dispose$1(rest);\n      return [];\n    }\n  }\n\n  function combinedDisposable$1() {\n    for (var _len5 = arguments.length, disposables = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      disposables[_key5] = arguments[_key5];\n    }\n\n    return {\n      dispose: function dispose() {\n        return dispose$1(disposables);\n      }\n    };\n  }\n\n  var DisposableStore$1 =\n  /*#__PURE__*/\n  function () {\n    function DisposableStore$1() {\n      _classCallCheck(this, DisposableStore$1);\n\n      this._toDispose = new Set();\n      this._isDisposed = false;\n    }\n    /**\r\n     * Dispose of all registered disposables and mark this object as disposed.\r\n     *\r\n     * Any future disposables added to this object will be disposed of on `add`.\r\n     */\n\n\n    _createClass(DisposableStore$1, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._isDisposed = true;\n        this.clear();\n      }\n      /**\r\n       * Dispose of all registered disposables but do not mark this object as disposed.\r\n       */\n\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._toDispose.forEach(function (item) {\n          return item.dispose();\n        });\n\n        this._toDispose.clear();\n      }\n    }, {\n      key: \"add\",\n      value: function add(t) {\n        if (this._isDisposed) {\n          console.warn('Registering disposable on object that has already been disposed.');\n          t.dispose();\n        } else {\n          this._toDispose.add(t);\n        }\n\n        return t;\n      }\n    }]);\n\n    return DisposableStore$1;\n  }();\n\n  var Disposable$1 =\n  /*#__PURE__*/\n  function () {\n    function Disposable$1() {\n      _classCallCheck(this, Disposable$1);\n\n      this._store = new DisposableStore$1();\n    }\n\n    _createClass(Disposable$1, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._store.dispose();\n      }\n    }, {\n      key: \"_register\",\n      value: function _register(t) {\n        return this._store.add(t);\n      }\n    }]);\n\n    return Disposable$1;\n  }();\n\n  Disposable$1.None = Object.freeze({\n    dispose: function dispose() {}\n  });\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var FIN$1 = {\n    done: true,\n    value: undefined\n  };\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var Node$1 = function Node$1(element) {\n    _classCallCheck(this, Node$1);\n\n    this.element = element;\n    this.next = Node$1.Undefined;\n    this.prev = Node$1.Undefined;\n  };\n\n  Node$1.Undefined = new Node$1(undefined);\n\n  var LinkedList$1 =\n  /*#__PURE__*/\n  function () {\n    function LinkedList$1() {\n      _classCallCheck(this, LinkedList$1);\n\n      this._first = Node$1.Undefined;\n      this._last = Node$1.Undefined;\n      this._size = 0;\n    }\n\n    _createClass(LinkedList$1, [{\n      key: \"isEmpty\",\n      value: function isEmpty() {\n        return this._first === Node$1.Undefined;\n      }\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._first = Node$1.Undefined;\n        this._last = Node$1.Undefined;\n        this._size = 0;\n      }\n    }, {\n      key: \"unshift\",\n      value: function unshift(element) {\n        return this._insert(element, false);\n      }\n    }, {\n      key: \"push\",\n      value: function push(element) {\n        return this._insert(element, true);\n      }\n    }, {\n      key: \"_insert\",\n      value: function _insert(element, atTheEnd) {\n        var _this8 = this;\n\n        var newNode = new Node$1(element);\n\n        if (this._first === Node$1.Undefined) {\n          this._first = newNode;\n          this._last = newNode;\n        } else if (atTheEnd) {\n          // push\n          var oldLast = this._last;\n          this._last = newNode;\n          newNode.prev = oldLast;\n          oldLast.next = newNode;\n        } else {\n          // unshift\n          var oldFirst = this._first;\n          this._first = newNode;\n          newNode.next = oldFirst;\n          oldFirst.prev = newNode;\n        }\n\n        this._size += 1;\n        var didRemove = false;\n        return function () {\n          if (!didRemove) {\n            didRemove = true;\n\n            _this8._remove(newNode);\n          }\n        };\n      }\n    }, {\n      key: \"shift\",\n      value: function shift() {\n        if (this._first === Node$1.Undefined) {\n          return undefined;\n        } else {\n          var res = this._first.element;\n\n          this._remove(this._first);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"pop\",\n      value: function pop() {\n        if (this._last === Node$1.Undefined) {\n          return undefined;\n        } else {\n          var res = this._last.element;\n\n          this._remove(this._last);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"_remove\",\n      value: function _remove(node) {\n        if (node.prev !== Node$1.Undefined && node.next !== Node$1.Undefined) {\n          // middle\n          var anchor = node.prev;\n          anchor.next = node.next;\n          node.next.prev = anchor;\n        } else if (node.prev === Node$1.Undefined && node.next === Node$1.Undefined) {\n          // only node\n          this._first = Node$1.Undefined;\n          this._last = Node$1.Undefined;\n        } else if (node.next === Node$1.Undefined) {\n          // last\n          this._last = this._last.prev;\n          this._last.next = Node$1.Undefined;\n        } else if (node.prev === Node$1.Undefined) {\n          // first\n          this._first = this._first.next;\n          this._first.prev = Node$1.Undefined;\n        } // done\n\n\n        this._size -= 1;\n      }\n    }, {\n      key: \"iterator\",\n      value: function iterator() {\n        var element;\n        var node = this._first;\n        return {\n          next: function next() {\n            if (node === Node$1.Undefined) {\n              return FIN$1;\n            }\n\n            if (!element) {\n              element = {\n                done: false,\n                value: node.element\n              };\n            } else {\n              element.value = node.element;\n            }\n\n            node = node.next;\n            return element;\n          }\n        };\n      }\n    }, {\n      key: \"toArray\",\n      value: function toArray() {\n        var result = [];\n\n        for (var node = this._first; node !== Node$1.Undefined; node = node.next) {\n          result.push(node.element);\n        }\n\n        return result;\n      }\n    }, {\n      key: \"size\",\n      get: function get() {\n        return this._size;\n      }\n    }]);\n\n    return LinkedList$1;\n  }();\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var Event$1;\n\n  (function (Event) {\n    var _disposable = {\n      dispose: function dispose() {}\n    };\n\n    Event.None = function () {\n      return _disposable;\n    };\n    /**\r\n     * Given an event, returns another event which only fires once.\r\n     */\n\n\n    function _once2(event) {\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        // we need this, in case the event fires during the listener call\n        var didFire = false;\n        var result;\n        result = event(function (e) {\n          if (didFire) {\n            return;\n          } else if (result) {\n            result.dispose();\n          } else {\n            didFire = true;\n          }\n\n          return listener.call(thisArgs, e);\n        }, null, disposables);\n\n        if (didFire) {\n          result.dispose();\n        }\n\n        return result;\n      };\n    }\n\n    Event.once = _once2;\n    /**\r\n     * Given an event and a `map` function, returns another event which maps each element\r\n     * throught the mapping function.\r\n     */\n\n    function _map3(event, map) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          return listener.call(thisArgs, map(i));\n        }, null, disposables);\n      });\n    }\n\n    Event.map = _map3;\n    /**\r\n     * Given an event and an `each` function, returns another identical event and calls\r\n     * the `each` function per each element.\r\n     */\n\n    function _forEach2(event, each) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          each(i);\n          listener.call(thisArgs, i);\n        }, null, disposables);\n      });\n    }\n\n    Event.forEach = _forEach2;\n\n    function _filter2(event, filter) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (e) {\n          return filter(e) && listener.call(thisArgs, e);\n        }, null, disposables);\n      });\n    }\n\n    Event.filter = _filter2;\n    /**\r\n     * Given an event, returns the same event but typed as `Event<void>`.\r\n     */\n\n    function signal(event) {\n      return event;\n    }\n\n    Event.signal = signal;\n    /**\r\n     * Given a collection of events, returns a single event which emits\r\n     * whenever any of the provided events emit.\r\n     */\n\n    function any() {\n      for (var _len6 = arguments.length, events = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        events[_key6] = arguments[_key6];\n      }\n\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return combinedDisposable$1.apply(void 0, _toConsumableArray(events.map(function (event) {\n          return event(function (e) {\n            return listener.call(thisArgs, e);\n          }, null, disposables);\n        })));\n      };\n    }\n\n    Event.any = any;\n    /**\r\n     * Given an event and a `merge` function, returns another event which maps each element\r\n     * and the cummulative result throught the `merge` function. Similar to `map`, but with memory.\r\n     */\n\n    function _reduce2(event, merge, initial) {\n      var output = initial;\n      return _map3(event, function (e) {\n        output = merge(output, e);\n        return output;\n      });\n    }\n\n    Event.reduce = _reduce2;\n    /**\r\n     * Given a chain of event processing functions (filter, map, etc), each\r\n     * function will be invoked per event & per listener. Snapshotting an event\r\n     * chain allows each function to be invoked just once per event.\r\n     */\n\n    function snapshot(event) {\n      var listener;\n      var emitter = new Emitter$1({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          listener = event(emitter.fire, emitter);\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          listener.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.snapshot = snapshot;\n\n    function debounce(event, merge) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n      var leading = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var leakWarningThreshold = arguments.length > 4 ? arguments[4] : undefined;\n      var subscription;\n      var output = undefined;\n      var handle = undefined;\n      var numDebouncedCalls = 0;\n      var emitter = new Emitter$1({\n        leakWarningThreshold: leakWarningThreshold,\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          subscription = event(function (cur) {\n            numDebouncedCalls++;\n            output = merge(output, cur);\n\n            if (leading && !handle) {\n              emitter.fire(output);\n            }\n\n            clearTimeout(handle);\n            handle = setTimeout(function () {\n              var _output = output;\n              output = undefined;\n              handle = undefined;\n\n              if (!leading || numDebouncedCalls > 1) {\n                emitter.fire(_output);\n              }\n\n              numDebouncedCalls = 0;\n            }, delay);\n          });\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          subscription.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.debounce = debounce;\n    /**\r\n     * Given an event, it returns another event which fires only once and as soon as\r\n     * the input event emits. The event data is the number of millis it took for the\r\n     * event to fire.\r\n     */\n\n    function stopwatch(event) {\n      var start = new Date().getTime();\n      return _map3(_once2(event), function (_) {\n        return new Date().getTime() - start;\n      });\n    }\n\n    Event.stopwatch = stopwatch;\n    /**\r\n     * Given an event, it returns another event which fires only when the event\r\n     * element changes.\r\n     */\n\n    function _latch2(event) {\n      var firstCall = true;\n      var cache;\n      return _filter2(event, function (value) {\n        var shouldEmit = firstCall || value !== cache;\n        firstCall = false;\n        cache = value;\n        return shouldEmit;\n      });\n    }\n\n    Event.latch = _latch2;\n    /**\r\n     * Buffers the provided event until a first listener comes\r\n     * along, at which point fire all the events at once and\r\n     * pipe the event from then on.\r\n     *\r\n     * ```typescript\r\n     * const emitter = new Emitter<number>();\r\n     * const event = emitter.event;\r\n     * const bufferedEvent = buffer(event);\r\n     *\r\n     * emitter.fire(1);\r\n     * emitter.fire(2);\r\n     * emitter.fire(3);\r\n     * // nothing...\r\n     *\r\n     * const listener = bufferedEvent(num => console.log(num));\r\n     * // 1, 2, 3\r\n     *\r\n     * emitter.fire(4);\r\n     * // 4\r\n     * ```\r\n     */\n\n    function buffer(event) {\n      var nextTick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _buffer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      var buffer = _buffer.slice();\n\n      var listener = event(function (e) {\n        if (buffer) {\n          buffer.push(e);\n        } else {\n          emitter.fire(e);\n        }\n      });\n\n      var flush = function flush() {\n        if (buffer) {\n          buffer.forEach(function (e) {\n            return emitter.fire(e);\n          });\n        }\n\n        buffer = null;\n      };\n\n      var emitter = new Emitter$1({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          if (!listener) {\n            listener = event(function (e) {\n              return emitter.fire(e);\n            });\n          }\n        },\n        onFirstListenerDidAdd: function onFirstListenerDidAdd() {\n          if (buffer) {\n            if (nextTick) {\n              setTimeout(flush, 0);\n            } else {\n              flush();\n            }\n          }\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          if (listener) {\n            listener.dispose();\n          }\n\n          listener = null;\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.buffer = buffer;\n\n    var ChainableEvent =\n    /*#__PURE__*/\n    function () {\n      function ChainableEvent(event) {\n        _classCallCheck(this, ChainableEvent);\n\n        this.event = event;\n      }\n\n      _createClass(ChainableEvent, [{\n        key: \"map\",\n        value: function map(fn) {\n          return new ChainableEvent(_map3(this.event, fn));\n        }\n      }, {\n        key: \"forEach\",\n        value: function forEach(fn) {\n          return new ChainableEvent(_forEach2(this.event, fn));\n        }\n      }, {\n        key: \"filter\",\n        value: function filter(fn) {\n          return new ChainableEvent(_filter2(this.event, fn));\n        }\n      }, {\n        key: \"reduce\",\n        value: function reduce(merge, initial) {\n          return new ChainableEvent(_reduce2(this.event, merge, initial));\n        }\n      }, {\n        key: \"latch\",\n        value: function latch() {\n          return new ChainableEvent(_latch2(this.event));\n        }\n      }, {\n        key: \"on\",\n        value: function on(listener, thisArgs, disposables) {\n          return this.event(listener, thisArgs, disposables);\n        }\n      }, {\n        key: \"once\",\n        value: function once(listener, thisArgs, disposables) {\n          return _once2(this.event)(listener, thisArgs, disposables);\n        }\n      }]);\n\n      return ChainableEvent;\n    }();\n\n    function chain(event) {\n      return new ChainableEvent(event);\n    }\n\n    Event.chain = chain;\n\n    function fromNodeEventEmitter(emitter, eventName) {\n      var map = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (id) {\n        return id;\n      };\n\n      var fn = function fn() {\n        return result.fire(map.apply(void 0, arguments));\n      };\n\n      var onFirstListenerAdd = function onFirstListenerAdd() {\n        return emitter.on(eventName, fn);\n      };\n\n      var onLastListenerRemove = function onLastListenerRemove() {\n        return emitter.removeListener(eventName, fn);\n      };\n\n      var result = new Emitter$1({\n        onFirstListenerAdd: onFirstListenerAdd,\n        onLastListenerRemove: onLastListenerRemove\n      });\n      return result.event;\n    }\n\n    Event.fromNodeEventEmitter = fromNodeEventEmitter;\n\n    function fromPromise(promise) {\n      var emitter = new Emitter$1();\n      var shouldEmit = false;\n      promise.then(undefined, function () {\n        return null;\n      }).then(function () {\n        if (!shouldEmit) {\n          setTimeout(function () {\n            return emitter.fire(undefined);\n          }, 0);\n        } else {\n          emitter.fire(undefined);\n        }\n      });\n      shouldEmit = true;\n      return emitter.event;\n    }\n\n    Event.fromPromise = fromPromise;\n\n    function toPromise(event) {\n      return new Promise(function (c) {\n        return _once2(event)(c);\n      });\n    }\n\n    Event.toPromise = toPromise;\n  })(Event$1 || (Event$1 = {}));\n\n  var _globalLeakWarningThreshold$1 = -1;\n\n  var LeakageMonitor$1 =\n  /*#__PURE__*/\n  function () {\n    function LeakageMonitor$1(customThreshold) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Math.random().toString(18).slice(2, 5);\n\n      _classCallCheck(this, LeakageMonitor$1);\n\n      this.customThreshold = customThreshold;\n      this.name = name;\n      this._warnCountdown = 0;\n    }\n\n    _createClass(LeakageMonitor$1, [{\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._stacks) {\n          this._stacks.clear();\n        }\n      }\n    }, {\n      key: \"check\",\n      value: function check(listenerCount) {\n        var _this9 = this;\n\n        var threshold = _globalLeakWarningThreshold$1;\n\n        if (typeof this.customThreshold === 'number') {\n          threshold = this.customThreshold;\n        }\n\n        if (threshold <= 0 || listenerCount < threshold) {\n          return undefined;\n        }\n\n        if (!this._stacks) {\n          this._stacks = new Map();\n        }\n\n        var stack = new Error().stack.split('\\n').slice(3).join('\\n');\n        var count = this._stacks.get(stack) || 0;\n\n        this._stacks.set(stack, count + 1);\n\n        this._warnCountdown -= 1;\n\n        if (this._warnCountdown <= 0) {\n          // only warn on first exceed and then every time the limit\n          // is exceeded by 50% again\n          this._warnCountdown = threshold * 0.5; // find most frequent listener and print warning\n\n          var topStack;\n          var topCount = 0;\n\n          this._stacks.forEach(function (count, stack) {\n            if (!topStack || topCount < count) {\n              topStack = stack;\n              topCount = count;\n            }\n          });\n\n          console.warn(\"[\".concat(this.name, \"] potential listener LEAK detected, having \").concat(listenerCount, \" listeners already. MOST frequent listener (\").concat(topCount, \"):\"));\n          console.warn(topStack);\n        }\n\n        return function () {\n          var count = _this9._stacks.get(stack) || 0;\n\n          _this9._stacks.set(stack, count - 1);\n        };\n      }\n    }]);\n\n    return LeakageMonitor$1;\n  }();\n  /**\r\n   * The Emitter can be used to expose an Event to the public\r\n   * to fire it from the insides.\r\n   * Sample:\r\n      class Document {\r\n          private _onDidChange = new Emitter<(value:string)=>any>();\r\n          public onDidChange = this._onDidChange.event;\r\n          // getter-style\r\n          // get onDidChange(): Event<(value:string)=>any> {\r\n          // \treturn this._onDidChange.event;\r\n          // }\r\n          private _doIt() {\r\n              //...\r\n              this._onDidChange.fire(value);\r\n          }\r\n      }\r\n   */\n\n\n  var Emitter$1 =\n  /*#__PURE__*/\n  function () {\n    function Emitter$1(options) {\n      _classCallCheck(this, Emitter$1);\n\n      this._disposed = false;\n      this._options = options;\n      this._leakageMon = _globalLeakWarningThreshold$1 > 0 ? new LeakageMonitor$1(this._options && this._options.leakWarningThreshold) : undefined;\n    }\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\n\n\n    _createClass(Emitter$1, [{\n      key: \"fire\",\n\n      /**\r\n       * To be kept private to fire an event to\r\n       * subscribers\r\n       */\n      value: function fire(event) {\n        if (this._listeners) {\n          // put all [listener,event]-pairs into delivery queue\n          // then emit all event. an inner/nested event might be\n          // the driver of this\n          if (!this._deliveryQueue) {\n            this._deliveryQueue = new LinkedList$1();\n          }\n\n          for (var iter = this._listeners.iterator(), e = iter.next(); !e.done; e = iter.next()) {\n            this._deliveryQueue.push([e.value, event]);\n          }\n\n          while (this._deliveryQueue.size > 0) {\n            var _this$_deliveryQueue$3 = this._deliveryQueue.shift(),\n                _this$_deliveryQueue$4 = _slicedToArray(_this$_deliveryQueue$3, 2),\n                listener = _this$_deliveryQueue$4[0],\n                _event2 = _this$_deliveryQueue$4[1];\n\n            try {\n              if (typeof listener === 'function') {\n                listener.call(undefined, _event2);\n              } else {\n                listener[0].call(listener[1], _event2);\n              }\n            } catch (e) {\n              onUnexpectedError$1(e);\n            }\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._listeners) {\n          this._listeners.clear();\n        }\n\n        if (this._deliveryQueue) {\n          this._deliveryQueue.clear();\n        }\n\n        if (this._leakageMon) {\n          this._leakageMon.dispose();\n        }\n\n        this._disposed = true;\n      }\n    }, {\n      key: \"event\",\n      get: function get() {\n        var _this10 = this;\n\n        if (!this._event) {\n          this._event = function (listener, thisArgs, disposables) {\n            if (!_this10._listeners) {\n              _this10._listeners = new LinkedList$1();\n            }\n\n            var firstListener = _this10._listeners.isEmpty();\n\n            if (firstListener && _this10._options && _this10._options.onFirstListenerAdd) {\n              _this10._options.onFirstListenerAdd(_this10);\n            }\n\n            var remove = _this10._listeners.push(!thisArgs ? listener : [listener, thisArgs]);\n\n            if (firstListener && _this10._options && _this10._options.onFirstListenerDidAdd) {\n              _this10._options.onFirstListenerDidAdd(_this10);\n            }\n\n            if (_this10._options && _this10._options.onListenerDidAdd) {\n              _this10._options.onListenerDidAdd(_this10, listener, thisArgs);\n            } // check and record this emitter for potential leakage\n\n\n            var removeMonitor;\n\n            if (_this10._leakageMon) {\n              removeMonitor = _this10._leakageMon.check(_this10._listeners.size);\n            }\n\n            var result;\n            result = {\n              dispose: function dispose() {\n                if (removeMonitor) {\n                  removeMonitor();\n                }\n\n                result.dispose = Emitter$1._noop;\n\n                if (!_this10._disposed) {\n                  remove();\n\n                  if (_this10._options && _this10._options.onLastListenerRemove) {\n                    var hasListeners = _this10._listeners && !_this10._listeners.isEmpty();\n\n                    if (!hasListeners) {\n                      _this10._options.onLastListenerRemove(_this10);\n                    }\n                  }\n                }\n              }\n            };\n\n            if (Array.isArray(disposables)) {\n              disposables.push(result);\n            }\n\n            return result;\n          };\n        }\n\n        return this._event;\n      }\n    }]);\n\n    return Emitter$1;\n  }();\n\n  Emitter$1._noop = function () {};\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var shortcutEvent$1 = Object.freeze(function (callback, context) {\n    var handle = setTimeout(callback.bind(context), 0);\n    return {\n      dispose: function dispose() {\n        clearTimeout(handle);\n      }\n    };\n  });\n  var CancellationToken;\n\n  (function (CancellationToken) {\n    function isCancellationToken(thing) {\n      if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n        return true;\n      }\n\n      if (thing instanceof MutableToken$1) {\n        return true;\n      }\n\n      if (!thing || typeof thing !== 'object') {\n        return false;\n      }\n\n      return typeof thing.isCancellationRequested === 'boolean' && typeof thing.onCancellationRequested === 'function';\n    }\n\n    CancellationToken.isCancellationToken = isCancellationToken;\n    CancellationToken.None = Object.freeze({\n      isCancellationRequested: false,\n      onCancellationRequested: Event$1.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n      isCancellationRequested: true,\n      onCancellationRequested: shortcutEvent$1\n    });\n  })(CancellationToken || (CancellationToken = {}));\n\n  var MutableToken$1 =\n  /*#__PURE__*/\n  function () {\n    function MutableToken$1() {\n      _classCallCheck(this, MutableToken$1);\n\n      this._isCancelled = false;\n      this._emitter = null;\n    }\n\n    _createClass(MutableToken$1, [{\n      key: \"cancel\",\n      value: function cancel() {\n        if (!this._isCancelled) {\n          this._isCancelled = true;\n\n          if (this._emitter) {\n            this._emitter.fire(undefined);\n\n            this.dispose();\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._emitter) {\n          this._emitter.dispose();\n\n          this._emitter = null;\n        }\n      }\n    }, {\n      key: \"isCancellationRequested\",\n      get: function get() {\n        return this._isCancelled;\n      }\n    }, {\n      key: \"onCancellationRequested\",\n      get: function get() {\n        if (this._isCancelled) {\n          return shortcutEvent$1;\n        }\n\n        if (!this._emitter) {\n          this._emitter = new Emitter$1();\n        }\n\n        return this._emitter.event;\n      }\n    }]);\n\n    return MutableToken$1;\n  }();\n\n  var CancellationTokenSource$1 =\n  /*#__PURE__*/\n  function () {\n    function CancellationTokenSource$1(parent) {\n      _classCallCheck(this, CancellationTokenSource$1);\n\n      this._token = undefined;\n      this._parentListener = undefined;\n      this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n    }\n\n    _createClass(CancellationTokenSource$1, [{\n      key: \"cancel\",\n      value: function cancel() {\n        if (!this._token) {\n          // save an object by returning the default\n          // cancelled token when cancellation happens\n          // before someone asks for the token\n          this._token = CancellationToken.Cancelled;\n        } else if (this._token instanceof MutableToken$1) {\n          // actually cancel\n          this._token.cancel();\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._parentListener) {\n          this._parentListener.dispose();\n        }\n\n        if (!this._token) {\n          // ensure to initialize with an empty token if we had none\n          this._token = CancellationToken.None;\n        } else if (this._token instanceof MutableToken$1) {\n          // actually dispose\n          this._token.dispose();\n        }\n      }\n    }, {\n      key: \"token\",\n      get: function get() {\n        if (!this._token) {\n          // be lazy and create the token only when\n          // actually needed\n          this._token = new MutableToken$1();\n        }\n\n        return this._token;\n      }\n    }]);\n\n    return CancellationTokenSource$1;\n  }();\n\n  (function () {\n    if (typeof requestIdleCallback !== 'function' || typeof cancelIdleCallback !== 'function') {\n      var dummyIdle = Object.freeze({\n        didTimeout: true,\n        timeRemaining: function timeRemaining() {\n          return 15;\n        }\n      });\n    }\n  })();\n\n  var ResolvedEntryKind;\n\n  (function (ResolvedEntryKind) {\n    ResolvedEntryKind[\"Directory\"] = \"directory\";\n    ResolvedEntryKind[\"File\"] = \"file\";\n  })(ResolvedEntryKind || (ResolvedEntryKind = {}));\n\n  var ExtendableError$2 =\n  /*#__PURE__*/\n  function (_Error3) {\n    _inherits(ExtendableError$2, _Error3);\n\n    function ExtendableError$2(message) {\n      var _this11;\n\n      _classCallCheck(this, ExtendableError$2);\n\n      _this11 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError$2).call(this, message));\n      _this11.name = _this11.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this11), _this11.constructor);\n      } else {\n        _this11.stack = new Error(message).stack;\n      }\n\n      return _this11;\n    }\n\n    return ExtendableError$2;\n  }(_wrapNativeSuper(Error));\n\n  var EntryNotFoundError =\n  /*#__PURE__*/\n  function (_ExtendableError$2) {\n    _inherits(EntryNotFoundError, _ExtendableError$2);\n\n    function EntryNotFoundError(url) {\n      var _this12;\n\n      _classCallCheck(this, EntryNotFoundError);\n\n      _this12 = _possibleConstructorReturn(this, _getPrototypeOf(EntryNotFoundError).call(this, \"Not found \".concat(url.href)));\n      _this12.url = url;\n      return _this12;\n    }\n\n    return EntryNotFoundError;\n  }(ExtendableError$2);\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var base64 = createCommonjsModule(function (module, exports) {\n    (function (global, factory) {\n      module.exports = factory(global);\n    })(typeof self !== 'undefined' ? self : typeof window !== 'undefined' ? window : typeof commonjsGlobal !== 'undefined' ? commonjsGlobal : commonjsGlobal, function (global) {\n      // existing version for noConflict()\n      global = global || {};\n      var _Base64 = global.Base64;\n      var version = \"2.5.1\"; // if node.js and NOT React Native, we use Buffer\n\n      var buffer;\n\n      if (module.exports) {\n        try {\n          buffer = eval(\"require('buffer').Buffer\");\n        } catch (err) {\n          buffer = undefined;\n        }\n      } // constants\n\n\n      var b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n      var b64tab = function (bin) {\n        var t = {};\n\n        for (var i = 0, l = bin.length; i < l; i++) {\n          t[bin.charAt(i)] = i;\n        }\n\n        return t;\n      }(b64chars);\n\n      var fromCharCode = String.fromCharCode; // encoder stuff\n\n      var cb_utob = function cb_utob(c) {\n        if (c.length < 2) {\n          var cc = c.charCodeAt(0);\n          return cc < 0x80 ? c : cc < 0x800 ? fromCharCode(0xc0 | cc >>> 6) + fromCharCode(0x80 | cc & 0x3f) : fromCharCode(0xe0 | cc >>> 12 & 0x0f) + fromCharCode(0x80 | cc >>> 6 & 0x3f) + fromCharCode(0x80 | cc & 0x3f);\n        } else {\n          var cc = 0x10000 + (c.charCodeAt(0) - 0xD800) * 0x400 + (c.charCodeAt(1) - 0xDC00);\n          return fromCharCode(0xf0 | cc >>> 18 & 0x07) + fromCharCode(0x80 | cc >>> 12 & 0x3f) + fromCharCode(0x80 | cc >>> 6 & 0x3f) + fromCharCode(0x80 | cc & 0x3f);\n        }\n      };\n\n      var re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n\n      var utob = function utob(u) {\n        return u.replace(re_utob, cb_utob);\n      };\n\n      var cb_encode = function cb_encode(ccc) {\n        var padlen = [0, 2, 1][ccc.length % 3],\n            ord = ccc.charCodeAt(0) << 16 | (ccc.length > 1 ? ccc.charCodeAt(1) : 0) << 8 | (ccc.length > 2 ? ccc.charCodeAt(2) : 0),\n            chars = [b64chars.charAt(ord >>> 18), b64chars.charAt(ord >>> 12 & 63), padlen >= 2 ? '=' : b64chars.charAt(ord >>> 6 & 63), padlen >= 1 ? '=' : b64chars.charAt(ord & 63)];\n        return chars.join('');\n      };\n\n      var btoa = global.btoa ? function (b) {\n        return global.btoa(b);\n      } : function (b) {\n        return b.replace(/[\\s\\S]{1,3}/g, cb_encode);\n      };\n\n      var _encode = buffer ? buffer.from && Uint8Array && buffer.from !== Uint8Array.from ? function (u) {\n        return (u.constructor === buffer.constructor ? u : buffer.from(u)).toString('base64');\n      } : function (u) {\n        return (u.constructor === buffer.constructor ? u : new buffer(u)).toString('base64');\n      } : function (u) {\n        return btoa(utob(u));\n      };\n\n      var encode = function encode(u, urisafe) {\n        return !urisafe ? _encode(String(u)) : _encode(String(u)).replace(/[+\\/]/g, function (m0) {\n          return m0 == '+' ? '-' : '_';\n        }).replace(/=/g, '');\n      };\n\n      var encodeURI = function encodeURI(u) {\n        return encode(u, true);\n      }; // decoder stuff\n\n\n      var re_btou = new RegExp(['[\\xC0-\\xDF][\\x80-\\xBF]', '[\\xE0-\\xEF][\\x80-\\xBF]{2}', '[\\xF0-\\xF7][\\x80-\\xBF]{3}'].join('|'), 'g');\n\n      var cb_btou = function cb_btou(cccc) {\n        switch (cccc.length) {\n          case 4:\n            var cp = (0x07 & cccc.charCodeAt(0)) << 18 | (0x3f & cccc.charCodeAt(1)) << 12 | (0x3f & cccc.charCodeAt(2)) << 6 | 0x3f & cccc.charCodeAt(3),\n                offset = cp - 0x10000;\n            return fromCharCode((offset >>> 10) + 0xD800) + fromCharCode((offset & 0x3FF) + 0xDC00);\n\n          case 3:\n            return fromCharCode((0x0f & cccc.charCodeAt(0)) << 12 | (0x3f & cccc.charCodeAt(1)) << 6 | 0x3f & cccc.charCodeAt(2));\n\n          default:\n            return fromCharCode((0x1f & cccc.charCodeAt(0)) << 6 | 0x3f & cccc.charCodeAt(1));\n        }\n      };\n\n      var btou = function btou(b) {\n        return b.replace(re_btou, cb_btou);\n      };\n\n      var cb_decode = function cb_decode(cccc) {\n        var len = cccc.length,\n            padlen = len % 4,\n            n = (len > 0 ? b64tab[cccc.charAt(0)] << 18 : 0) | (len > 1 ? b64tab[cccc.charAt(1)] << 12 : 0) | (len > 2 ? b64tab[cccc.charAt(2)] << 6 : 0) | (len > 3 ? b64tab[cccc.charAt(3)] : 0),\n            chars = [fromCharCode(n >>> 16), fromCharCode(n >>> 8 & 0xff), fromCharCode(n & 0xff)];\n        chars.length -= [0, 0, 2, 1][padlen];\n        return chars.join('');\n      };\n\n      var _atob = global.atob ? function (a) {\n        return global.atob(a);\n      } : function (a) {\n        return a.replace(/\\S{1,4}/g, cb_decode);\n      };\n\n      var atob = function atob(a) {\n        return _atob(String(a).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n      };\n\n      var _decode = buffer ? buffer.from && Uint8Array && buffer.from !== Uint8Array.from ? function (a) {\n        return (a.constructor === buffer.constructor ? a : buffer.from(a, 'base64')).toString();\n      } : function (a) {\n        return (a.constructor === buffer.constructor ? a : new buffer(a, 'base64')).toString();\n      } : function (a) {\n        return btou(_atob(a));\n      };\n\n      var decode = function decode(a) {\n        return _decode(String(a).replace(/[-_]/g, function (m0) {\n          return m0 == '-' ? '+' : '/';\n        }).replace(/[^A-Za-z0-9\\+\\/]/g, ''));\n      };\n\n      var noConflict = function noConflict() {\n        var Base64 = global.Base64;\n        global.Base64 = _Base64;\n        return Base64;\n      }; // export Base64\n\n\n      global.Base64 = {\n        VERSION: version,\n        atob: atob,\n        btoa: btoa,\n        fromBase64: decode,\n        toBase64: encode,\n        utob: utob,\n        encode: encode,\n        encodeURI: encodeURI,\n        btou: btou,\n        decode: decode,\n        noConflict: noConflict,\n        __buffer__: buffer\n      }; // if ES5 is available, make Base64.extendString() available\n\n      if (typeof Object.defineProperty === 'function') {\n        var noEnum = function noEnum(v) {\n          return {\n            value: v,\n            enumerable: false,\n            writable: true,\n            configurable: true\n          };\n        };\n\n        global.Base64.extendString = function () {\n          Object.defineProperty(String.prototype, 'fromBase64', noEnum(function () {\n            return decode(this);\n          }));\n          Object.defineProperty(String.prototype, 'toBase64', noEnum(function (urisafe) {\n            return encode(this, urisafe);\n          }));\n          Object.defineProperty(String.prototype, 'toBase64URI', noEnum(function () {\n            return encode(this, true);\n          }));\n        };\n      } //\n      // export Base64 to the namespace\n      //\n\n\n      if (global['Meteor']) {\n        // Meteor.js\n        Base64 = global.Base64;\n      } // module.exports and AMD are mutually exclusive.\n      // module.exports has precedence.\n\n\n      if (module.exports) {\n        module.exports.Base64 = global.Base64;\n      } // that's it!\n\n\n      return {\n        Base64: global.Base64\n      };\n    });\n  });\n  var base64_1 = base64.Base64;\n  var BARE_MODULE_PREFIX = 'https://unpkg.com/'; // const DEFAULT_SHIM_GLOBALS: { [key: string]: { spec: string; export?: string } } = {\n  //   Buffer: {\n  //     spec: `@velcro/node-libs@${nodeLibsVersion}/lib/buffer.js`,\n  //     export: 'Buffer',\n  //   },\n  //   global: {\n  //     spec: `@velcro/node-libs@${nodeLibsVersion}/lib/global.js`,\n  //   },\n  //   process: {\n  //     spec: `@velcro/node-libs@${nodeLibsVersion}/lib/process.js`,\n  //   },\n  // };\n\n  var NODE_CORE_SHIMS = ['assert', 'buffer', 'constants', 'crypto', 'events', 'fs', 'http', 'https', 'net', 'os', 'path', 'process', 'querystring', 'stream', 'tls', 'url', 'util', 'vm', 'zlib'].reduce(function (shims, coreLibName) {\n    return Object.assign(shims, _defineProperty({}, coreLibName, \"@velcro/node-libs@\".concat(version, \"/lib/\").concat(coreLibName, \".js\")));\n  }, {});\n  NODE_CORE_SHIMS['string_decoder'] = 'string_decoder@1.2.0';\n  NODE_CORE_SHIMS['punycode'] = 'punycode@2.1.1';\n\n  var resolveBareModuleToUnpkgWithDetails =\n  /*#__PURE__*/\n  function () {\n    var _ref3 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(resolver, href, parentHref) {\n      var _ref4,\n          token,\n          parsedSpec,\n          details,\n          resolvedSpecRoot,\n          unresolvedHref,\n          parentUrl,\n          parentPackageInfo,\n          consolidatedDependencies,\n          builtIn,\n          parsedBuiltInSpec,\n          stableUrl,\n          stableRootUrl,\n          resolveResult,\n          packageInfo,\n          _args = arguments;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _ref4 = _args.length > 3 && _args[3] !== undefined ? _args[3] : {}, token = _ref4.token;\n              parsedSpec = parseBareModuleSpec(href);\n              details = {\n                bareModule: {},\n                resolvedUrl: undefined\n              }; // let resolvedSpec: string | undefined = undefined;\n\n              resolvedSpecRoot = undefined;\n              unresolvedHref = undefined;\n\n              if (!parsedSpec.spec) {\n                _context.next = 9;\n                break;\n              }\n\n              // A manually-specified spec means we should use that instead of looking for a parent package.json\n              resolvedSpecRoot = parsedSpec.nameSpec;\n              _context.next = 21;\n              break;\n\n            case 9:\n              if (!parentHref) {\n                _context.next = 21;\n                break;\n              }\n\n              _context.prev = 10;\n              parentUrl = new URL(parentHref);\n              _context.next = 17;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](10);\n              throw new Error(\"Error loading bare module \".concat(href, \" because the parent module \").concat(parentHref, \" could not be resolved to a URL\"));\n\n            case 17:\n              _context.next = 19;\n              return resolver.readParentPackageJson(parentUrl, {\n                token: token\n              });\n\n            case 19:\n              parentPackageInfo = _context.sent;\n\n              if (parentPackageInfo) {\n                consolidatedDependencies = _objectSpread({}, parentPackageInfo.packageJson.peerDependencies || {}, {}, parentPackageInfo.packageJson.devDependencies || {}, {}, parentPackageInfo.packageJson.dependencies || {});\n                details.bareModule.versionSpec = consolidatedDependencies[parsedSpec.name];\n\n                if (details.bareModule.versionSpec) {\n                  resolvedSpecRoot = \"\".concat(parsedSpec.name, \"@\").concat(details.bareModule.versionSpec);\n                }\n              }\n\n            case 21:\n              if (resolvedSpecRoot) {\n                // The name + spec was hard-coded or could be derived from a parent package.json. We just\n                // need to prepend the staic prefix and then append the requested pathname.\n                resolvedSpecRoot = \"\".concat(BARE_MODULE_PREFIX).concat(resolvedSpecRoot);\n                unresolvedHref = \"\".concat(resolvedSpecRoot).concat(parsedSpec.pathname);\n              } else {\n                if (!parentHref) {\n                  // There was no parent href from which to derive version constraints so we will take\n                  // the provided 'namespec' and prefix it with the static prefix. That will be the root\n                  // and the href can be determined by adding the requested pathname.\n                  resolvedSpecRoot = \"\".concat(BARE_MODULE_PREFIX).concat(parsedSpec.nameSpec);\n                  unresolvedHref = \"\".concat(resolvedSpecRoot).concat(parsedSpec.pathname);\n                } else {\n                  builtIn = NODE_CORE_SHIMS[href];\n\n                  if (builtIn) {\n                    parsedBuiltInSpec = parseBareModuleSpec(builtIn);\n                    resolvedSpecRoot = \"\".concat(BARE_MODULE_PREFIX).concat(parsedBuiltInSpec.nameSpec);\n                    unresolvedHref = \"\".concat(resolvedSpecRoot).concat(parsedBuiltInSpec.pathname);\n                    details.bareModule.isBuiltIn = true;\n                  }\n                }\n              }\n\n              if (!(unresolvedHref && resolvedSpecRoot)) {\n                _context.next = 33;\n                break;\n              }\n\n              stableUrl = new URL(unresolvedHref);\n              stableRootUrl = new URL(resolvedSpecRoot);\n              _context.next = 27;\n              return resolver.resolve(stableUrl, {\n                token: token\n              });\n\n            case 27:\n              resolveResult = _context.sent;\n              details.ignored = resolveResult.ignored;\n              details.stableRootUrl = stableRootUrl;\n              details.stableUrl = stableUrl;\n\n              if (resolveResult.resolvedUrl) {\n                details.resolvedUrl = resolveResult.resolvedUrl;\n              }\n\n              details.rootUrl = resolveResult.rootUrl;\n\n            case 33:\n              if (!details.resolvedUrl) {\n                _context.next = 38;\n                break;\n              }\n\n              _context.next = 36;\n              return resolver.readParentPackageJson(details.resolvedUrl, {\n                token: token\n              });\n\n            case 36:\n              packageInfo = _context.sent;\n\n              if (packageInfo) {\n                details.bareModule.version = packageInfo.packageJson.version;\n              }\n\n            case 38:\n              return _context.abrupt(\"return\", details);\n\n            case 39:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[10, 14]]);\n    }));\n\n    return function resolveBareModuleToUnpkgWithDetails(_x, _x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  function traverse(ast, ctx, _ref5) {\n    var enter = _ref5.enter,\n        leave = _ref5.leave;\n    visit(ast, null, ctx, enter, leave);\n  }\n\n  var shouldSkip = false;\n  var context = {\n    skip: function skip() {\n      return shouldSkip = true;\n    }\n  };\n  var childKeys = {};\n\n  function visit(node, parent, ctx, enter, leave, prop, index) {\n    if (!node) return;\n    node.parent = parent;\n\n    if (enter) {\n      var _shouldSkip = shouldSkip;\n      shouldSkip = false;\n      enter.call(context, node, parent, ctx, prop, index);\n      var skipped = shouldSkip;\n      shouldSkip = _shouldSkip;\n      if (skipped) return;\n    }\n\n    var keys = childKeys[node.type] || (childKeys[node.type] = Object.keys(node).filter(function (key) {\n      return key !== 'parent' && typeof node[key] === 'object';\n    }));\n\n    for (var _i5 = 0; _i5 < keys.length; _i5++) {\n      var key = keys[_i5];\n      var value = node[key];\n\n      if (Array.isArray(value)) {\n        for (var j = 0; j < value.length; j++) {\n          visit(value[j], node, ctx, enter, leave, key, j);\n        }\n      } else if (value && value.type) {\n        visit(value, node, ctx, enter, leave, key);\n      }\n    }\n\n    if (leave) {\n      leave(node, parent, ctx, prop, index);\n    }\n  } // Reserved word lists for various dialects of the language\n\n\n  var reservedWords = {\n    3: \"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile\",\n    5: \"class enum extends super const export import\",\n    6: \"enum\",\n    strict: \"implements interface let package private protected public static yield\",\n    strictBind: \"eval arguments\"\n  }; // And the keywords\n\n  var ecma5AndLessKeywords = \"break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this\";\n  var keywords = {\n    5: ecma5AndLessKeywords,\n    \"5module\": ecma5AndLessKeywords + \" export import\",\n    6: ecma5AndLessKeywords + \" const class extends export import super\"\n  };\n  var keywordRelationalOperator = /^in(stanceof)?$/; // ## Character categories\n  // Big ugly regular expressions that match characters in the\n  // whitespace, identifier, and identifier-start categories. These\n  // are only applied when a character is found to actually have a\n  // code point above 128.\n  // Generated by `bin/generate-identifier-regex.js`.\n\n  var nonASCIIidentifierStartChars = \"\\xAA\\xB5\\xBA\\xC0-\\xD6\\xD8-\\xF6\\xF8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u052F\\u0531-\\u0556\\u0559\\u0560-\\u0588\\u05D0-\\u05EA\\u05EF-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u0860-\\u086A\\u08A0-\\u08B4\\u08B6-\\u08BD\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0980\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u09FC\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0AF9\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C39\\u0C3D\\u0C58-\\u0C5A\\u0C60\\u0C61\\u0C80\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D54-\\u0D56\\u0D5F-\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E86-\\u0E8A\\u0E8C-\\u0EA3\\u0EA5\\u0EA7-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F5\\u13F8-\\u13FD\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u16EE-\\u16F8\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1878\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191E\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19B0-\\u19C9\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1C80-\\u1C88\\u1C90-\\u1CBA\\u1CBD-\\u1CBF\\u1CE9-\\u1CEC\\u1CEE-\\u1CF3\\u1CF5\\u1CF6\\u1CFA\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2118-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2160-\\u2188\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u3005-\\u3007\\u3021-\\u3029\\u3031-\\u3035\\u3038-\\u303C\\u3041-\\u3096\\u309B-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312F\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FEF\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA69D\\uA6A0-\\uA6EF\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA7BF\\uA7C2-\\uA7C6\\uA7F7-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA8FD\\uA8FE\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uA9E0-\\uA9E4\\uA9E6-\\uA9EF\\uA9FA-\\uA9FE\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA7E-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uAB30-\\uAB5A\\uAB5C-\\uAB67\\uAB70-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC\";\n  var nonASCIIidentifierChars = \"\\u200C\\u200D\\xB7\\u0300-\\u036F\\u0387\\u0483-\\u0487\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u0669\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u06F0-\\u06F9\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07C0-\\u07C9\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0966-\\u096F\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u09E6-\\u09EF\\u09FE\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A66-\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0AE6-\\u0AEF\\u0AFA-\\u0AFF\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B66-\\u0B6F\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0BE6-\\u0BEF\\u0C00-\\u0C04\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C66-\\u0C6F\\u0C81-\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0CE6-\\u0CEF\\u0D00-\\u0D03\\u0D3B\\u0D3C\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D66-\\u0D6F\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DE6-\\u0DEF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0E50-\\u0E59\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0ED0-\\u0ED9\\u0F18\\u0F19\\u0F20-\\u0F29\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1040-\\u1049\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F-\\u109D\\u135D-\\u135F\\u1369-\\u1371\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u17E0-\\u17E9\\u180B-\\u180D\\u1810-\\u1819\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u1946-\\u194F\\u19D0-\\u19DA\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F-\\u1A89\\u1A90-\\u1A99\\u1AB0-\\u1ABD\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B50-\\u1B59\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BB0-\\u1BB9\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1C40-\\u1C49\\u1C50-\\u1C59\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF4\\u1CF7-\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u203F\\u2040\\u2054\\u20D0-\\u20DC\\u20E1\\u20E5-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA620-\\uA629\\uA66F\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C5\\uA8D0-\\uA8D9\\uA8E0-\\uA8F1\\uA8FF-\\uA909\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uA9D0-\\uA9D9\\uA9E5\\uA9F0-\\uA9F9\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA50-\\uAA59\\uAA7B-\\uAA7D\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uABF0-\\uABF9\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFE33\\uFE34\\uFE4D-\\uFE4F\\uFF10-\\uFF19\\uFF3F\";\n  var nonASCIIidentifierStart = new RegExp(\"[\" + nonASCIIidentifierStartChars + \"]\");\n  var nonASCIIidentifier = new RegExp(\"[\" + nonASCIIidentifierStartChars + nonASCIIidentifierChars + \"]\");\n  nonASCIIidentifierStartChars = nonASCIIidentifierChars = null; // These are a run-length and offset encoded representation of the\n  // >0xffff code points that are a valid part of identifiers. The\n  // offset starts at 0x10000, and each pair of numbers represents an\n  // offset to the next range, and then a size of the range. They were\n  // generated by bin/generate-identifier-regex.js\n  // eslint-disable-next-line comma-spacing\n\n  var astralIdentifierStartCodes = [0, 11, 2, 25, 2, 18, 2, 1, 2, 14, 3, 13, 35, 122, 70, 52, 268, 28, 4, 48, 48, 31, 14, 29, 6, 37, 11, 29, 3, 35, 5, 7, 2, 4, 43, 157, 19, 35, 5, 35, 5, 39, 9, 51, 157, 310, 10, 21, 11, 7, 153, 5, 3, 0, 2, 43, 2, 1, 4, 0, 3, 22, 11, 22, 10, 30, 66, 18, 2, 1, 11, 21, 11, 25, 71, 55, 7, 1, 65, 0, 16, 3, 2, 2, 2, 28, 43, 28, 4, 28, 36, 7, 2, 27, 28, 53, 11, 21, 11, 18, 14, 17, 111, 72, 56, 50, 14, 50, 14, 35, 477, 28, 11, 0, 9, 21, 155, 22, 13, 52, 76, 44, 33, 24, 27, 35, 30, 0, 12, 34, 4, 0, 13, 47, 15, 3, 22, 0, 2, 0, 36, 17, 2, 24, 85, 6, 2, 0, 2, 3, 2, 14, 2, 9, 8, 46, 39, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 4, 0, 19, 0, 13, 4, 159, 52, 19, 3, 21, 0, 33, 47, 21, 1, 2, 0, 185, 46, 42, 3, 37, 47, 21, 0, 60, 42, 14, 0, 72, 26, 230, 43, 117, 63, 32, 0, 161, 7, 3, 38, 17, 0, 2, 0, 29, 0, 11, 39, 8, 0, 22, 0, 12, 45, 20, 0, 35, 56, 264, 8, 2, 36, 18, 0, 50, 29, 113, 6, 2, 1, 2, 37, 22, 0, 26, 5, 2, 1, 2, 31, 15, 0, 328, 18, 270, 921, 103, 110, 18, 195, 2749, 1070, 4050, 582, 8634, 568, 8, 30, 114, 29, 19, 47, 17, 3, 32, 20, 6, 18, 689, 63, 129, 74, 6, 0, 67, 12, 65, 1, 2, 0, 29, 6135, 9, 754, 9486, 286, 50, 2, 18, 3, 9, 395, 2309, 106, 6, 12, 4, 8, 8, 9, 5991, 84, 2, 70, 2, 1, 3, 0, 3, 1, 3, 3, 2, 11, 2, 0, 2, 6, 2, 64, 2, 3, 3, 7, 2, 6, 2, 27, 2, 3, 2, 4, 2, 0, 4, 6, 2, 339, 3, 24, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 30, 2, 24, 2, 7, 2357, 44, 11, 6, 17, 0, 370, 43, 1301, 196, 60, 67, 8, 0, 1205, 3, 2, 26, 2, 1, 2, 0, 3, 0, 2, 9, 2, 3, 2, 0, 2, 0, 7, 0, 5, 0, 2, 0, 2, 0, 2, 2, 2, 1, 2, 0, 3, 0, 2, 0, 2, 0, 2, 0, 2, 0, 2, 1, 2, 0, 3, 3, 2, 6, 2, 3, 2, 3, 2, 0, 2, 9, 2, 16, 6, 2, 2, 4, 2, 16, 4421, 42710, 42, 4148, 12, 221, 3, 5761, 15, 7472, 3104, 541]; // eslint-disable-next-line comma-spacing\n\n  var astralIdentifierCodes = [509, 0, 227, 0, 150, 4, 294, 9, 1368, 2, 2, 1, 6, 3, 41, 2, 5, 0, 166, 1, 574, 3, 9, 9, 525, 10, 176, 2, 54, 14, 32, 9, 16, 3, 46, 10, 54, 9, 7, 2, 37, 13, 2, 9, 6, 1, 45, 0, 13, 2, 49, 13, 9, 3, 4, 9, 83, 11, 7, 0, 161, 11, 6, 9, 7, 3, 56, 1, 2, 6, 3, 1, 3, 2, 10, 0, 11, 1, 3, 6, 4, 4, 193, 17, 10, 9, 5, 0, 82, 19, 13, 9, 214, 6, 3, 8, 28, 1, 83, 16, 16, 9, 82, 12, 9, 9, 84, 14, 5, 9, 243, 14, 166, 9, 232, 6, 3, 6, 4, 0, 29, 9, 41, 6, 2, 3, 9, 0, 10, 10, 47, 15, 406, 7, 2, 7, 17, 9, 57, 21, 2, 13, 123, 5, 4, 0, 2, 1, 2, 6, 2, 0, 9, 9, 49, 4, 2, 1, 2, 4, 9, 9, 330, 3, 19306, 9, 135, 4, 60, 6, 26, 9, 1014, 0, 2, 54, 8, 3, 19723, 1, 5319, 4, 4, 5, 9, 7, 3, 6, 31, 3, 149, 2, 1418, 49, 513, 54, 5, 49, 9, 0, 15, 0, 23, 4, 2, 14, 1361, 6, 2, 16, 3, 6, 2, 1, 2, 4, 262, 6, 10, 9, 419, 13, 1495, 6, 110, 6, 6, 9, 792487, 239]; // This has a complexity linear to the value of the code. The\n  // assumption is that looking up astral identifier characters is\n  // rare.\n\n  function isInAstralSet(code, set) {\n    var pos = 0x10000;\n\n    for (var i = 0; i < set.length; i += 2) {\n      pos += set[i];\n\n      if (pos > code) {\n        return false;\n      }\n\n      pos += set[i + 1];\n\n      if (pos >= code) {\n        return true;\n      }\n    }\n  } // Test whether a given character code starts an identifier.\n\n\n  function isIdentifierStart(code, astral) {\n    if (code < 65) {\n      return code === 36;\n    }\n\n    if (code < 91) {\n      return true;\n    }\n\n    if (code < 97) {\n      return code === 95;\n    }\n\n    if (code < 123) {\n      return true;\n    }\n\n    if (code <= 0xffff) {\n      return code >= 0xaa && nonASCIIidentifierStart.test(String.fromCharCode(code));\n    }\n\n    if (astral === false) {\n      return false;\n    }\n\n    return isInAstralSet(code, astralIdentifierStartCodes);\n  } // Test whether a given character is part of an identifier.\n\n\n  function isIdentifierChar(code, astral) {\n    if (code < 48) {\n      return code === 36;\n    }\n\n    if (code < 58) {\n      return true;\n    }\n\n    if (code < 65) {\n      return false;\n    }\n\n    if (code < 91) {\n      return true;\n    }\n\n    if (code < 97) {\n      return code === 95;\n    }\n\n    if (code < 123) {\n      return true;\n    }\n\n    if (code <= 0xffff) {\n      return code >= 0xaa && nonASCIIidentifier.test(String.fromCharCode(code));\n    }\n\n    if (astral === false) {\n      return false;\n    }\n\n    return isInAstralSet(code, astralIdentifierStartCodes) || isInAstralSet(code, astralIdentifierCodes);\n  } // ## Token types\n  // The assignment of fine-grained, information-carrying type objects\n  // allows the tokenizer to store the information it has about a\n  // token in a way that is very cheap for the parser to look up.\n  // All token type variables start with an underscore, to make them\n  // easy to recognize.\n  // The `beforeExpr` property is used to disambiguate between regular\n  // expressions and divisions. It is set on all token types that can\n  // be followed by an expression (thus, a slash after them would be a\n  // regular expression).\n  //\n  // The `startsExpr` property is used to check if the token ends a\n  // `yield` expression. It is set on all token types that either can\n  // directly start an expression (like a quotation mark) or can\n  // continue an expression (like the body of a string).\n  //\n  // `isLoop` marks a keyword as starting a loop, which is important\n  // to know when parsing a label, in order to allow or disallow\n  // continue jumps to that label.\n\n\n  var TokenType = function TokenType(label, conf) {\n    if (conf === void 0) conf = {};\n    this.label = label;\n    this.keyword = conf.keyword;\n    this.beforeExpr = !!conf.beforeExpr;\n    this.startsExpr = !!conf.startsExpr;\n    this.isLoop = !!conf.isLoop;\n    this.isAssign = !!conf.isAssign;\n    this.prefix = !!conf.prefix;\n    this.postfix = !!conf.postfix;\n    this.binop = conf.binop || null;\n    this.updateContext = null;\n  };\n\n  function binop(name, prec) {\n    return new TokenType(name, {\n      beforeExpr: true,\n      binop: prec\n    });\n  }\n\n  var beforeExpr = {\n    beforeExpr: true\n  },\n      startsExpr = {\n    startsExpr: true\n  }; // Map keyword names to token types.\n\n  var keywords$1 = {}; // Succinct definitions of keyword token types\n\n  function kw(name, options) {\n    if (options === void 0) options = {};\n    options.keyword = name;\n    return keywords$1[name] = new TokenType(name, options);\n  }\n\n  var types = {\n    num: new TokenType(\"num\", startsExpr),\n    regexp: new TokenType(\"regexp\", startsExpr),\n    string: new TokenType(\"string\", startsExpr),\n    name: new TokenType(\"name\", startsExpr),\n    eof: new TokenType(\"eof\"),\n    // Punctuation token types.\n    bracketL: new TokenType(\"[\", {\n      beforeExpr: true,\n      startsExpr: true\n    }),\n    bracketR: new TokenType(\"]\"),\n    braceL: new TokenType(\"{\", {\n      beforeExpr: true,\n      startsExpr: true\n    }),\n    braceR: new TokenType(\"}\"),\n    parenL: new TokenType(\"(\", {\n      beforeExpr: true,\n      startsExpr: true\n    }),\n    parenR: new TokenType(\")\"),\n    comma: new TokenType(\",\", beforeExpr),\n    semi: new TokenType(\";\", beforeExpr),\n    colon: new TokenType(\":\", beforeExpr),\n    dot: new TokenType(\".\"),\n    question: new TokenType(\"?\", beforeExpr),\n    arrow: new TokenType(\"=>\", beforeExpr),\n    template: new TokenType(\"template\"),\n    invalidTemplate: new TokenType(\"invalidTemplate\"),\n    ellipsis: new TokenType(\"...\", beforeExpr),\n    backQuote: new TokenType(\"`\", startsExpr),\n    dollarBraceL: new TokenType(\"${\", {\n      beforeExpr: true,\n      startsExpr: true\n    }),\n    // Operators. These carry several kinds of properties to help the\n    // parser use them properly (the presence of these properties is\n    // what categorizes them as operators).\n    //\n    // `binop`, when present, specifies that this operator is a binary\n    // operator, and will refer to its precedence.\n    //\n    // `prefix` and `postfix` mark the operator as a prefix or postfix\n    // unary operator.\n    //\n    // `isAssign` marks all of `=`, `+=`, `-=` etcetera, which act as\n    // binary operators with a very low precedence, that should result\n    // in AssignmentExpression nodes.\n    eq: new TokenType(\"=\", {\n      beforeExpr: true,\n      isAssign: true\n    }),\n    assign: new TokenType(\"_=\", {\n      beforeExpr: true,\n      isAssign: true\n    }),\n    incDec: new TokenType(\"++/--\", {\n      prefix: true,\n      postfix: true,\n      startsExpr: true\n    }),\n    prefix: new TokenType(\"!/~\", {\n      beforeExpr: true,\n      prefix: true,\n      startsExpr: true\n    }),\n    logicalOR: binop(\"||\", 1),\n    logicalAND: binop(\"&&\", 2),\n    bitwiseOR: binop(\"|\", 3),\n    bitwiseXOR: binop(\"^\", 4),\n    bitwiseAND: binop(\"&\", 5),\n    equality: binop(\"==/!=/===/!==\", 6),\n    relational: binop(\"</>/<=/>=\", 7),\n    bitShift: binop(\"<</>>/>>>\", 8),\n    plusMin: new TokenType(\"+/-\", {\n      beforeExpr: true,\n      binop: 9,\n      prefix: true,\n      startsExpr: true\n    }),\n    modulo: binop(\"%\", 10),\n    star: binop(\"*\", 10),\n    slash: binop(\"/\", 10),\n    starstar: new TokenType(\"**\", {\n      beforeExpr: true\n    }),\n    // Keyword token types.\n    _break: kw(\"break\"),\n    _case: kw(\"case\", beforeExpr),\n    _catch: kw(\"catch\"),\n    _continue: kw(\"continue\"),\n    _debugger: kw(\"debugger\"),\n    _default: kw(\"default\", beforeExpr),\n    _do: kw(\"do\", {\n      isLoop: true,\n      beforeExpr: true\n    }),\n    _else: kw(\"else\", beforeExpr),\n    _finally: kw(\"finally\"),\n    _for: kw(\"for\", {\n      isLoop: true\n    }),\n    _function: kw(\"function\", startsExpr),\n    _if: kw(\"if\"),\n    _return: kw(\"return\", beforeExpr),\n    _switch: kw(\"switch\"),\n    _throw: kw(\"throw\", beforeExpr),\n    _try: kw(\"try\"),\n    _var: kw(\"var\"),\n    _const: kw(\"const\"),\n    _while: kw(\"while\", {\n      isLoop: true\n    }),\n    _with: kw(\"with\"),\n    _new: kw(\"new\", {\n      beforeExpr: true,\n      startsExpr: true\n    }),\n    _this: kw(\"this\", startsExpr),\n    _super: kw(\"super\", startsExpr),\n    _class: kw(\"class\", startsExpr),\n    _extends: kw(\"extends\", beforeExpr),\n    _export: kw(\"export\"),\n    _import: kw(\"import\", startsExpr),\n    _null: kw(\"null\", startsExpr),\n    _true: kw(\"true\", startsExpr),\n    _false: kw(\"false\", startsExpr),\n    _in: kw(\"in\", {\n      beforeExpr: true,\n      binop: 7\n    }),\n    _instanceof: kw(\"instanceof\", {\n      beforeExpr: true,\n      binop: 7\n    }),\n    _typeof: kw(\"typeof\", {\n      beforeExpr: true,\n      prefix: true,\n      startsExpr: true\n    }),\n    _void: kw(\"void\", {\n      beforeExpr: true,\n      prefix: true,\n      startsExpr: true\n    }),\n    _delete: kw(\"delete\", {\n      beforeExpr: true,\n      prefix: true,\n      startsExpr: true\n    })\n  }; // Matches a whole line break (where CRLF is considered a single\n  // line break). Used to count lines.\n\n  var lineBreak = /\\r\\n?|\\n|\\u2028|\\u2029/;\n  var lineBreakG = new RegExp(lineBreak.source, \"g\");\n\n  function isNewLine(code, ecma2019String) {\n    return code === 10 || code === 13 || !ecma2019String && (code === 0x2028 || code === 0x2029);\n  }\n\n  var nonASCIIwhitespace = /[\\u1680\\u2000-\\u200a\\u202f\\u205f\\u3000\\ufeff]/;\n  var skipWhiteSpace = /(?:\\s|\\/\\/.*|\\/\\*[^]*?\\*\\/)*/g;\n  var ref = Object.prototype;\n  var hasOwnProperty = ref.hasOwnProperty;\n  var toString$1 = ref.toString; // Checks if an object has a property.\n\n  function has(obj, propName) {\n    return hasOwnProperty.call(obj, propName);\n  }\n\n  var isArray = Array.isArray || function (obj) {\n    return toString$1.call(obj) === \"[object Array]\";\n  };\n\n  function wordsRegexp(words) {\n    return new RegExp(\"^(?:\" + words.replace(/ /g, \"|\") + \")$\");\n  } // These are used when `options.locations` is on, for the\n  // `startLoc` and `endLoc` properties.\n\n\n  var Position = function Position(line, col) {\n    this.line = line;\n    this.column = col;\n  };\n\n  Position.prototype.offset = function offset(n) {\n    return new Position(this.line, this.column + n);\n  };\n\n  var SourceLocation = function SourceLocation(p, start, end) {\n    this.start = start;\n    this.end = end;\n\n    if (p.sourceFile !== null) {\n      this.source = p.sourceFile;\n    }\n  }; // The `getLineInfo` function is mostly useful when the\n  // `locations` option is off (for performance reasons) and you\n  // want to find the line/column position for a given character\n  // offset. `input` should be the code string that the offset refers\n  // into.\n\n\n  function getLineInfo(input, offset) {\n    for (var line = 1, cur = 0;;) {\n      lineBreakG.lastIndex = cur;\n      var match = lineBreakG.exec(input);\n\n      if (match && match.index < offset) {\n        ++line;\n        cur = match.index + match[0].length;\n      } else {\n        return new Position(line, offset - cur);\n      }\n    }\n  } // A second optional argument can be given to further configure\n  // the parser process. These options are recognized:\n\n\n  var defaultOptions = {\n    // `ecmaVersion` indicates the ECMAScript version to parse. Must be\n    // either 3, 5, 6 (2015), 7 (2016), 8 (2017), 9 (2018), or 10\n    // (2019). This influences support for strict mode, the set of\n    // reserved words, and support for new syntax features. The default\n    // is 10.\n    ecmaVersion: 10,\n    // `sourceType` indicates the mode the code should be parsed in.\n    // Can be either `\"script\"` or `\"module\"`. This influences global\n    // strict mode and parsing of `import` and `export` declarations.\n    sourceType: \"script\",\n    // `onInsertedSemicolon` can be a callback that will be called\n    // when a semicolon is automatically inserted. It will be passed\n    // the position of the comma as an offset, and if `locations` is\n    // enabled, it is given the location as a `{line, column}` object\n    // as second argument.\n    onInsertedSemicolon: null,\n    // `onTrailingComma` is similar to `onInsertedSemicolon`, but for\n    // trailing commas.\n    onTrailingComma: null,\n    // By default, reserved words are only enforced if ecmaVersion >= 5.\n    // Set `allowReserved` to a boolean value to explicitly turn this on\n    // an off. When this option has the value \"never\", reserved words\n    // and keywords can also not be used as property names.\n    allowReserved: null,\n    // When enabled, a return at the top level is not considered an\n    // error.\n    allowReturnOutsideFunction: false,\n    // When enabled, import/export statements are not constrained to\n    // appearing at the top of the program.\n    allowImportExportEverywhere: false,\n    // When enabled, await identifiers are allowed to appear at the top-level scope,\n    // but they are still not allowed in non-async functions.\n    allowAwaitOutsideFunction: false,\n    // When enabled, hashbang directive in the beginning of file\n    // is allowed and treated as a line comment.\n    allowHashBang: false,\n    // When `locations` is on, `loc` properties holding objects with\n    // `start` and `end` properties in `{line, column}` form (with\n    // line being 1-based and column 0-based) will be attached to the\n    // nodes.\n    locations: false,\n    // A function can be passed as `onToken` option, which will\n    // cause Acorn to call that function with object in the same\n    // format as tokens returned from `tokenizer().getToken()`. Note\n    // that you are not allowed to call the parser from the\n    // callbackthat will corrupt its internal state.\n    onToken: null,\n    // A function can be passed as `onComment` option, which will\n    // cause Acorn to call that function with `(block, text, start,\n    // end)` parameters whenever a comment is skipped. `block` is a\n    // boolean indicating whether this is a block (`/* */`) comment,\n    // `text` is the content of the comment, and `start` and `end` are\n    // character offsets that denote the start and end of the comment.\n    // When the `locations` option is on, two more parameters are\n    // passed, the full `{line, column}` locations of the start and\n    // end of the comments. Note that you are not allowed to call the\n    // parser from the callbackthat will corrupt its internal state.\n    onComment: null,\n    // Nodes have their start and end characters offsets recorded in\n    // `start` and `end` properties (directly on the node, rather than\n    // the `loc` object, which holds line/column data. To also add a\n    // [semi-standardized][range] `range` property holding a `[start,\n    // end]` array with the same numbers, set the `ranges` option to\n    // `true`.\n    //\n    // [range]: https://bugzilla.mozilla.org/show_bug.cgi?id=745678\n    ranges: false,\n    // It is possible to parse multiple files into a single AST by\n    // passing the tree produced by parsing the first file as\n    // `program` option in subsequent parses. This will add the\n    // toplevel forms of the parsed file to the `Program` (top) node\n    // of an existing parse tree.\n    program: null,\n    // When `locations` is on, you can pass this to record the source\n    // file in every node's `loc` object.\n    sourceFile: null,\n    // This value, if given, is stored in every node, whether\n    // `locations` is on or off.\n    directSourceFile: null,\n    // When enabled, parenthesized expressions are represented by\n    // (non-standard) ParenthesizedExpression nodes\n    preserveParens: false\n  }; // Interpret and default an options object\n\n  function getOptions(opts) {\n    var options = {};\n\n    for (var opt in defaultOptions) {\n      options[opt] = opts && has(opts, opt) ? opts[opt] : defaultOptions[opt];\n    }\n\n    if (options.ecmaVersion >= 2015) {\n      options.ecmaVersion -= 2009;\n    }\n\n    if (options.allowReserved == null) {\n      options.allowReserved = options.ecmaVersion < 5;\n    }\n\n    if (isArray(options.onToken)) {\n      var tokens = options.onToken;\n\n      options.onToken = function (token) {\n        return tokens.push(token);\n      };\n    }\n\n    if (isArray(options.onComment)) {\n      options.onComment = pushComment(options, options.onComment);\n    }\n\n    return options;\n  }\n\n  function pushComment(options, array) {\n    return function (block, text, start, end, startLoc, endLoc) {\n      var comment = {\n        type: block ? \"Block\" : \"Line\",\n        value: text,\n        start: start,\n        end: end\n      };\n\n      if (options.locations) {\n        comment.loc = new SourceLocation(this, startLoc, endLoc);\n      }\n\n      if (options.ranges) {\n        comment.range = [start, end];\n      }\n\n      array.push(comment);\n    };\n  } // Each scope gets a bitset that may contain these flags\n\n\n  var SCOPE_TOP = 1,\n      SCOPE_FUNCTION = 2,\n      SCOPE_VAR = SCOPE_TOP | SCOPE_FUNCTION,\n      SCOPE_ASYNC = 4,\n      SCOPE_GENERATOR = 8,\n      SCOPE_ARROW = 16,\n      SCOPE_SIMPLE_CATCH = 32,\n      SCOPE_SUPER = 64,\n      SCOPE_DIRECT_SUPER = 128;\n\n  function functionFlags(async, generator) {\n    return SCOPE_FUNCTION | (async ? SCOPE_ASYNC : 0) | (generator ? SCOPE_GENERATOR : 0);\n  } // Used in checkLVal and declareName to determine the type of a binding\n\n\n  var BIND_NONE = 0,\n      // Not a binding\n  BIND_VAR = 1,\n      // Var-style binding\n  BIND_LEXICAL = 2,\n      // Let- or const-style binding\n  BIND_FUNCTION = 3,\n      // Function declaration\n  BIND_SIMPLE_CATCH = 4,\n      // Simple (identifier pattern) catch binding\n  BIND_OUTSIDE = 5; // Special case for function names as bound inside the function\n\n  var Parser = function Parser(options, input, startPos) {\n    this.options = options = getOptions(options);\n    this.sourceFile = options.sourceFile;\n    this.keywords = wordsRegexp(keywords[options.ecmaVersion >= 6 ? 6 : options.sourceType === \"module\" ? \"5module\" : 5]);\n    var reserved = \"\";\n\n    if (options.allowReserved !== true) {\n      for (var v = options.ecmaVersion;; v--) {\n        if (reserved = reservedWords[v]) {\n          break;\n        }\n      }\n\n      if (options.sourceType === \"module\") {\n        reserved += \" await\";\n      }\n    }\n\n    this.reservedWords = wordsRegexp(reserved);\n    var reservedStrict = (reserved ? reserved + \" \" : \"\") + reservedWords.strict;\n    this.reservedWordsStrict = wordsRegexp(reservedStrict);\n    this.reservedWordsStrictBind = wordsRegexp(reservedStrict + \" \" + reservedWords.strictBind);\n    this.input = String(input); // Used to signal to callers of `readWord1` whether the word\n    // contained any escape sequences. This is needed because words with\n    // escape sequences must not be interpreted as keywords.\n\n    this.containsEsc = false; // Set up token state\n    // The current position of the tokenizer in the input.\n\n    if (startPos) {\n      this.pos = startPos;\n      this.lineStart = this.input.lastIndexOf(\"\\n\", startPos - 1) + 1;\n      this.curLine = this.input.slice(0, this.lineStart).split(lineBreak).length;\n    } else {\n      this.pos = this.lineStart = 0;\n      this.curLine = 1;\n    } // Properties of the current token:\n    // Its type\n\n\n    this.type = types.eof; // For tokens that include more information than their type, the value\n\n    this.value = null; // Its start and end offset\n\n    this.start = this.end = this.pos; // And, if locations are used, the {line, column} object\n    // corresponding to those offsets\n\n    this.startLoc = this.endLoc = this.curPosition(); // Position information for the previous token\n\n    this.lastTokEndLoc = this.lastTokStartLoc = null;\n    this.lastTokStart = this.lastTokEnd = this.pos; // The context stack is used to superficially track syntactic\n    // context to predict whether a regular expression is allowed in a\n    // given position.\n\n    this.context = this.initialContext();\n    this.exprAllowed = true; // Figure out if it's a module code.\n\n    this.inModule = options.sourceType === \"module\";\n    this.strict = this.inModule || this.strictDirective(this.pos); // Used to signify the start of a potential arrow function\n\n    this.potentialArrowAt = -1; // Positions to delayed-check that yield/await does not exist in default parameters.\n\n    this.yieldPos = this.awaitPos = this.awaitIdentPos = 0; // Labels in scope.\n\n    this.labels = []; // Thus-far undefined exports.\n\n    this.undefinedExports = {}; // If enabled, skip leading hashbang line.\n\n    if (this.pos === 0 && options.allowHashBang && this.input.slice(0, 2) === \"#!\") {\n      this.skipLineComment(2);\n    } // Scope tracking for duplicate variable names (see scope.js)\n\n\n    this.scopeStack = [];\n    this.enterScope(SCOPE_TOP); // For RegExp validation\n\n    this.regexpState = null;\n  };\n\n  var prototypeAccessors = {\n    inFunction: {\n      configurable: true\n    },\n    inGenerator: {\n      configurable: true\n    },\n    inAsync: {\n      configurable: true\n    },\n    allowSuper: {\n      configurable: true\n    },\n    allowDirectSuper: {\n      configurable: true\n    },\n    treatFunctionsAsVar: {\n      configurable: true\n    }\n  };\n\n  Parser.prototype.parse = function parse() {\n    var node = this.options.program || this.startNode();\n    this.nextToken();\n    return this.parseTopLevel(node);\n  };\n\n  prototypeAccessors.inFunction.get = function () {\n    return (this.currentVarScope().flags & SCOPE_FUNCTION) > 0;\n  };\n\n  prototypeAccessors.inGenerator.get = function () {\n    return (this.currentVarScope().flags & SCOPE_GENERATOR) > 0;\n  };\n\n  prototypeAccessors.inAsync.get = function () {\n    return (this.currentVarScope().flags & SCOPE_ASYNC) > 0;\n  };\n\n  prototypeAccessors.allowSuper.get = function () {\n    return (this.currentThisScope().flags & SCOPE_SUPER) > 0;\n  };\n\n  prototypeAccessors.allowDirectSuper.get = function () {\n    return (this.currentThisScope().flags & SCOPE_DIRECT_SUPER) > 0;\n  };\n\n  prototypeAccessors.treatFunctionsAsVar.get = function () {\n    return this.treatFunctionsAsVarInScope(this.currentScope());\n  }; // Switch to a getter for 7.0.0.\n\n\n  Parser.prototype.inNonArrowFunction = function inNonArrowFunction() {\n    return (this.currentThisScope().flags & SCOPE_FUNCTION) > 0;\n  };\n\n  Parser.extend = function extend() {\n    var plugins = [],\n        len = arguments.length;\n\n    while (len--) {\n      plugins[len] = arguments[len];\n    }\n\n    var cls = this;\n\n    for (var i = 0; i < plugins.length; i++) {\n      cls = plugins[i](cls);\n    }\n\n    return cls;\n  };\n\n  Parser.parse = function parse(input, options) {\n    return new this(options, input).parse();\n  };\n\n  Parser.parseExpressionAt = function parseExpressionAt(input, pos, options) {\n    var parser = new this(options, input, pos);\n    parser.nextToken();\n    return parser.parseExpression();\n  };\n\n  Parser.tokenizer = function tokenizer(input, options) {\n    return new this(options, input);\n  };\n\n  Object.defineProperties(Parser.prototype, prototypeAccessors);\n  var pp = Parser.prototype; // ## Parser utilities\n\n  var literal = /^(?:'((?:\\\\.|[^'])*?)'|\"((?:\\\\.|[^\"])*?)\")/;\n\n  pp.strictDirective = function (start) {\n    for (;;) {\n      // Try to find string literal.\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n      var match = literal.exec(this.input.slice(start));\n\n      if (!match) {\n        return false;\n      }\n\n      if ((match[1] || match[2]) === \"use strict\") {\n        return true;\n      }\n\n      start += match[0].length; // Skip semicolon, if any.\n\n      skipWhiteSpace.lastIndex = start;\n      start += skipWhiteSpace.exec(this.input)[0].length;\n\n      if (this.input[start] === \";\") {\n        start++;\n      }\n    }\n  }; // Predicate that tests whether the next token is of the given\n  // type, and if yes, consumes it as a side effect.\n\n\n  pp.eat = function (type) {\n    if (this.type === type) {\n      this.next();\n      return true;\n    } else {\n      return false;\n    }\n  }; // Tests whether parsed token is a contextual keyword.\n\n\n  pp.isContextual = function (name) {\n    return this.type === types.name && this.value === name && !this.containsEsc;\n  }; // Consumes contextual keyword if possible.\n\n\n  pp.eatContextual = function (name) {\n    if (!this.isContextual(name)) {\n      return false;\n    }\n\n    this.next();\n    return true;\n  }; // Asserts that following token is given contextual keyword.\n\n\n  pp.expectContextual = function (name) {\n    if (!this.eatContextual(name)) {\n      this.unexpected();\n    }\n  }; // Test whether a semicolon can be inserted at the current position.\n\n\n  pp.canInsertSemicolon = function () {\n    return this.type === types.eof || this.type === types.braceR || lineBreak.test(this.input.slice(this.lastTokEnd, this.start));\n  };\n\n  pp.insertSemicolon = function () {\n    if (this.canInsertSemicolon()) {\n      if (this.options.onInsertedSemicolon) {\n        this.options.onInsertedSemicolon(this.lastTokEnd, this.lastTokEndLoc);\n      }\n\n      return true;\n    }\n  }; // Consume a semicolon, or, failing that, see if we are allowed to\n  // pretend that there is a semicolon at this position.\n\n\n  pp.semicolon = function () {\n    if (!this.eat(types.semi) && !this.insertSemicolon()) {\n      this.unexpected();\n    }\n  };\n\n  pp.afterTrailingComma = function (tokType, notNext) {\n    if (this.type === tokType) {\n      if (this.options.onTrailingComma) {\n        this.options.onTrailingComma(this.lastTokStart, this.lastTokStartLoc);\n      }\n\n      if (!notNext) {\n        this.next();\n      }\n\n      return true;\n    }\n  }; // Expect a token of a given type. If found, consume it, otherwise,\n  // raise an unexpected token error.\n\n\n  pp.expect = function (type) {\n    this.eat(type) || this.unexpected();\n  }; // Raise an unexpected token error.\n\n\n  pp.unexpected = function (pos) {\n    this.raise(pos != null ? pos : this.start, \"Unexpected token\");\n  };\n\n  function DestructuringErrors() {\n    this.shorthandAssign = this.trailingComma = this.parenthesizedAssign = this.parenthesizedBind = this.doubleProto = -1;\n  }\n\n  pp.checkPatternErrors = function (refDestructuringErrors, isAssign) {\n    if (!refDestructuringErrors) {\n      return;\n    }\n\n    if (refDestructuringErrors.trailingComma > -1) {\n      this.raiseRecoverable(refDestructuringErrors.trailingComma, \"Comma is not permitted after the rest element\");\n    }\n\n    var parens = isAssign ? refDestructuringErrors.parenthesizedAssign : refDestructuringErrors.parenthesizedBind;\n\n    if (parens > -1) {\n      this.raiseRecoverable(parens, \"Parenthesized pattern\");\n    }\n  };\n\n  pp.checkExpressionErrors = function (refDestructuringErrors, andThrow) {\n    if (!refDestructuringErrors) {\n      return false;\n    }\n\n    var shorthandAssign = refDestructuringErrors.shorthandAssign;\n    var doubleProto = refDestructuringErrors.doubleProto;\n\n    if (!andThrow) {\n      return shorthandAssign >= 0 || doubleProto >= 0;\n    }\n\n    if (shorthandAssign >= 0) {\n      this.raise(shorthandAssign, \"Shorthand property assignments are valid only in destructuring patterns\");\n    }\n\n    if (doubleProto >= 0) {\n      this.raiseRecoverable(doubleProto, \"Redefinition of __proto__ property\");\n    }\n  };\n\n  pp.checkYieldAwaitInDefaultParams = function () {\n    if (this.yieldPos && (!this.awaitPos || this.yieldPos < this.awaitPos)) {\n      this.raise(this.yieldPos, \"Yield expression cannot be a default value\");\n    }\n\n    if (this.awaitPos) {\n      this.raise(this.awaitPos, \"Await expression cannot be a default value\");\n    }\n  };\n\n  pp.isSimpleAssignTarget = function (expr) {\n    if (expr.type === \"ParenthesizedExpression\") {\n      return this.isSimpleAssignTarget(expr.expression);\n    }\n\n    return expr.type === \"Identifier\" || expr.type === \"MemberExpression\";\n  };\n\n  var pp$1 = Parser.prototype; // ### Statement parsing\n  // Parse a program. Initializes the parser, reads any number of\n  // statements, and wraps them in a Program node.  Optionally takes a\n  // `program` argument.  If present, the statements will be appended\n  // to its body instead of creating a new node.\n\n  pp$1.parseTopLevel = function (node) {\n    var exports = {};\n\n    if (!node.body) {\n      node.body = [];\n    }\n\n    while (this.type !== types.eof) {\n      var stmt = this.parseStatement(null, true, exports);\n      node.body.push(stmt);\n    }\n\n    if (this.inModule) {\n      for (var i = 0, list = Object.keys(this.undefinedExports); i < list.length; i += 1) {\n        var name = list[i];\n        this.raiseRecoverable(this.undefinedExports[name].start, \"Export '\" + name + \"' is not defined\");\n      }\n    }\n\n    this.adaptDirectivePrologue(node.body);\n    this.next();\n    node.sourceType = this.options.sourceType;\n    return this.finishNode(node, \"Program\");\n  };\n\n  var loopLabel = {\n    kind: \"loop\"\n  },\n      switchLabel = {\n    kind: \"switch\"\n  };\n\n  pp$1.isLet = function (context) {\n    if (this.options.ecmaVersion < 6 || !this.isContextual(\"let\")) {\n      return false;\n    }\n\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length,\n        nextCh = this.input.charCodeAt(next); // For ambiguous cases, determine if a LexicalDeclaration (or only a\n    // Statement) is allowed here. If context is not empty then only a Statement\n    // is allowed. However, `let [` is an explicit negative lookahead for\n    // ExpressionStatement, so special-case it first.\n\n    if (nextCh === 91) {\n      return true;\n    } // '['\n\n\n    if (context) {\n      return false;\n    }\n\n    if (nextCh === 123) {\n      return true;\n    } // '{'\n\n\n    if (isIdentifierStart(nextCh, true)) {\n      var pos = next + 1;\n\n      while (isIdentifierChar(this.input.charCodeAt(pos), true)) {\n        ++pos;\n      }\n\n      var ident = this.input.slice(next, pos);\n\n      if (!keywordRelationalOperator.test(ident)) {\n        return true;\n      }\n    }\n\n    return false;\n  }; // check 'async [no LineTerminator here] function'\n  // - 'async /*foo*/ function' is OK.\n  // - 'async /*\\n*/ function' is invalid.\n\n\n  pp$1.isAsyncFunction = function () {\n    if (this.options.ecmaVersion < 8 || !this.isContextual(\"async\")) {\n      return false;\n    }\n\n    skipWhiteSpace.lastIndex = this.pos;\n    var skip = skipWhiteSpace.exec(this.input);\n    var next = this.pos + skip[0].length;\n    return !lineBreak.test(this.input.slice(this.pos, next)) && this.input.slice(next, next + 8) === \"function\" && (next + 8 === this.input.length || !isIdentifierChar(this.input.charAt(next + 8)));\n  }; // Parse a single statement.\n  //\n  // If expecting a statement and finding a slash operator, parse a\n  // regular expression literal. This is to handle cases like\n  // `if (foo) /blah/.exec(foo)`, where looking at the previous token\n  // does not help.\n\n\n  pp$1.parseStatement = function (context, topLevel, exports) {\n    var starttype = this.type,\n        node = this.startNode(),\n        kind;\n\n    if (this.isLet(context)) {\n      starttype = types._var;\n      kind = \"let\";\n    } // Most types of statements are recognized by the keyword they\n    // start with. Many are trivial to parse, some require a bit of\n    // complexity.\n\n\n    switch (starttype) {\n      case types._break:\n      case types._continue:\n        return this.parseBreakContinueStatement(node, starttype.keyword);\n\n      case types._debugger:\n        return this.parseDebuggerStatement(node);\n\n      case types._do:\n        return this.parseDoStatement(node);\n\n      case types._for:\n        return this.parseForStatement(node);\n\n      case types._function:\n        // Function as sole body of either an if statement or a labeled statement\n        // works, but not when it is part of a labeled statement that is the sole\n        // body of an if statement.\n        if (context && (this.strict || context !== \"if\" && context !== \"label\") && this.options.ecmaVersion >= 6) {\n          this.unexpected();\n        }\n\n        return this.parseFunctionStatement(node, false, !context);\n\n      case types._class:\n        if (context) {\n          this.unexpected();\n        }\n\n        return this.parseClass(node, true);\n\n      case types._if:\n        return this.parseIfStatement(node);\n\n      case types._return:\n        return this.parseReturnStatement(node);\n\n      case types._switch:\n        return this.parseSwitchStatement(node);\n\n      case types._throw:\n        return this.parseThrowStatement(node);\n\n      case types._try:\n        return this.parseTryStatement(node);\n\n      case types._const:\n      case types._var:\n        kind = kind || this.value;\n\n        if (context && kind !== \"var\") {\n          this.unexpected();\n        }\n\n        return this.parseVarStatement(node, kind);\n\n      case types._while:\n        return this.parseWhileStatement(node);\n\n      case types._with:\n        return this.parseWithStatement(node);\n\n      case types.braceL:\n        return this.parseBlock(true, node);\n\n      case types.semi:\n        return this.parseEmptyStatement(node);\n\n      case types._export:\n      case types._import:\n        if (this.options.ecmaVersion > 10 && starttype === types._import) {\n          skipWhiteSpace.lastIndex = this.pos;\n          var skip = skipWhiteSpace.exec(this.input);\n          var next = this.pos + skip[0].length,\n              nextCh = this.input.charCodeAt(next);\n\n          if (nextCh === 40) // '('\n            {\n              return this.parseExpressionStatement(node, this.parseExpression());\n            }\n        }\n\n        if (!this.options.allowImportExportEverywhere) {\n          if (!topLevel) {\n            this.raise(this.start, \"'import' and 'export' may only appear at the top level\");\n          }\n\n          if (!this.inModule) {\n            this.raise(this.start, \"'import' and 'export' may appear only with 'sourceType: module'\");\n          }\n        }\n\n        return starttype === types._import ? this.parseImport(node) : this.parseExport(node, exports);\n      // If the statement does not start with a statement keyword or a\n      // brace, it's an ExpressionStatement or LabeledStatement. We\n      // simply start parsing an expression, and afterwards, if the\n      // next token is a colon and the expression was a simple\n      // Identifier node, we switch to interpreting it as a label.\n\n      default:\n        if (this.isAsyncFunction()) {\n          if (context) {\n            this.unexpected();\n          }\n\n          this.next();\n          return this.parseFunctionStatement(node, true, !context);\n        }\n\n        var maybeName = this.value,\n            expr = this.parseExpression();\n\n        if (starttype === types.name && expr.type === \"Identifier\" && this.eat(types.colon)) {\n          return this.parseLabeledStatement(node, maybeName, expr, context);\n        } else {\n          return this.parseExpressionStatement(node, expr);\n        }\n\n    }\n  };\n\n  pp$1.parseBreakContinueStatement = function (node, keyword) {\n    var isBreak = keyword === \"break\";\n    this.next();\n\n    if (this.eat(types.semi) || this.insertSemicolon()) {\n      node.label = null;\n    } else if (this.type !== types.name) {\n      this.unexpected();\n    } else {\n      node.label = this.parseIdent();\n      this.semicolon();\n    } // Verify that there is an actual destination to break or\n    // continue to.\n\n\n    var i = 0;\n\n    for (; i < this.labels.length; ++i) {\n      var lab = this.labels[i];\n\n      if (node.label == null || lab.name === node.label.name) {\n        if (lab.kind != null && (isBreak || lab.kind === \"loop\")) {\n          break;\n        }\n\n        if (node.label && isBreak) {\n          break;\n        }\n      }\n    }\n\n    if (i === this.labels.length) {\n      this.raise(node.start, \"Unsyntactic \" + keyword);\n    }\n\n    return this.finishNode(node, isBreak ? \"BreakStatement\" : \"ContinueStatement\");\n  };\n\n  pp$1.parseDebuggerStatement = function (node) {\n    this.next();\n    this.semicolon();\n    return this.finishNode(node, \"DebuggerStatement\");\n  };\n\n  pp$1.parseDoStatement = function (node) {\n    this.next();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"do\");\n    this.labels.pop();\n    this.expect(types._while);\n    node.test = this.parseParenExpression();\n\n    if (this.options.ecmaVersion >= 6) {\n      this.eat(types.semi);\n    } else {\n      this.semicolon();\n    }\n\n    return this.finishNode(node, \"DoWhileStatement\");\n  }; // Disambiguating between a `for` and a `for`/`in` or `for`/`of`\n  // loop is non-trivial. Basically, we have to parse the init `var`\n  // statement or expression, disallowing the `in` operator (see\n  // the second parameter to `parseExpression`), and then check\n  // whether the next token is `in` or `of`. When there is no init\n  // part (semicolon immediately after the opening parenthesis), it\n  // is a regular `for` loop.\n\n\n  pp$1.parseForStatement = function (node) {\n    this.next();\n    var awaitAt = this.options.ecmaVersion >= 9 && (this.inAsync || !this.inFunction && this.options.allowAwaitOutsideFunction) && this.eatContextual(\"await\") ? this.lastTokStart : -1;\n    this.labels.push(loopLabel);\n    this.enterScope(0);\n    this.expect(types.parenL);\n\n    if (this.type === types.semi) {\n      if (awaitAt > -1) {\n        this.unexpected(awaitAt);\n      }\n\n      return this.parseFor(node, null);\n    }\n\n    var isLet = this.isLet();\n\n    if (this.type === types._var || this.type === types._const || isLet) {\n      var init$1 = this.startNode(),\n          kind = isLet ? \"let\" : this.value;\n      this.next();\n      this.parseVar(init$1, true, kind);\n      this.finishNode(init$1, \"VariableDeclaration\");\n\n      if ((this.type === types._in || this.options.ecmaVersion >= 6 && this.isContextual(\"of\")) && init$1.declarations.length === 1) {\n        if (this.options.ecmaVersion >= 9) {\n          if (this.type === types._in) {\n            if (awaitAt > -1) {\n              this.unexpected(awaitAt);\n            }\n          } else {\n            node.await = awaitAt > -1;\n          }\n        }\n\n        return this.parseForIn(node, init$1);\n      }\n\n      if (awaitAt > -1) {\n        this.unexpected(awaitAt);\n      }\n\n      return this.parseFor(node, init$1);\n    }\n\n    var refDestructuringErrors = new DestructuringErrors();\n    var init = this.parseExpression(true, refDestructuringErrors);\n\n    if (this.type === types._in || this.options.ecmaVersion >= 6 && this.isContextual(\"of\")) {\n      if (this.options.ecmaVersion >= 9) {\n        if (this.type === types._in) {\n          if (awaitAt > -1) {\n            this.unexpected(awaitAt);\n          }\n        } else {\n          node.await = awaitAt > -1;\n        }\n      }\n\n      this.toAssignable(init, false, refDestructuringErrors);\n      this.checkLVal(init);\n      return this.parseForIn(node, init);\n    } else {\n      this.checkExpressionErrors(refDestructuringErrors, true);\n    }\n\n    if (awaitAt > -1) {\n      this.unexpected(awaitAt);\n    }\n\n    return this.parseFor(node, init);\n  };\n\n  pp$1.parseFunctionStatement = function (node, isAsync, declarationPosition) {\n    this.next();\n    return this.parseFunction(node, FUNC_STATEMENT | (declarationPosition ? 0 : FUNC_HANGING_STATEMENT), false, isAsync);\n  };\n\n  pp$1.parseIfStatement = function (node) {\n    this.next();\n    node.test = this.parseParenExpression(); // allow function declarations in branches, but only in non-strict mode\n\n    node.consequent = this.parseStatement(\"if\");\n    node.alternate = this.eat(types._else) ? this.parseStatement(\"if\") : null;\n    return this.finishNode(node, \"IfStatement\");\n  };\n\n  pp$1.parseReturnStatement = function (node) {\n    if (!this.inFunction && !this.options.allowReturnOutsideFunction) {\n      this.raise(this.start, \"'return' outside of function\");\n    }\n\n    this.next(); // In `return` (and `break`/`continue`), the keywords with\n    // optional arguments, we eagerly look for a semicolon or the\n    // possibility to insert one.\n\n    if (this.eat(types.semi) || this.insertSemicolon()) {\n      node.argument = null;\n    } else {\n      node.argument = this.parseExpression();\n      this.semicolon();\n    }\n\n    return this.finishNode(node, \"ReturnStatement\");\n  };\n\n  pp$1.parseSwitchStatement = function (node) {\n    this.next();\n    node.discriminant = this.parseParenExpression();\n    node.cases = [];\n    this.expect(types.braceL);\n    this.labels.push(switchLabel);\n    this.enterScope(0); // Statements under must be grouped (by label) in SwitchCase\n    // nodes. `cur` is used to keep the node that we are currently\n    // adding statements to.\n\n    var cur;\n\n    for (var sawDefault = false; this.type !== types.braceR;) {\n      if (this.type === types._case || this.type === types._default) {\n        var isCase = this.type === types._case;\n\n        if (cur) {\n          this.finishNode(cur, \"SwitchCase\");\n        }\n\n        node.cases.push(cur = this.startNode());\n        cur.consequent = [];\n        this.next();\n\n        if (isCase) {\n          cur.test = this.parseExpression();\n        } else {\n          if (sawDefault) {\n            this.raiseRecoverable(this.lastTokStart, \"Multiple default clauses\");\n          }\n\n          sawDefault = true;\n          cur.test = null;\n        }\n\n        this.expect(types.colon);\n      } else {\n        if (!cur) {\n          this.unexpected();\n        }\n\n        cur.consequent.push(this.parseStatement(null));\n      }\n    }\n\n    this.exitScope();\n\n    if (cur) {\n      this.finishNode(cur, \"SwitchCase\");\n    }\n\n    this.next(); // Closing brace\n\n    this.labels.pop();\n    return this.finishNode(node, \"SwitchStatement\");\n  };\n\n  pp$1.parseThrowStatement = function (node) {\n    this.next();\n\n    if (lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) {\n      this.raise(this.lastTokEnd, \"Illegal newline after throw\");\n    }\n\n    node.argument = this.parseExpression();\n    this.semicolon();\n    return this.finishNode(node, \"ThrowStatement\");\n  }; // Reused empty array added for node fields that are always empty.\n\n\n  var empty = [];\n\n  pp$1.parseTryStatement = function (node) {\n    this.next();\n    node.block = this.parseBlock();\n    node.handler = null;\n\n    if (this.type === types._catch) {\n      var clause = this.startNode();\n      this.next();\n\n      if (this.eat(types.parenL)) {\n        clause.param = this.parseBindingAtom();\n        var simple = clause.param.type === \"Identifier\";\n        this.enterScope(simple ? SCOPE_SIMPLE_CATCH : 0);\n        this.checkLVal(clause.param, simple ? BIND_SIMPLE_CATCH : BIND_LEXICAL);\n        this.expect(types.parenR);\n      } else {\n        if (this.options.ecmaVersion < 10) {\n          this.unexpected();\n        }\n\n        clause.param = null;\n        this.enterScope(0);\n      }\n\n      clause.body = this.parseBlock(false);\n      this.exitScope();\n      node.handler = this.finishNode(clause, \"CatchClause\");\n    }\n\n    node.finalizer = this.eat(types._finally) ? this.parseBlock() : null;\n\n    if (!node.handler && !node.finalizer) {\n      this.raise(node.start, \"Missing catch or finally clause\");\n    }\n\n    return this.finishNode(node, \"TryStatement\");\n  };\n\n  pp$1.parseVarStatement = function (node, kind) {\n    this.next();\n    this.parseVar(node, false, kind);\n    this.semicolon();\n    return this.finishNode(node, \"VariableDeclaration\");\n  };\n\n  pp$1.parseWhileStatement = function (node) {\n    this.next();\n    node.test = this.parseParenExpression();\n    this.labels.push(loopLabel);\n    node.body = this.parseStatement(\"while\");\n    this.labels.pop();\n    return this.finishNode(node, \"WhileStatement\");\n  };\n\n  pp$1.parseWithStatement = function (node) {\n    if (this.strict) {\n      this.raise(this.start, \"'with' in strict mode\");\n    }\n\n    this.next();\n    node.object = this.parseParenExpression();\n    node.body = this.parseStatement(\"with\");\n    return this.finishNode(node, \"WithStatement\");\n  };\n\n  pp$1.parseEmptyStatement = function (node) {\n    this.next();\n    return this.finishNode(node, \"EmptyStatement\");\n  };\n\n  pp$1.parseLabeledStatement = function (node, maybeName, expr, context) {\n    for (var i$1 = 0, list = this.labels; i$1 < list.length; i$1 += 1) {\n      var label = list[i$1];\n\n      if (label.name === maybeName) {\n        this.raise(expr.start, \"Label '\" + maybeName + \"' is already declared\");\n      }\n    }\n\n    var kind = this.type.isLoop ? \"loop\" : this.type === types._switch ? \"switch\" : null;\n\n    for (var i = this.labels.length - 1; i >= 0; i--) {\n      var label$1 = this.labels[i];\n\n      if (label$1.statementStart === node.start) {\n        // Update information about previous labels on this node\n        label$1.statementStart = this.start;\n        label$1.kind = kind;\n      } else {\n        break;\n      }\n    }\n\n    this.labels.push({\n      name: maybeName,\n      kind: kind,\n      statementStart: this.start\n    });\n    node.body = this.parseStatement(context ? context.indexOf(\"label\") === -1 ? context + \"label\" : context : \"label\");\n    this.labels.pop();\n    node.label = expr;\n    return this.finishNode(node, \"LabeledStatement\");\n  };\n\n  pp$1.parseExpressionStatement = function (node, expr) {\n    node.expression = expr;\n    this.semicolon();\n    return this.finishNode(node, \"ExpressionStatement\");\n  }; // Parse a semicolon-enclosed block of statements, handling `\"use\n  // strict\"` declarations when `allowStrict` is true (used for\n  // function bodies).\n\n\n  pp$1.parseBlock = function (createNewLexicalScope, node) {\n    if (createNewLexicalScope === void 0) createNewLexicalScope = true;\n    if (node === void 0) node = this.startNode();\n    node.body = [];\n    this.expect(types.braceL);\n\n    if (createNewLexicalScope) {\n      this.enterScope(0);\n    }\n\n    while (!this.eat(types.braceR)) {\n      var stmt = this.parseStatement(null);\n      node.body.push(stmt);\n    }\n\n    if (createNewLexicalScope) {\n      this.exitScope();\n    }\n\n    return this.finishNode(node, \"BlockStatement\");\n  }; // Parse a regular `for` loop. The disambiguation code in\n  // `parseStatement` will already have parsed the init statement or\n  // expression.\n\n\n  pp$1.parseFor = function (node, init) {\n    node.init = init;\n    this.expect(types.semi);\n    node.test = this.type === types.semi ? null : this.parseExpression();\n    this.expect(types.semi);\n    node.update = this.type === types.parenR ? null : this.parseExpression();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, \"ForStatement\");\n  }; // Parse a `for`/`in` and `for`/`of` loop, which are almost\n  // same from parser's perspective.\n\n\n  pp$1.parseForIn = function (node, init) {\n    var isForIn = this.type === types._in;\n    this.next();\n\n    if (init.type === \"VariableDeclaration\" && init.declarations[0].init != null && (!isForIn || this.options.ecmaVersion < 8 || this.strict || init.kind !== \"var\" || init.declarations[0].id.type !== \"Identifier\")) {\n      this.raise(init.start, (isForIn ? \"for-in\" : \"for-of\") + \" loop variable declaration may not have an initializer\");\n    } else if (init.type === \"AssignmentPattern\") {\n      this.raise(init.start, \"Invalid left-hand side in for-loop\");\n    }\n\n    node.left = init;\n    node.right = isForIn ? this.parseExpression() : this.parseMaybeAssign();\n    this.expect(types.parenR);\n    node.body = this.parseStatement(\"for\");\n    this.exitScope();\n    this.labels.pop();\n    return this.finishNode(node, isForIn ? \"ForInStatement\" : \"ForOfStatement\");\n  }; // Parse a list of variable declarations.\n\n\n  pp$1.parseVar = function (node, isFor, kind) {\n    node.declarations = [];\n    node.kind = kind;\n\n    for (;;) {\n      var decl = this.startNode();\n      this.parseVarId(decl, kind);\n\n      if (this.eat(types.eq)) {\n        decl.init = this.parseMaybeAssign(isFor);\n      } else if (kind === \"const\" && !(this.type === types._in || this.options.ecmaVersion >= 6 && this.isContextual(\"of\"))) {\n        this.unexpected();\n      } else if (decl.id.type !== \"Identifier\" && !(isFor && (this.type === types._in || this.isContextual(\"of\")))) {\n        this.raise(this.lastTokEnd, \"Complex binding patterns require an initialization value\");\n      } else {\n        decl.init = null;\n      }\n\n      node.declarations.push(this.finishNode(decl, \"VariableDeclarator\"));\n\n      if (!this.eat(types.comma)) {\n        break;\n      }\n    }\n\n    return node;\n  };\n\n  pp$1.parseVarId = function (decl, kind) {\n    decl.id = this.parseBindingAtom();\n    this.checkLVal(decl.id, kind === \"var\" ? BIND_VAR : BIND_LEXICAL, false);\n  };\n\n  var FUNC_STATEMENT = 1,\n      FUNC_HANGING_STATEMENT = 2,\n      FUNC_NULLABLE_ID = 4; // Parse a function declaration or literal (depending on the\n  // `statement & FUNC_STATEMENT`).\n  // Remove `allowExpressionBody` for 7.0.0, as it is only called with false\n\n  pp$1.parseFunction = function (node, statement, allowExpressionBody, isAsync) {\n    this.initFunction(node);\n\n    if (this.options.ecmaVersion >= 9 || this.options.ecmaVersion >= 6 && !isAsync) {\n      if (this.type === types.star && statement & FUNC_HANGING_STATEMENT) {\n        this.unexpected();\n      }\n\n      node.generator = this.eat(types.star);\n    }\n\n    if (this.options.ecmaVersion >= 8) {\n      node.async = !!isAsync;\n    }\n\n    if (statement & FUNC_STATEMENT) {\n      node.id = statement & FUNC_NULLABLE_ID && this.type !== types.name ? null : this.parseIdent();\n\n      if (node.id && !(statement & FUNC_HANGING_STATEMENT)) // If it is a regular function declaration in sloppy mode, then it is\n        // subject to Annex B semantics (BIND_FUNCTION). Otherwise, the binding\n        // mode depends on properties of the current scope (see\n        // treatFunctionsAsVar).\n        {\n          this.checkLVal(node.id, this.strict || node.generator || node.async ? this.treatFunctionsAsVar ? BIND_VAR : BIND_LEXICAL : BIND_FUNCTION);\n        }\n    }\n\n    var oldYieldPos = this.yieldPos,\n        oldAwaitPos = this.awaitPos,\n        oldAwaitIdentPos = this.awaitIdentPos;\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(node.async, node.generator));\n\n    if (!(statement & FUNC_STATEMENT)) {\n      node.id = this.type === types.name ? this.parseIdent() : null;\n    }\n\n    this.parseFunctionParams(node);\n    this.parseFunctionBody(node, allowExpressionBody, false);\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, statement & FUNC_STATEMENT ? \"FunctionDeclaration\" : \"FunctionExpression\");\n  };\n\n  pp$1.parseFunctionParams = function (node) {\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n  }; // Parse a class declaration or literal (depending on the\n  // `isStatement` parameter).\n\n\n  pp$1.parseClass = function (node, isStatement) {\n    this.next(); // ecma-262 14.6 Class Definitions\n    // A class definition is always strict mode code.\n\n    var oldStrict = this.strict;\n    this.strict = true;\n    this.parseClassId(node, isStatement);\n    this.parseClassSuper(node);\n    var classBody = this.startNode();\n    var hadConstructor = false;\n    classBody.body = [];\n    this.expect(types.braceL);\n\n    while (!this.eat(types.braceR)) {\n      var element = this.parseClassElement(node.superClass !== null);\n\n      if (element) {\n        classBody.body.push(element);\n\n        if (element.type === \"MethodDefinition\" && element.kind === \"constructor\") {\n          if (hadConstructor) {\n            this.raise(element.start, \"Duplicate constructor in the same class\");\n          }\n\n          hadConstructor = true;\n        }\n      }\n    }\n\n    node.body = this.finishNode(classBody, \"ClassBody\");\n    this.strict = oldStrict;\n    return this.finishNode(node, isStatement ? \"ClassDeclaration\" : \"ClassExpression\");\n  };\n\n  pp$1.parseClassElement = function (constructorAllowsSuper) {\n    var this$1 = this;\n\n    if (this.eat(types.semi)) {\n      return null;\n    }\n\n    var method = this.startNode();\n\n    var tryContextual = function tryContextual(k, noLineBreak) {\n      if (noLineBreak === void 0) noLineBreak = false;\n      var start = this$1.start,\n          startLoc = this$1.startLoc;\n\n      if (!this$1.eatContextual(k)) {\n        return false;\n      }\n\n      if (this$1.type !== types.parenL && (!noLineBreak || !this$1.canInsertSemicolon())) {\n        return true;\n      }\n\n      if (method.key) {\n        this$1.unexpected();\n      }\n\n      method.computed = false;\n      method.key = this$1.startNodeAt(start, startLoc);\n      method.key.name = k;\n      this$1.finishNode(method.key, \"Identifier\");\n      return false;\n    };\n\n    method.kind = \"method\";\n    method.static = tryContextual(\"static\");\n    var isGenerator = this.eat(types.star);\n    var isAsync = false;\n\n    if (!isGenerator) {\n      if (this.options.ecmaVersion >= 8 && tryContextual(\"async\", true)) {\n        isAsync = true;\n        isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      } else if (tryContextual(\"get\")) {\n        method.kind = \"get\";\n      } else if (tryContextual(\"set\")) {\n        method.kind = \"set\";\n      }\n    }\n\n    if (!method.key) {\n      this.parsePropertyName(method);\n    }\n\n    var key = method.key;\n    var allowsDirectSuper = false;\n\n    if (!method.computed && !method.static && (key.type === \"Identifier\" && key.name === \"constructor\" || key.type === \"Literal\" && key.value === \"constructor\")) {\n      if (method.kind !== \"method\") {\n        this.raise(key.start, \"Constructor can't have get/set modifier\");\n      }\n\n      if (isGenerator) {\n        this.raise(key.start, \"Constructor can't be a generator\");\n      }\n\n      if (isAsync) {\n        this.raise(key.start, \"Constructor can't be an async method\");\n      }\n\n      method.kind = \"constructor\";\n      allowsDirectSuper = constructorAllowsSuper;\n    } else if (method.static && key.type === \"Identifier\" && key.name === \"prototype\") {\n      this.raise(key.start, \"Classes may not have a static property named prototype\");\n    }\n\n    this.parseClassMethod(method, isGenerator, isAsync, allowsDirectSuper);\n\n    if (method.kind === \"get\" && method.value.params.length !== 0) {\n      this.raiseRecoverable(method.value.start, \"getter should have no params\");\n    }\n\n    if (method.kind === \"set\" && method.value.params.length !== 1) {\n      this.raiseRecoverable(method.value.start, \"setter should have exactly one param\");\n    }\n\n    if (method.kind === \"set\" && method.value.params[0].type === \"RestElement\") {\n      this.raiseRecoverable(method.value.params[0].start, \"Setter cannot use rest params\");\n    }\n\n    return method;\n  };\n\n  pp$1.parseClassMethod = function (method, isGenerator, isAsync, allowsDirectSuper) {\n    method.value = this.parseMethod(isGenerator, isAsync, allowsDirectSuper);\n    return this.finishNode(method, \"MethodDefinition\");\n  };\n\n  pp$1.parseClassId = function (node, isStatement) {\n    if (this.type === types.name) {\n      node.id = this.parseIdent();\n\n      if (isStatement) {\n        this.checkLVal(node.id, BIND_LEXICAL, false);\n      }\n    } else {\n      if (isStatement === true) {\n        this.unexpected();\n      }\n\n      node.id = null;\n    }\n  };\n\n  pp$1.parseClassSuper = function (node) {\n    node.superClass = this.eat(types._extends) ? this.parseExprSubscripts() : null;\n  }; // Parses module export declaration.\n\n\n  pp$1.parseExport = function (node, exports) {\n    this.next(); // export * from '...'\n\n    if (this.eat(types.star)) {\n      this.expectContextual(\"from\");\n\n      if (this.type !== types.string) {\n        this.unexpected();\n      }\n\n      node.source = this.parseExprAtom();\n      this.semicolon();\n      return this.finishNode(node, \"ExportAllDeclaration\");\n    }\n\n    if (this.eat(types._default)) {\n      // export default ...\n      this.checkExport(exports, \"default\", this.lastTokStart);\n      var isAsync;\n\n      if (this.type === types._function || (isAsync = this.isAsyncFunction())) {\n        var fNode = this.startNode();\n        this.next();\n\n        if (isAsync) {\n          this.next();\n        }\n\n        node.declaration = this.parseFunction(fNode, FUNC_STATEMENT | FUNC_NULLABLE_ID, false, isAsync);\n      } else if (this.type === types._class) {\n        var cNode = this.startNode();\n        node.declaration = this.parseClass(cNode, \"nullableID\");\n      } else {\n        node.declaration = this.parseMaybeAssign();\n        this.semicolon();\n      }\n\n      return this.finishNode(node, \"ExportDefaultDeclaration\");\n    } // export var|const|let|function|class ...\n\n\n    if (this.shouldParseExportStatement()) {\n      node.declaration = this.parseStatement(null);\n\n      if (node.declaration.type === \"VariableDeclaration\") {\n        this.checkVariableExport(exports, node.declaration.declarations);\n      } else {\n        this.checkExport(exports, node.declaration.id.name, node.declaration.id.start);\n      }\n\n      node.specifiers = [];\n      node.source = null;\n    } else {\n      // export { x, y as z } [from '...']\n      node.declaration = null;\n      node.specifiers = this.parseExportSpecifiers(exports);\n\n      if (this.eatContextual(\"from\")) {\n        if (this.type !== types.string) {\n          this.unexpected();\n        }\n\n        node.source = this.parseExprAtom();\n      } else {\n        for (var i = 0, list = node.specifiers; i < list.length; i += 1) {\n          // check for keywords used as local names\n          var spec = list[i];\n          this.checkUnreserved(spec.local); // check if export is defined\n\n          this.checkLocalExport(spec.local);\n        }\n\n        node.source = null;\n      }\n\n      this.semicolon();\n    }\n\n    return this.finishNode(node, \"ExportNamedDeclaration\");\n  };\n\n  pp$1.checkExport = function (exports, name, pos) {\n    if (!exports) {\n      return;\n    }\n\n    if (has(exports, name)) {\n      this.raiseRecoverable(pos, \"Duplicate export '\" + name + \"'\");\n    }\n\n    exports[name] = true;\n  };\n\n  pp$1.checkPatternExport = function (exports, pat) {\n    var type = pat.type;\n\n    if (type === \"Identifier\") {\n      this.checkExport(exports, pat.name, pat.start);\n    } else if (type === \"ObjectPattern\") {\n      for (var i = 0, list = pat.properties; i < list.length; i += 1) {\n        var prop = list[i];\n        this.checkPatternExport(exports, prop);\n      }\n    } else if (type === \"ArrayPattern\") {\n      for (var i$1 = 0, list$1 = pat.elements; i$1 < list$1.length; i$1 += 1) {\n        var elt = list$1[i$1];\n\n        if (elt) {\n          this.checkPatternExport(exports, elt);\n        }\n      }\n    } else if (type === \"Property\") {\n      this.checkPatternExport(exports, pat.value);\n    } else if (type === \"AssignmentPattern\") {\n      this.checkPatternExport(exports, pat.left);\n    } else if (type === \"RestElement\") {\n      this.checkPatternExport(exports, pat.argument);\n    } else if (type === \"ParenthesizedExpression\") {\n      this.checkPatternExport(exports, pat.expression);\n    }\n  };\n\n  pp$1.checkVariableExport = function (exports, decls) {\n    if (!exports) {\n      return;\n    }\n\n    for (var i = 0, list = decls; i < list.length; i += 1) {\n      var decl = list[i];\n      this.checkPatternExport(exports, decl.id);\n    }\n  };\n\n  pp$1.shouldParseExportStatement = function () {\n    return this.type.keyword === \"var\" || this.type.keyword === \"const\" || this.type.keyword === \"class\" || this.type.keyword === \"function\" || this.isLet() || this.isAsyncFunction();\n  }; // Parses a comma-separated list of module exports.\n\n\n  pp$1.parseExportSpecifiers = function (exports) {\n    var nodes = [],\n        first = true; // export { x, y as z } [from '...']\n\n    this.expect(types.braceL);\n\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n\n        if (this.afterTrailingComma(types.braceR)) {\n          break;\n        }\n      } else {\n        first = false;\n      }\n\n      var node = this.startNode();\n      node.local = this.parseIdent(true);\n      node.exported = this.eatContextual(\"as\") ? this.parseIdent(true) : node.local;\n      this.checkExport(exports, node.exported.name, node.exported.start);\n      nodes.push(this.finishNode(node, \"ExportSpecifier\"));\n    }\n\n    return nodes;\n  }; // Parses import declaration.\n\n\n  pp$1.parseImport = function (node) {\n    this.next(); // import '...'\n\n    if (this.type === types.string) {\n      node.specifiers = empty;\n      node.source = this.parseExprAtom();\n    } else {\n      node.specifiers = this.parseImportSpecifiers();\n      this.expectContextual(\"from\");\n      node.source = this.type === types.string ? this.parseExprAtom() : this.unexpected();\n    }\n\n    this.semicolon();\n    return this.finishNode(node, \"ImportDeclaration\");\n  }; // Parses a comma-separated list of module imports.\n\n\n  pp$1.parseImportSpecifiers = function () {\n    var nodes = [],\n        first = true;\n\n    if (this.type === types.name) {\n      // import defaultObj, { x, y as z } from '...'\n      var node = this.startNode();\n      node.local = this.parseIdent();\n      this.checkLVal(node.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node, \"ImportDefaultSpecifier\"));\n\n      if (!this.eat(types.comma)) {\n        return nodes;\n      }\n    }\n\n    if (this.type === types.star) {\n      var node$1 = this.startNode();\n      this.next();\n      this.expectContextual(\"as\");\n      node$1.local = this.parseIdent();\n      this.checkLVal(node$1.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$1, \"ImportNamespaceSpecifier\"));\n      return nodes;\n    }\n\n    this.expect(types.braceL);\n\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n\n        if (this.afterTrailingComma(types.braceR)) {\n          break;\n        }\n      } else {\n        first = false;\n      }\n\n      var node$2 = this.startNode();\n      node$2.imported = this.parseIdent(true);\n\n      if (this.eatContextual(\"as\")) {\n        node$2.local = this.parseIdent();\n      } else {\n        this.checkUnreserved(node$2.imported);\n        node$2.local = node$2.imported;\n      }\n\n      this.checkLVal(node$2.local, BIND_LEXICAL);\n      nodes.push(this.finishNode(node$2, \"ImportSpecifier\"));\n    }\n\n    return nodes;\n  }; // Set `ExpressionStatement#directive` property for directive prologues.\n\n\n  pp$1.adaptDirectivePrologue = function (statements) {\n    for (var i = 0; i < statements.length && this.isDirectiveCandidate(statements[i]); ++i) {\n      statements[i].directive = statements[i].expression.raw.slice(1, -1);\n    }\n  };\n\n  pp$1.isDirectiveCandidate = function (statement) {\n    return statement.type === \"ExpressionStatement\" && statement.expression.type === \"Literal\" && typeof statement.expression.value === \"string\" && ( // Reject parenthesized strings.\n    this.input[statement.start] === \"\\\"\" || this.input[statement.start] === \"'\");\n  };\n\n  var pp$2 = Parser.prototype; // Convert existing expression atom to assignable pattern\n  // if possible.\n\n  pp$2.toAssignable = function (node, isBinding, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 6 && node) {\n      switch (node.type) {\n        case \"Identifier\":\n          if (this.inAsync && node.name === \"await\") {\n            this.raise(node.start, \"Cannot use 'await' as identifier inside an async function\");\n          }\n\n          break;\n\n        case \"ObjectPattern\":\n        case \"ArrayPattern\":\n        case \"RestElement\":\n          break;\n\n        case \"ObjectExpression\":\n          node.type = \"ObjectPattern\";\n\n          if (refDestructuringErrors) {\n            this.checkPatternErrors(refDestructuringErrors, true);\n          }\n\n          for (var i = 0, list = node.properties; i < list.length; i += 1) {\n            var prop = list[i];\n            this.toAssignable(prop, isBinding); // Early error:\n            //   AssignmentRestProperty[Yield, Await] :\n            //     `...` DestructuringAssignmentTarget[Yield, Await]\n            //\n            //   It is a Syntax Error if |DestructuringAssignmentTarget| is an |ArrayLiteral| or an |ObjectLiteral|.\n\n            if (prop.type === \"RestElement\" && (prop.argument.type === \"ArrayPattern\" || prop.argument.type === \"ObjectPattern\")) {\n              this.raise(prop.argument.start, \"Unexpected token\");\n            }\n          }\n\n          break;\n\n        case \"Property\":\n          // AssignmentProperty has type === \"Property\"\n          if (node.kind !== \"init\") {\n            this.raise(node.key.start, \"Object pattern can't contain getter or setter\");\n          }\n\n          this.toAssignable(node.value, isBinding);\n          break;\n\n        case \"ArrayExpression\":\n          node.type = \"ArrayPattern\";\n\n          if (refDestructuringErrors) {\n            this.checkPatternErrors(refDestructuringErrors, true);\n          }\n\n          this.toAssignableList(node.elements, isBinding);\n          break;\n\n        case \"SpreadElement\":\n          node.type = \"RestElement\";\n          this.toAssignable(node.argument, isBinding);\n\n          if (node.argument.type === \"AssignmentPattern\") {\n            this.raise(node.argument.start, \"Rest elements cannot have a default value\");\n          }\n\n          break;\n\n        case \"AssignmentExpression\":\n          if (node.operator !== \"=\") {\n            this.raise(node.left.end, \"Only '=' operator can be used for specifying default value.\");\n          }\n\n          node.type = \"AssignmentPattern\";\n          delete node.operator;\n          this.toAssignable(node.left, isBinding);\n        // falls through to AssignmentPattern\n\n        case \"AssignmentPattern\":\n          break;\n\n        case \"ParenthesizedExpression\":\n          this.toAssignable(node.expression, isBinding, refDestructuringErrors);\n          break;\n\n        case \"MemberExpression\":\n          if (!isBinding) {\n            break;\n          }\n\n        default:\n          this.raise(node.start, \"Assigning to rvalue\");\n      }\n    } else if (refDestructuringErrors) {\n      this.checkPatternErrors(refDestructuringErrors, true);\n    }\n\n    return node;\n  }; // Convert list of expression atoms to binding list.\n\n\n  pp$2.toAssignableList = function (exprList, isBinding) {\n    var end = exprList.length;\n\n    for (var i = 0; i < end; i++) {\n      var elt = exprList[i];\n\n      if (elt) {\n        this.toAssignable(elt, isBinding);\n      }\n    }\n\n    if (end) {\n      var last = exprList[end - 1];\n\n      if (this.options.ecmaVersion === 6 && isBinding && last && last.type === \"RestElement\" && last.argument.type !== \"Identifier\") {\n        this.unexpected(last.argument.start);\n      }\n    }\n\n    return exprList;\n  }; // Parses spread element.\n\n\n  pp$2.parseSpread = function (refDestructuringErrors) {\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeAssign(false, refDestructuringErrors);\n    return this.finishNode(node, \"SpreadElement\");\n  };\n\n  pp$2.parseRestBinding = function () {\n    var node = this.startNode();\n    this.next(); // RestElement inside of a function parameter must be an identifier\n\n    if (this.options.ecmaVersion === 6 && this.type !== types.name) {\n      this.unexpected();\n    }\n\n    node.argument = this.parseBindingAtom();\n    return this.finishNode(node, \"RestElement\");\n  }; // Parses lvalue (assignable) atom.\n\n\n  pp$2.parseBindingAtom = function () {\n    if (this.options.ecmaVersion >= 6) {\n      switch (this.type) {\n        case types.bracketL:\n          var node = this.startNode();\n          this.next();\n          node.elements = this.parseBindingList(types.bracketR, true, true);\n          return this.finishNode(node, \"ArrayPattern\");\n\n        case types.braceL:\n          return this.parseObj(true);\n      }\n    }\n\n    return this.parseIdent();\n  };\n\n  pp$2.parseBindingList = function (close, allowEmpty, allowTrailingComma) {\n    var elts = [],\n        first = true;\n\n    while (!this.eat(close)) {\n      if (first) {\n        first = false;\n      } else {\n        this.expect(types.comma);\n      }\n\n      if (allowEmpty && this.type === types.comma) {\n        elts.push(null);\n      } else if (allowTrailingComma && this.afterTrailingComma(close)) {\n        break;\n      } else if (this.type === types.ellipsis) {\n        var rest = this.parseRestBinding();\n        this.parseBindingListItem(rest);\n        elts.push(rest);\n\n        if (this.type === types.comma) {\n          this.raise(this.start, \"Comma is not permitted after the rest element\");\n        }\n\n        this.expect(close);\n        break;\n      } else {\n        var elem = this.parseMaybeDefault(this.start, this.startLoc);\n        this.parseBindingListItem(elem);\n        elts.push(elem);\n      }\n    }\n\n    return elts;\n  };\n\n  pp$2.parseBindingListItem = function (param) {\n    return param;\n  }; // Parses assignment pattern around given atom if possible.\n\n\n  pp$2.parseMaybeDefault = function (startPos, startLoc, left) {\n    left = left || this.parseBindingAtom();\n\n    if (this.options.ecmaVersion < 6 || !this.eat(types.eq)) {\n      return left;\n    }\n\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.right = this.parseMaybeAssign();\n    return this.finishNode(node, \"AssignmentPattern\");\n  }; // Verify that a node is an lval  something that can be assigned\n  // to.\n  // bindingType can be either:\n  // 'var' indicating that the lval creates a 'var' binding\n  // 'let' indicating that the lval creates a lexical ('let' or 'const') binding\n  // 'none' indicating that the binding should be checked for illegal identifiers, but not for duplicate references\n\n\n  pp$2.checkLVal = function (expr, bindingType, checkClashes) {\n    if (bindingType === void 0) bindingType = BIND_NONE;\n\n    switch (expr.type) {\n      case \"Identifier\":\n        if (bindingType === BIND_LEXICAL && expr.name === \"let\") {\n          this.raiseRecoverable(expr.start, \"let is disallowed as a lexically bound name\");\n        }\n\n        if (this.strict && this.reservedWordsStrictBind.test(expr.name)) {\n          this.raiseRecoverable(expr.start, (bindingType ? \"Binding \" : \"Assigning to \") + expr.name + \" in strict mode\");\n        }\n\n        if (checkClashes) {\n          if (has(checkClashes, expr.name)) {\n            this.raiseRecoverable(expr.start, \"Argument name clash\");\n          }\n\n          checkClashes[expr.name] = true;\n        }\n\n        if (bindingType !== BIND_NONE && bindingType !== BIND_OUTSIDE) {\n          this.declareName(expr.name, bindingType, expr.start);\n        }\n\n        break;\n\n      case \"MemberExpression\":\n        if (bindingType) {\n          this.raiseRecoverable(expr.start, \"Binding member expression\");\n        }\n\n        break;\n\n      case \"ObjectPattern\":\n        for (var i = 0, list = expr.properties; i < list.length; i += 1) {\n          var prop = list[i];\n          this.checkLVal(prop, bindingType, checkClashes);\n        }\n\n        break;\n\n      case \"Property\":\n        // AssignmentProperty has type === \"Property\"\n        this.checkLVal(expr.value, bindingType, checkClashes);\n        break;\n\n      case \"ArrayPattern\":\n        for (var i$1 = 0, list$1 = expr.elements; i$1 < list$1.length; i$1 += 1) {\n          var elem = list$1[i$1];\n\n          if (elem) {\n            this.checkLVal(elem, bindingType, checkClashes);\n          }\n        }\n\n        break;\n\n      case \"AssignmentPattern\":\n        this.checkLVal(expr.left, bindingType, checkClashes);\n        break;\n\n      case \"RestElement\":\n        this.checkLVal(expr.argument, bindingType, checkClashes);\n        break;\n\n      case \"ParenthesizedExpression\":\n        this.checkLVal(expr.expression, bindingType, checkClashes);\n        break;\n\n      default:\n        this.raise(expr.start, (bindingType ? \"Binding\" : \"Assigning to\") + \" rvalue\");\n    }\n  }; // A recursive descent parser operates by defining functions for all\n\n\n  var pp$3 = Parser.prototype; // Check if property name clashes with already added.\n  // Object/class getters and setters are not allowed to clash \n  // either with each other or with an init property  and in\n  // strict mode, init properties are also not allowed to be repeated.\n\n  pp$3.checkPropClash = function (prop, propHash, refDestructuringErrors) {\n    if (this.options.ecmaVersion >= 9 && prop.type === \"SpreadElement\") {\n      return;\n    }\n\n    if (this.options.ecmaVersion >= 6 && (prop.computed || prop.method || prop.shorthand)) {\n      return;\n    }\n\n    var key = prop.key;\n    var name;\n\n    switch (key.type) {\n      case \"Identifier\":\n        name = key.name;\n        break;\n\n      case \"Literal\":\n        name = String(key.value);\n        break;\n\n      default:\n        return;\n    }\n\n    var kind = prop.kind;\n\n    if (this.options.ecmaVersion >= 6) {\n      if (name === \"__proto__\" && kind === \"init\") {\n        if (propHash.proto) {\n          if (refDestructuringErrors && refDestructuringErrors.doubleProto < 0) {\n            refDestructuringErrors.doubleProto = key.start;\n          } // Backwards-compat kludge. Can be removed in version 6.0\n          else {\n              this.raiseRecoverable(key.start, \"Redefinition of __proto__ property\");\n            }\n        }\n\n        propHash.proto = true;\n      }\n\n      return;\n    }\n\n    name = \"$\" + name;\n    var other = propHash[name];\n\n    if (other) {\n      var redefinition;\n\n      if (kind === \"init\") {\n        redefinition = this.strict && other.init || other.get || other.set;\n      } else {\n        redefinition = other.init || other[kind];\n      }\n\n      if (redefinition) {\n        this.raiseRecoverable(key.start, \"Redefinition of property\");\n      }\n    } else {\n      other = propHash[name] = {\n        init: false,\n        get: false,\n        set: false\n      };\n    }\n\n    other[kind] = true;\n  }; // ### Expression parsing\n  // These nest, from the most general expression type at the top to\n  // 'atomic', nondivisible expression types at the bottom. Most of\n  // the functions will simply let the function(s) below them parse,\n  // and, *if* the syntactic construct they handle is present, wrap\n  // the AST node that the inner parser gave them in another node.\n  // Parse a full expression. The optional arguments are used to\n  // forbid the `in` operator (in for loops initalization expressions)\n  // and provide reference for storing '=' operator inside shorthand\n  // property assignment in contexts where both object expression\n  // and object pattern might appear (so it's possible to raise\n  // delayed syntax error at correct position).\n\n\n  pp$3.parseExpression = function (noIn, refDestructuringErrors) {\n    var startPos = this.start,\n        startLoc = this.startLoc;\n    var expr = this.parseMaybeAssign(noIn, refDestructuringErrors);\n\n    if (this.type === types.comma) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.expressions = [expr];\n\n      while (this.eat(types.comma)) {\n        node.expressions.push(this.parseMaybeAssign(noIn, refDestructuringErrors));\n      }\n\n      return this.finishNode(node, \"SequenceExpression\");\n    }\n\n    return expr;\n  }; // Parse an assignment expression. This includes applications of\n  // operators like `+=`.\n\n\n  pp$3.parseMaybeAssign = function (noIn, refDestructuringErrors, afterLeftParse) {\n    if (this.isContextual(\"yield\")) {\n      if (this.inGenerator) {\n        return this.parseYield(noIn);\n      } // The tokenizer will assume an expression is allowed after\n      // `yield`, but this isn't that kind of yield\n      else {\n          this.exprAllowed = false;\n        }\n    }\n\n    var ownDestructuringErrors = false,\n        oldParenAssign = -1,\n        oldTrailingComma = -1,\n        oldShorthandAssign = -1;\n\n    if (refDestructuringErrors) {\n      oldParenAssign = refDestructuringErrors.parenthesizedAssign;\n      oldTrailingComma = refDestructuringErrors.trailingComma;\n      oldShorthandAssign = refDestructuringErrors.shorthandAssign;\n      refDestructuringErrors.parenthesizedAssign = refDestructuringErrors.trailingComma = refDestructuringErrors.shorthandAssign = -1;\n    } else {\n      refDestructuringErrors = new DestructuringErrors();\n      ownDestructuringErrors = true;\n    }\n\n    var startPos = this.start,\n        startLoc = this.startLoc;\n\n    if (this.type === types.parenL || this.type === types.name) {\n      this.potentialArrowAt = this.start;\n    }\n\n    var left = this.parseMaybeConditional(noIn, refDestructuringErrors);\n\n    if (afterLeftParse) {\n      left = afterLeftParse.call(this, left, startPos, startLoc);\n    }\n\n    if (this.type.isAssign) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.operator = this.value;\n      node.left = this.type === types.eq ? this.toAssignable(left, false, refDestructuringErrors) : left;\n\n      if (!ownDestructuringErrors) {\n        DestructuringErrors.call(refDestructuringErrors);\n      }\n\n      refDestructuringErrors.shorthandAssign = -1; // reset because shorthand default was used correctly\n\n      this.checkLVal(left);\n      this.next();\n      node.right = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"AssignmentExpression\");\n    } else {\n      if (ownDestructuringErrors) {\n        this.checkExpressionErrors(refDestructuringErrors, true);\n      }\n    }\n\n    if (oldParenAssign > -1) {\n      refDestructuringErrors.parenthesizedAssign = oldParenAssign;\n    }\n\n    if (oldTrailingComma > -1) {\n      refDestructuringErrors.trailingComma = oldTrailingComma;\n    }\n\n    if (oldShorthandAssign > -1) {\n      refDestructuringErrors.shorthandAssign = oldShorthandAssign;\n    }\n\n    return left;\n  }; // Parse a ternary conditional (`?:`) operator.\n\n\n  pp$3.parseMaybeConditional = function (noIn, refDestructuringErrors) {\n    var startPos = this.start,\n        startLoc = this.startLoc;\n    var expr = this.parseExprOps(noIn, refDestructuringErrors);\n\n    if (this.checkExpressionErrors(refDestructuringErrors)) {\n      return expr;\n    }\n\n    if (this.eat(types.question)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.test = expr;\n      node.consequent = this.parseMaybeAssign();\n      this.expect(types.colon);\n      node.alternate = this.parseMaybeAssign(noIn);\n      return this.finishNode(node, \"ConditionalExpression\");\n    }\n\n    return expr;\n  }; // Start the precedence parser.\n\n\n  pp$3.parseExprOps = function (noIn, refDestructuringErrors) {\n    var startPos = this.start,\n        startLoc = this.startLoc;\n    var expr = this.parseMaybeUnary(refDestructuringErrors, false);\n\n    if (this.checkExpressionErrors(refDestructuringErrors)) {\n      return expr;\n    }\n\n    return expr.start === startPos && expr.type === \"ArrowFunctionExpression\" ? expr : this.parseExprOp(expr, startPos, startLoc, -1, noIn);\n  }; // Parse binary operators with the operator precedence parsing\n  // algorithm. `left` is the left-hand side of the operator.\n  // `minPrec` provides context that allows the function to stop and\n  // defer further parser to one of its callers when it encounters an\n  // operator that has a lower precedence than the set it is parsing.\n\n\n  pp$3.parseExprOp = function (left, leftStartPos, leftStartLoc, minPrec, noIn) {\n    var prec = this.type.binop;\n\n    if (prec != null && (!noIn || this.type !== types._in)) {\n      if (prec > minPrec) {\n        var logical = this.type === types.logicalOR || this.type === types.logicalAND;\n        var op = this.value;\n        this.next();\n        var startPos = this.start,\n            startLoc = this.startLoc;\n        var right = this.parseExprOp(this.parseMaybeUnary(null, false), startPos, startLoc, prec, noIn);\n        var node = this.buildBinary(leftStartPos, leftStartLoc, left, right, op, logical);\n        return this.parseExprOp(node, leftStartPos, leftStartLoc, minPrec, noIn);\n      }\n    }\n\n    return left;\n  };\n\n  pp$3.buildBinary = function (startPos, startLoc, left, right, op, logical) {\n    var node = this.startNodeAt(startPos, startLoc);\n    node.left = left;\n    node.operator = op;\n    node.right = right;\n    return this.finishNode(node, logical ? \"LogicalExpression\" : \"BinaryExpression\");\n  }; // Parse unary operators, both prefix and postfix.\n\n\n  pp$3.parseMaybeUnary = function (refDestructuringErrors, sawUnary) {\n    var startPos = this.start,\n        startLoc = this.startLoc,\n        expr;\n\n    if (this.isContextual(\"await\") && (this.inAsync || !this.inFunction && this.options.allowAwaitOutsideFunction)) {\n      expr = this.parseAwait();\n      sawUnary = true;\n    } else if (this.type.prefix) {\n      var node = this.startNode(),\n          update = this.type === types.incDec;\n      node.operator = this.value;\n      node.prefix = true;\n      this.next();\n      node.argument = this.parseMaybeUnary(null, true);\n      this.checkExpressionErrors(refDestructuringErrors, true);\n\n      if (update) {\n        this.checkLVal(node.argument);\n      } else if (this.strict && node.operator === \"delete\" && node.argument.type === \"Identifier\") {\n        this.raiseRecoverable(node.start, \"Deleting local variable in strict mode\");\n      } else {\n        sawUnary = true;\n      }\n\n      expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\");\n    } else {\n      expr = this.parseExprSubscripts(refDestructuringErrors);\n\n      if (this.checkExpressionErrors(refDestructuringErrors)) {\n        return expr;\n      }\n\n      while (this.type.postfix && !this.canInsertSemicolon()) {\n        var node$1 = this.startNodeAt(startPos, startLoc);\n        node$1.operator = this.value;\n        node$1.prefix = false;\n        node$1.argument = expr;\n        this.checkLVal(expr);\n        this.next();\n        expr = this.finishNode(node$1, \"UpdateExpression\");\n      }\n    }\n\n    if (!sawUnary && this.eat(types.starstar)) {\n      return this.buildBinary(startPos, startLoc, expr, this.parseMaybeUnary(null, false), \"**\", false);\n    } else {\n      return expr;\n    }\n  }; // Parse call, dot, and `[]`-subscript expressions.\n\n\n  pp$3.parseExprSubscripts = function (refDestructuringErrors) {\n    var startPos = this.start,\n        startLoc = this.startLoc;\n    var expr = this.parseExprAtom(refDestructuringErrors);\n    var skipArrowSubscripts = expr.type === \"ArrowFunctionExpression\" && this.input.slice(this.lastTokStart, this.lastTokEnd) !== \")\";\n\n    if (this.checkExpressionErrors(refDestructuringErrors) || skipArrowSubscripts) {\n      return expr;\n    }\n\n    var result = this.parseSubscripts(expr, startPos, startLoc);\n\n    if (refDestructuringErrors && result.type === \"MemberExpression\") {\n      if (refDestructuringErrors.parenthesizedAssign >= result.start) {\n        refDestructuringErrors.parenthesizedAssign = -1;\n      }\n\n      if (refDestructuringErrors.parenthesizedBind >= result.start) {\n        refDestructuringErrors.parenthesizedBind = -1;\n      }\n    }\n\n    return result;\n  };\n\n  pp$3.parseSubscripts = function (base, startPos, startLoc, noCalls) {\n    var maybeAsyncArrow = this.options.ecmaVersion >= 8 && base.type === \"Identifier\" && base.name === \"async\" && this.lastTokEnd === base.end && !this.canInsertSemicolon() && this.input.slice(base.start, base.end) === \"async\";\n\n    while (true) {\n      var element = this.parseSubscript(base, startPos, startLoc, noCalls, maybeAsyncArrow);\n\n      if (element === base || element.type === \"ArrowFunctionExpression\") {\n        return element;\n      }\n\n      base = element;\n    }\n  };\n\n  pp$3.parseSubscript = function (base, startPos, startLoc, noCalls, maybeAsyncArrow) {\n    var computed = this.eat(types.bracketL);\n\n    if (computed || this.eat(types.dot)) {\n      var node = this.startNodeAt(startPos, startLoc);\n      node.object = base;\n      node.property = computed ? this.parseExpression() : this.parseIdent(this.options.allowReserved !== \"never\");\n      node.computed = !!computed;\n\n      if (computed) {\n        this.expect(types.bracketR);\n      }\n\n      base = this.finishNode(node, \"MemberExpression\");\n    } else if (!noCalls && this.eat(types.parenL)) {\n      var refDestructuringErrors = new DestructuringErrors(),\n          oldYieldPos = this.yieldPos,\n          oldAwaitPos = this.awaitPos,\n          oldAwaitIdentPos = this.awaitIdentPos;\n      this.yieldPos = 0;\n      this.awaitPos = 0;\n      this.awaitIdentPos = 0;\n      var exprList = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false, refDestructuringErrors);\n\n      if (maybeAsyncArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n\n        if (this.awaitIdentPos > 0) {\n          this.raise(this.awaitIdentPos, \"Cannot use 'await' as identifier inside an async function\");\n        }\n\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        this.awaitIdentPos = oldAwaitIdentPos;\n        return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList, true);\n      }\n\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n      this.awaitIdentPos = oldAwaitIdentPos || this.awaitIdentPos;\n      var node$1 = this.startNodeAt(startPos, startLoc);\n      node$1.callee = base;\n      node$1.arguments = exprList;\n      base = this.finishNode(node$1, \"CallExpression\");\n    } else if (this.type === types.backQuote) {\n      var node$2 = this.startNodeAt(startPos, startLoc);\n      node$2.tag = base;\n      node$2.quasi = this.parseTemplate({\n        isTagged: true\n      });\n      base = this.finishNode(node$2, \"TaggedTemplateExpression\");\n    }\n\n    return base;\n  }; // Parse an atomic expression  either a single token that is an\n  // expression, an expression started by a keyword like `function` or\n  // `new`, or an expression wrapped in punctuation like `()`, `[]`,\n  // or `{}`.\n\n\n  pp$3.parseExprAtom = function (refDestructuringErrors) {\n    // If a division operator appears in an expression position, the\n    // tokenizer got confused, and we force it to read a regexp instead.\n    if (this.type === types.slash) {\n      this.readRegexp();\n    }\n\n    var node,\n        canBeArrow = this.potentialArrowAt === this.start;\n\n    switch (this.type) {\n      case types._super:\n        if (!this.allowSuper) {\n          this.raise(this.start, \"'super' keyword outside a method\");\n        }\n\n        node = this.startNode();\n        this.next();\n\n        if (this.type === types.parenL && !this.allowDirectSuper) {\n          this.raise(node.start, \"super() call outside constructor of a subclass\");\n        } // The `super` keyword can appear at below:\n        // SuperProperty:\n        //     super [ Expression ]\n        //     super . IdentifierName\n        // SuperCall:\n        //     super Arguments\n\n\n        if (this.type !== types.dot && this.type !== types.bracketL && this.type !== types.parenL) {\n          this.unexpected();\n        }\n\n        return this.finishNode(node, \"Super\");\n\n      case types._this:\n        node = this.startNode();\n        this.next();\n        return this.finishNode(node, \"ThisExpression\");\n\n      case types.name:\n        var startPos = this.start,\n            startLoc = this.startLoc,\n            containsEsc = this.containsEsc;\n        var id = this.parseIdent(false);\n\n        if (this.options.ecmaVersion >= 8 && !containsEsc && id.name === \"async\" && !this.canInsertSemicolon() && this.eat(types._function)) {\n          return this.parseFunction(this.startNodeAt(startPos, startLoc), 0, false, true);\n        }\n\n        if (canBeArrow && !this.canInsertSemicolon()) {\n          if (this.eat(types.arrow)) {\n            return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], false);\n          }\n\n          if (this.options.ecmaVersion >= 8 && id.name === \"async\" && this.type === types.name && !containsEsc) {\n            id = this.parseIdent(false);\n\n            if (this.canInsertSemicolon() || !this.eat(types.arrow)) {\n              this.unexpected();\n            }\n\n            return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), [id], true);\n          }\n        }\n\n        return id;\n\n      case types.regexp:\n        var value = this.value;\n        node = this.parseLiteral(value.value);\n        node.regex = {\n          pattern: value.pattern,\n          flags: value.flags\n        };\n        return node;\n\n      case types.num:\n      case types.string:\n        return this.parseLiteral(this.value);\n\n      case types._null:\n      case types._true:\n      case types._false:\n        node = this.startNode();\n        node.value = this.type === types._null ? null : this.type === types._true;\n        node.raw = this.type.keyword;\n        this.next();\n        return this.finishNode(node, \"Literal\");\n\n      case types.parenL:\n        var start = this.start,\n            expr = this.parseParenAndDistinguishExpression(canBeArrow);\n\n        if (refDestructuringErrors) {\n          if (refDestructuringErrors.parenthesizedAssign < 0 && !this.isSimpleAssignTarget(expr)) {\n            refDestructuringErrors.parenthesizedAssign = start;\n          }\n\n          if (refDestructuringErrors.parenthesizedBind < 0) {\n            refDestructuringErrors.parenthesizedBind = start;\n          }\n        }\n\n        return expr;\n\n      case types.bracketL:\n        node = this.startNode();\n        this.next();\n        node.elements = this.parseExprList(types.bracketR, true, true, refDestructuringErrors);\n        return this.finishNode(node, \"ArrayExpression\");\n\n      case types.braceL:\n        return this.parseObj(false, refDestructuringErrors);\n\n      case types._function:\n        node = this.startNode();\n        this.next();\n        return this.parseFunction(node, 0);\n\n      case types._class:\n        return this.parseClass(this.startNode(), false);\n\n      case types._new:\n        return this.parseNew();\n\n      case types.backQuote:\n        return this.parseTemplate();\n\n      case types._import:\n        if (this.options.ecmaVersion >= 11) {\n          return this.parseExprImport();\n        } else {\n          return this.unexpected();\n        }\n\n      default:\n        this.unexpected();\n    }\n  };\n\n  pp$3.parseExprImport = function () {\n    var node = this.startNode();\n    this.next(); // skip `import`\n\n    switch (this.type) {\n      case types.parenL:\n        return this.parseDynamicImport(node);\n\n      default:\n        this.unexpected();\n    }\n  };\n\n  pp$3.parseDynamicImport = function (node) {\n    this.next(); // skip `(`\n    // Parse node.source.\n\n    node.source = this.parseMaybeAssign(); // Verify ending.\n\n    if (!this.eat(types.parenR)) {\n      var errorPos = this.start;\n\n      if (this.eat(types.comma) && this.eat(types.parenR)) {\n        this.raiseRecoverable(errorPos, \"Trailing comma is not allowed in import()\");\n      } else {\n        this.unexpected(errorPos);\n      }\n    }\n\n    return this.finishNode(node, \"ImportExpression\");\n  };\n\n  pp$3.parseLiteral = function (value) {\n    var node = this.startNode();\n    node.value = value;\n    node.raw = this.input.slice(this.start, this.end);\n\n    if (node.raw.charCodeAt(node.raw.length - 1) === 110) {\n      node.bigint = node.raw.slice(0, -1);\n    }\n\n    this.next();\n    return this.finishNode(node, \"Literal\");\n  };\n\n  pp$3.parseParenExpression = function () {\n    this.expect(types.parenL);\n    var val = this.parseExpression();\n    this.expect(types.parenR);\n    return val;\n  };\n\n  pp$3.parseParenAndDistinguishExpression = function (canBeArrow) {\n    var startPos = this.start,\n        startLoc = this.startLoc,\n        val,\n        allowTrailingComma = this.options.ecmaVersion >= 8;\n\n    if (this.options.ecmaVersion >= 6) {\n      this.next();\n      var innerStartPos = this.start,\n          innerStartLoc = this.startLoc;\n      var exprList = [],\n          first = true,\n          lastIsComma = false;\n      var refDestructuringErrors = new DestructuringErrors(),\n          oldYieldPos = this.yieldPos,\n          oldAwaitPos = this.awaitPos,\n          spreadStart;\n      this.yieldPos = 0;\n      this.awaitPos = 0; // Do not save awaitIdentPos to allow checking awaits nested in parameters\n\n      while (this.type !== types.parenR) {\n        first ? first = false : this.expect(types.comma);\n\n        if (allowTrailingComma && this.afterTrailingComma(types.parenR, true)) {\n          lastIsComma = true;\n          break;\n        } else if (this.type === types.ellipsis) {\n          spreadStart = this.start;\n          exprList.push(this.parseParenItem(this.parseRestBinding()));\n\n          if (this.type === types.comma) {\n            this.raise(this.start, \"Comma is not permitted after the rest element\");\n          }\n\n          break;\n        } else {\n          exprList.push(this.parseMaybeAssign(false, refDestructuringErrors, this.parseParenItem));\n        }\n      }\n\n      var innerEndPos = this.start,\n          innerEndLoc = this.startLoc;\n      this.expect(types.parenR);\n\n      if (canBeArrow && !this.canInsertSemicolon() && this.eat(types.arrow)) {\n        this.checkPatternErrors(refDestructuringErrors, false);\n        this.checkYieldAwaitInDefaultParams();\n        this.yieldPos = oldYieldPos;\n        this.awaitPos = oldAwaitPos;\n        return this.parseParenArrowList(startPos, startLoc, exprList);\n      }\n\n      if (!exprList.length || lastIsComma) {\n        this.unexpected(this.lastTokStart);\n      }\n\n      if (spreadStart) {\n        this.unexpected(spreadStart);\n      }\n\n      this.checkExpressionErrors(refDestructuringErrors, true);\n      this.yieldPos = oldYieldPos || this.yieldPos;\n      this.awaitPos = oldAwaitPos || this.awaitPos;\n\n      if (exprList.length > 1) {\n        val = this.startNodeAt(innerStartPos, innerStartLoc);\n        val.expressions = exprList;\n        this.finishNodeAt(val, \"SequenceExpression\", innerEndPos, innerEndLoc);\n      } else {\n        val = exprList[0];\n      }\n    } else {\n      val = this.parseParenExpression();\n    }\n\n    if (this.options.preserveParens) {\n      var par = this.startNodeAt(startPos, startLoc);\n      par.expression = val;\n      return this.finishNode(par, \"ParenthesizedExpression\");\n    } else {\n      return val;\n    }\n  };\n\n  pp$3.parseParenItem = function (item) {\n    return item;\n  };\n\n  pp$3.parseParenArrowList = function (startPos, startLoc, exprList) {\n    return this.parseArrowExpression(this.startNodeAt(startPos, startLoc), exprList);\n  }; // New's precedence is slightly tricky. It must allow its argument to\n  // be a `[]` or dot subscript expression, but not a call  at least,\n  // not without wrapping it in parentheses. Thus, it uses the noCalls\n  // argument to parseSubscripts to prevent it from consuming the\n  // argument list.\n\n\n  var empty$1 = [];\n\n  pp$3.parseNew = function () {\n    var node = this.startNode();\n    var meta = this.parseIdent(true);\n\n    if (this.options.ecmaVersion >= 6 && this.eat(types.dot)) {\n      node.meta = meta;\n      var containsEsc = this.containsEsc;\n      node.property = this.parseIdent(true);\n\n      if (node.property.name !== \"target\" || containsEsc) {\n        this.raiseRecoverable(node.property.start, \"The only valid meta property for new is new.target\");\n      }\n\n      if (!this.inNonArrowFunction()) {\n        this.raiseRecoverable(node.start, \"new.target can only be used in functions\");\n      }\n\n      return this.finishNode(node, \"MetaProperty\");\n    }\n\n    var startPos = this.start,\n        startLoc = this.startLoc,\n        isImport = this.type === types._import;\n    node.callee = this.parseSubscripts(this.parseExprAtom(), startPos, startLoc, true);\n\n    if (isImport && node.callee.type === \"ImportExpression\") {\n      this.raise(startPos, \"Cannot use new with import()\");\n    }\n\n    if (this.eat(types.parenL)) {\n      node.arguments = this.parseExprList(types.parenR, this.options.ecmaVersion >= 8, false);\n    } else {\n      node.arguments = empty$1;\n    }\n\n    return this.finishNode(node, \"NewExpression\");\n  }; // Parse template expression.\n\n\n  pp$3.parseTemplateElement = function (ref) {\n    var isTagged = ref.isTagged;\n    var elem = this.startNode();\n\n    if (this.type === types.invalidTemplate) {\n      if (!isTagged) {\n        this.raiseRecoverable(this.start, \"Bad escape sequence in untagged template literal\");\n      }\n\n      elem.value = {\n        raw: this.value,\n        cooked: null\n      };\n    } else {\n      elem.value = {\n        raw: this.input.slice(this.start, this.end).replace(/\\r\\n?/g, \"\\n\"),\n        cooked: this.value\n      };\n    }\n\n    this.next();\n    elem.tail = this.type === types.backQuote;\n    return this.finishNode(elem, \"TemplateElement\");\n  };\n\n  pp$3.parseTemplate = function (ref) {\n    if (ref === void 0) ref = {};\n    var isTagged = ref.isTagged;\n    if (isTagged === void 0) isTagged = false;\n    var node = this.startNode();\n    this.next();\n    node.expressions = [];\n    var curElt = this.parseTemplateElement({\n      isTagged: isTagged\n    });\n    node.quasis = [curElt];\n\n    while (!curElt.tail) {\n      if (this.type === types.eof) {\n        this.raise(this.pos, \"Unterminated template literal\");\n      }\n\n      this.expect(types.dollarBraceL);\n      node.expressions.push(this.parseExpression());\n      this.expect(types.braceR);\n      node.quasis.push(curElt = this.parseTemplateElement({\n        isTagged: isTagged\n      }));\n    }\n\n    this.next();\n    return this.finishNode(node, \"TemplateLiteral\");\n  };\n\n  pp$3.isAsyncProp = function (prop) {\n    return !prop.computed && prop.key.type === \"Identifier\" && prop.key.name === \"async\" && (this.type === types.name || this.type === types.num || this.type === types.string || this.type === types.bracketL || this.type.keyword || this.options.ecmaVersion >= 9 && this.type === types.star) && !lineBreak.test(this.input.slice(this.lastTokEnd, this.start));\n  }; // Parse an object literal or binding pattern.\n\n\n  pp$3.parseObj = function (isPattern, refDestructuringErrors) {\n    var node = this.startNode(),\n        first = true,\n        propHash = {};\n    node.properties = [];\n    this.next();\n\n    while (!this.eat(types.braceR)) {\n      if (!first) {\n        this.expect(types.comma);\n\n        if (this.afterTrailingComma(types.braceR)) {\n          break;\n        }\n      } else {\n        first = false;\n      }\n\n      var prop = this.parseProperty(isPattern, refDestructuringErrors);\n\n      if (!isPattern) {\n        this.checkPropClash(prop, propHash, refDestructuringErrors);\n      }\n\n      node.properties.push(prop);\n    }\n\n    return this.finishNode(node, isPattern ? \"ObjectPattern\" : \"ObjectExpression\");\n  };\n\n  pp$3.parseProperty = function (isPattern, refDestructuringErrors) {\n    var prop = this.startNode(),\n        isGenerator,\n        isAsync,\n        startPos,\n        startLoc;\n\n    if (this.options.ecmaVersion >= 9 && this.eat(types.ellipsis)) {\n      if (isPattern) {\n        prop.argument = this.parseIdent(false);\n\n        if (this.type === types.comma) {\n          this.raise(this.start, \"Comma is not permitted after the rest element\");\n        }\n\n        return this.finishNode(prop, \"RestElement\");\n      } // To disallow parenthesized identifier via `this.toAssignable()`.\n\n\n      if (this.type === types.parenL && refDestructuringErrors) {\n        if (refDestructuringErrors.parenthesizedAssign < 0) {\n          refDestructuringErrors.parenthesizedAssign = this.start;\n        }\n\n        if (refDestructuringErrors.parenthesizedBind < 0) {\n          refDestructuringErrors.parenthesizedBind = this.start;\n        }\n      } // Parse argument.\n\n\n      prop.argument = this.parseMaybeAssign(false, refDestructuringErrors); // To disallow trailing comma via `this.toAssignable()`.\n\n      if (this.type === types.comma && refDestructuringErrors && refDestructuringErrors.trailingComma < 0) {\n        refDestructuringErrors.trailingComma = this.start;\n      } // Finish\n\n\n      return this.finishNode(prop, \"SpreadElement\");\n    }\n\n    if (this.options.ecmaVersion >= 6) {\n      prop.method = false;\n      prop.shorthand = false;\n\n      if (isPattern || refDestructuringErrors) {\n        startPos = this.start;\n        startLoc = this.startLoc;\n      }\n\n      if (!isPattern) {\n        isGenerator = this.eat(types.star);\n      }\n    }\n\n    var containsEsc = this.containsEsc;\n    this.parsePropertyName(prop);\n\n    if (!isPattern && !containsEsc && this.options.ecmaVersion >= 8 && !isGenerator && this.isAsyncProp(prop)) {\n      isAsync = true;\n      isGenerator = this.options.ecmaVersion >= 9 && this.eat(types.star);\n      this.parsePropertyName(prop, refDestructuringErrors);\n    } else {\n      isAsync = false;\n    }\n\n    this.parsePropertyValue(prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc);\n    return this.finishNode(prop, \"Property\");\n  };\n\n  pp$3.parsePropertyValue = function (prop, isPattern, isGenerator, isAsync, startPos, startLoc, refDestructuringErrors, containsEsc) {\n    if ((isGenerator || isAsync) && this.type === types.colon) {\n      this.unexpected();\n    }\n\n    if (this.eat(types.colon)) {\n      prop.value = isPattern ? this.parseMaybeDefault(this.start, this.startLoc) : this.parseMaybeAssign(false, refDestructuringErrors);\n      prop.kind = \"init\";\n    } else if (this.options.ecmaVersion >= 6 && this.type === types.parenL) {\n      if (isPattern) {\n        this.unexpected();\n      }\n\n      prop.kind = \"init\";\n      prop.method = true;\n      prop.value = this.parseMethod(isGenerator, isAsync);\n    } else if (!isPattern && !containsEsc && this.options.ecmaVersion >= 5 && !prop.computed && prop.key.type === \"Identifier\" && (prop.key.name === \"get\" || prop.key.name === \"set\") && this.type !== types.comma && this.type !== types.braceR) {\n      if (isGenerator || isAsync) {\n        this.unexpected();\n      }\n\n      prop.kind = prop.key.name;\n      this.parsePropertyName(prop);\n      prop.value = this.parseMethod(false);\n      var paramCount = prop.kind === \"get\" ? 0 : 1;\n\n      if (prop.value.params.length !== paramCount) {\n        var start = prop.value.start;\n\n        if (prop.kind === \"get\") {\n          this.raiseRecoverable(start, \"getter should have no params\");\n        } else {\n          this.raiseRecoverable(start, \"setter should have exactly one param\");\n        }\n      } else {\n        if (prop.kind === \"set\" && prop.value.params[0].type === \"RestElement\") {\n          this.raiseRecoverable(prop.value.params[0].start, \"Setter cannot use rest params\");\n        }\n      }\n    } else if (this.options.ecmaVersion >= 6 && !prop.computed && prop.key.type === \"Identifier\") {\n      if (isGenerator || isAsync) {\n        this.unexpected();\n      }\n\n      this.checkUnreserved(prop.key);\n\n      if (prop.key.name === \"await\" && !this.awaitIdentPos) {\n        this.awaitIdentPos = startPos;\n      }\n\n      prop.kind = \"init\";\n\n      if (isPattern) {\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else if (this.type === types.eq && refDestructuringErrors) {\n        if (refDestructuringErrors.shorthandAssign < 0) {\n          refDestructuringErrors.shorthandAssign = this.start;\n        }\n\n        prop.value = this.parseMaybeDefault(startPos, startLoc, prop.key);\n      } else {\n        prop.value = prop.key;\n      }\n\n      prop.shorthand = true;\n    } else {\n      this.unexpected();\n    }\n  };\n\n  pp$3.parsePropertyName = function (prop) {\n    if (this.options.ecmaVersion >= 6) {\n      if (this.eat(types.bracketL)) {\n        prop.computed = true;\n        prop.key = this.parseMaybeAssign();\n        this.expect(types.bracketR);\n        return prop.key;\n      } else {\n        prop.computed = false;\n      }\n    }\n\n    return prop.key = this.type === types.num || this.type === types.string ? this.parseExprAtom() : this.parseIdent(this.options.allowReserved !== \"never\");\n  }; // Initialize empty function node.\n\n\n  pp$3.initFunction = function (node) {\n    node.id = null;\n\n    if (this.options.ecmaVersion >= 6) {\n      node.generator = node.expression = false;\n    }\n\n    if (this.options.ecmaVersion >= 8) {\n      node.async = false;\n    }\n  }; // Parse object or class method.\n\n\n  pp$3.parseMethod = function (isGenerator, isAsync, allowDirectSuper) {\n    var node = this.startNode(),\n        oldYieldPos = this.yieldPos,\n        oldAwaitPos = this.awaitPos,\n        oldAwaitIdentPos = this.awaitIdentPos;\n    this.initFunction(node);\n\n    if (this.options.ecmaVersion >= 6) {\n      node.generator = isGenerator;\n    }\n\n    if (this.options.ecmaVersion >= 8) {\n      node.async = !!isAsync;\n    }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    this.enterScope(functionFlags(isAsync, node.generator) | SCOPE_SUPER | (allowDirectSuper ? SCOPE_DIRECT_SUPER : 0));\n    this.expect(types.parenL);\n    node.params = this.parseBindingList(types.parenR, false, this.options.ecmaVersion >= 8);\n    this.checkYieldAwaitInDefaultParams();\n    this.parseFunctionBody(node, false, true);\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"FunctionExpression\");\n  }; // Parse arrow function expression with given parameters.\n\n\n  pp$3.parseArrowExpression = function (node, params, isAsync) {\n    var oldYieldPos = this.yieldPos,\n        oldAwaitPos = this.awaitPos,\n        oldAwaitIdentPos = this.awaitIdentPos;\n    this.enterScope(functionFlags(isAsync, false) | SCOPE_ARROW);\n    this.initFunction(node);\n\n    if (this.options.ecmaVersion >= 8) {\n      node.async = !!isAsync;\n    }\n\n    this.yieldPos = 0;\n    this.awaitPos = 0;\n    this.awaitIdentPos = 0;\n    node.params = this.toAssignableList(params, true);\n    this.parseFunctionBody(node, true, false);\n    this.yieldPos = oldYieldPos;\n    this.awaitPos = oldAwaitPos;\n    this.awaitIdentPos = oldAwaitIdentPos;\n    return this.finishNode(node, \"ArrowFunctionExpression\");\n  }; // Parse function body and check parameters.\n\n\n  pp$3.parseFunctionBody = function (node, isArrowFunction, isMethod) {\n    var isExpression = isArrowFunction && this.type !== types.braceL;\n    var oldStrict = this.strict,\n        useStrict = false;\n\n    if (isExpression) {\n      node.body = this.parseMaybeAssign();\n      node.expression = true;\n      this.checkParams(node, false);\n    } else {\n      var nonSimple = this.options.ecmaVersion >= 7 && !this.isSimpleParamList(node.params);\n\n      if (!oldStrict || nonSimple) {\n        useStrict = this.strictDirective(this.end); // If this is a strict mode function, verify that argument names\n        // are not repeated, and it does not try to bind the words `eval`\n        // or `arguments`.\n\n        if (useStrict && nonSimple) {\n          this.raiseRecoverable(node.start, \"Illegal 'use strict' directive in function with non-simple parameter list\");\n        }\n      } // Start a new scope with regard to labels and the `inFunction`\n      // flag (restore them to their old value afterwards).\n\n\n      var oldLabels = this.labels;\n      this.labels = [];\n\n      if (useStrict) {\n        this.strict = true;\n      } // Add the params to varDeclaredNames to ensure that an error is thrown\n      // if a let/const declaration in the function clashes with one of the params.\n\n\n      this.checkParams(node, !oldStrict && !useStrict && !isArrowFunction && !isMethod && this.isSimpleParamList(node.params));\n      node.body = this.parseBlock(false);\n      node.expression = false;\n      this.adaptDirectivePrologue(node.body.body);\n      this.labels = oldLabels;\n    }\n\n    this.exitScope(); // Ensure the function name isn't a forbidden identifier in strict mode, e.g. 'eval'\n\n    if (this.strict && node.id) {\n      this.checkLVal(node.id, BIND_OUTSIDE);\n    }\n\n    this.strict = oldStrict;\n  };\n\n  pp$3.isSimpleParamList = function (params) {\n    for (var i = 0, list = params; i < list.length; i += 1) {\n      var param = list[i];\n\n      if (param.type !== \"Identifier\") {\n        return false;\n      }\n    }\n\n    return true;\n  }; // Checks function params for various disallowed patterns such as using \"eval\"\n  // or \"arguments\" and duplicate parameters.\n\n\n  pp$3.checkParams = function (node, allowDuplicates) {\n    var nameHash = {};\n\n    for (var i = 0, list = node.params; i < list.length; i += 1) {\n      var param = list[i];\n      this.checkLVal(param, BIND_VAR, allowDuplicates ? null : nameHash);\n    }\n  }; // Parses a comma-separated list of expressions, and returns them as\n  // an array. `close` is the token type that ends the list, and\n  // `allowEmpty` can be turned on to allow subsequent commas with\n  // nothing in between them to be parsed as `null` (which is needed\n  // for array literals).\n\n\n  pp$3.parseExprList = function (close, allowTrailingComma, allowEmpty, refDestructuringErrors) {\n    var elts = [],\n        first = true;\n\n    while (!this.eat(close)) {\n      if (!first) {\n        this.expect(types.comma);\n\n        if (allowTrailingComma && this.afterTrailingComma(close)) {\n          break;\n        }\n      } else {\n        first = false;\n      }\n\n      var elt = void 0;\n\n      if (allowEmpty && this.type === types.comma) {\n        elt = null;\n      } else if (this.type === types.ellipsis) {\n        elt = this.parseSpread(refDestructuringErrors);\n\n        if (refDestructuringErrors && this.type === types.comma && refDestructuringErrors.trailingComma < 0) {\n          refDestructuringErrors.trailingComma = this.start;\n        }\n      } else {\n        elt = this.parseMaybeAssign(false, refDestructuringErrors);\n      }\n\n      elts.push(elt);\n    }\n\n    return elts;\n  };\n\n  pp$3.checkUnreserved = function (ref) {\n    var start = ref.start;\n    var end = ref.end;\n    var name = ref.name;\n\n    if (this.inGenerator && name === \"yield\") {\n      this.raiseRecoverable(start, \"Cannot use 'yield' as identifier inside a generator\");\n    }\n\n    if (this.inAsync && name === \"await\") {\n      this.raiseRecoverable(start, \"Cannot use 'await' as identifier inside an async function\");\n    }\n\n    if (this.keywords.test(name)) {\n      this.raise(start, \"Unexpected keyword '\" + name + \"'\");\n    }\n\n    if (this.options.ecmaVersion < 6 && this.input.slice(start, end).indexOf(\"\\\\\") !== -1) {\n      return;\n    }\n\n    var re = this.strict ? this.reservedWordsStrict : this.reservedWords;\n\n    if (re.test(name)) {\n      if (!this.inAsync && name === \"await\") {\n        this.raiseRecoverable(start, \"Cannot use keyword 'await' outside an async function\");\n      }\n\n      this.raiseRecoverable(start, \"The keyword '\" + name + \"' is reserved\");\n    }\n  }; // Parse the next token as an identifier. If `liberal` is true (used\n  // when parsing properties), it will also convert keywords into\n  // identifiers.\n\n\n  pp$3.parseIdent = function (liberal, isBinding) {\n    var node = this.startNode();\n\n    if (this.type === types.name) {\n      node.name = this.value;\n    } else if (this.type.keyword) {\n      node.name = this.type.keyword; // To fix https://github.com/acornjs/acorn/issues/575\n      // `class` and `function` keywords push new context into this.context.\n      // But there is no chance to pop the context if the keyword is consumed as an identifier such as a property name.\n      // If the previous token is a dot, this does not apply because the context-managing code already ignored the keyword\n\n      if ((node.name === \"class\" || node.name === \"function\") && (this.lastTokEnd !== this.lastTokStart + 1 || this.input.charCodeAt(this.lastTokStart) !== 46)) {\n        this.context.pop();\n      }\n    } else {\n      this.unexpected();\n    }\n\n    this.next();\n    this.finishNode(node, \"Identifier\");\n\n    if (!liberal) {\n      this.checkUnreserved(node);\n\n      if (node.name === \"await\" && !this.awaitIdentPos) {\n        this.awaitIdentPos = node.start;\n      }\n    }\n\n    return node;\n  }; // Parses yield expression inside generator.\n\n\n  pp$3.parseYield = function (noIn) {\n    if (!this.yieldPos) {\n      this.yieldPos = this.start;\n    }\n\n    var node = this.startNode();\n    this.next();\n\n    if (this.type === types.semi || this.canInsertSemicolon() || this.type !== types.star && !this.type.startsExpr) {\n      node.delegate = false;\n      node.argument = null;\n    } else {\n      node.delegate = this.eat(types.star);\n      node.argument = this.parseMaybeAssign(noIn);\n    }\n\n    return this.finishNode(node, \"YieldExpression\");\n  };\n\n  pp$3.parseAwait = function () {\n    if (!this.awaitPos) {\n      this.awaitPos = this.start;\n    }\n\n    var node = this.startNode();\n    this.next();\n    node.argument = this.parseMaybeUnary(null, true);\n    return this.finishNode(node, \"AwaitExpression\");\n  };\n\n  var pp$4 = Parser.prototype; // This function is used to raise exceptions on parse errors. It\n  // takes an offset integer (into the current `input`) to indicate\n  // the location of the error, attaches the position to the end\n  // of the error message, and then raises a `SyntaxError` with that\n  // message.\n\n  pp$4.raise = function (pos, message) {\n    var loc = getLineInfo(this.input, pos);\n    message += \" (\" + loc.line + \":\" + loc.column + \")\";\n    var err = new SyntaxError(message);\n    err.pos = pos;\n    err.loc = loc;\n    err.raisedAt = this.pos;\n    throw err;\n  };\n\n  pp$4.raiseRecoverable = pp$4.raise;\n\n  pp$4.curPosition = function () {\n    if (this.options.locations) {\n      return new Position(this.curLine, this.pos - this.lineStart);\n    }\n  };\n\n  var pp$5 = Parser.prototype;\n\n  var Scope = function Scope(flags) {\n    this.flags = flags; // A list of var-declared names in the current lexical scope\n\n    this.var = []; // A list of lexically-declared names in the current lexical scope\n\n    this.lexical = []; // A list of lexically-declared FunctionDeclaration names in the current lexical scope\n\n    this.functions = [];\n  }; // The functions in this module keep track of declared variables in the current scope in order to detect duplicate variable names.\n\n\n  pp$5.enterScope = function (flags) {\n    this.scopeStack.push(new Scope(flags));\n  };\n\n  pp$5.exitScope = function () {\n    this.scopeStack.pop();\n  }; // The spec says:\n  // > At the top level of a function, or script, function declarations are\n  // > treated like var declarations rather than like lexical declarations.\n\n\n  pp$5.treatFunctionsAsVarInScope = function (scope) {\n    return scope.flags & SCOPE_FUNCTION || !this.inModule && scope.flags & SCOPE_TOP;\n  };\n\n  pp$5.declareName = function (name, bindingType, pos) {\n    var redeclared = false;\n\n    if (bindingType === BIND_LEXICAL) {\n      var scope = this.currentScope();\n      redeclared = scope.lexical.indexOf(name) > -1 || scope.functions.indexOf(name) > -1 || scope.var.indexOf(name) > -1;\n      scope.lexical.push(name);\n\n      if (this.inModule && scope.flags & SCOPE_TOP) {\n        delete this.undefinedExports[name];\n      }\n    } else if (bindingType === BIND_SIMPLE_CATCH) {\n      var scope$1 = this.currentScope();\n      scope$1.lexical.push(name);\n    } else if (bindingType === BIND_FUNCTION) {\n      var scope$2 = this.currentScope();\n\n      if (this.treatFunctionsAsVar) {\n        redeclared = scope$2.lexical.indexOf(name) > -1;\n      } else {\n        redeclared = scope$2.lexical.indexOf(name) > -1 || scope$2.var.indexOf(name) > -1;\n      }\n\n      scope$2.functions.push(name);\n    } else {\n      for (var i = this.scopeStack.length - 1; i >= 0; --i) {\n        var scope$3 = this.scopeStack[i];\n\n        if (scope$3.lexical.indexOf(name) > -1 && !(scope$3.flags & SCOPE_SIMPLE_CATCH && scope$3.lexical[0] === name) || !this.treatFunctionsAsVarInScope(scope$3) && scope$3.functions.indexOf(name) > -1) {\n          redeclared = true;\n          break;\n        }\n\n        scope$3.var.push(name);\n\n        if (this.inModule && scope$3.flags & SCOPE_TOP) {\n          delete this.undefinedExports[name];\n        }\n\n        if (scope$3.flags & SCOPE_VAR) {\n          break;\n        }\n      }\n    }\n\n    if (redeclared) {\n      this.raiseRecoverable(pos, \"Identifier '\" + name + \"' has already been declared\");\n    }\n  };\n\n  pp$5.checkLocalExport = function (id) {\n    // scope.functions must be empty as Module code is always strict.\n    if (this.scopeStack[0].lexical.indexOf(id.name) === -1 && this.scopeStack[0].var.indexOf(id.name) === -1) {\n      this.undefinedExports[id.name] = id;\n    }\n  };\n\n  pp$5.currentScope = function () {\n    return this.scopeStack[this.scopeStack.length - 1];\n  };\n\n  pp$5.currentVarScope = function () {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n\n      if (scope.flags & SCOPE_VAR) {\n        return scope;\n      }\n    }\n  }; // Could be useful for `this`, `new.target`, `super()`, `super.property`, and `super[property]`.\n\n\n  pp$5.currentThisScope = function () {\n    for (var i = this.scopeStack.length - 1;; i--) {\n      var scope = this.scopeStack[i];\n\n      if (scope.flags & SCOPE_VAR && !(scope.flags & SCOPE_ARROW)) {\n        return scope;\n      }\n    }\n  };\n\n  var Node$2 = function Node(parser, pos, loc) {\n    this.type = \"\";\n    this.start = pos;\n    this.end = 0;\n\n    if (parser.options.locations) {\n      this.loc = new SourceLocation(parser, loc);\n    }\n\n    if (parser.options.directSourceFile) {\n      this.sourceFile = parser.options.directSourceFile;\n    }\n\n    if (parser.options.ranges) {\n      this.range = [pos, 0];\n    }\n  }; // Start an AST node, attaching a start offset.\n\n\n  var pp$6 = Parser.prototype;\n\n  pp$6.startNode = function () {\n    return new Node$2(this, this.start, this.startLoc);\n  };\n\n  pp$6.startNodeAt = function (pos, loc) {\n    return new Node$2(this, pos, loc);\n  }; // Finish an AST node, adding `type` and `end` properties.\n\n\n  function finishNodeAt(node, type, pos, loc) {\n    node.type = type;\n    node.end = pos;\n\n    if (this.options.locations) {\n      node.loc.end = loc;\n    }\n\n    if (this.options.ranges) {\n      node.range[1] = pos;\n    }\n\n    return node;\n  }\n\n  pp$6.finishNode = function (node, type) {\n    return finishNodeAt.call(this, node, type, this.lastTokEnd, this.lastTokEndLoc);\n  }; // Finish node at given position\n\n\n  pp$6.finishNodeAt = function (node, type, pos, loc) {\n    return finishNodeAt.call(this, node, type, pos, loc);\n  }; // The algorithm used to determine whether a regexp can appear at a\n\n\n  var TokContext = function TokContext(token, isExpr, preserveSpace, override, generator) {\n    this.token = token;\n    this.isExpr = !!isExpr;\n    this.preserveSpace = !!preserveSpace;\n    this.override = override;\n    this.generator = !!generator;\n  };\n\n  var types$1 = {\n    b_stat: new TokContext(\"{\", false),\n    b_expr: new TokContext(\"{\", true),\n    b_tmpl: new TokContext(\"${\", false),\n    p_stat: new TokContext(\"(\", false),\n    p_expr: new TokContext(\"(\", true),\n    q_tmpl: new TokContext(\"`\", true, true, function (p) {\n      return p.tryReadTemplateToken();\n    }),\n    f_stat: new TokContext(\"function\", false),\n    f_expr: new TokContext(\"function\", true),\n    f_expr_gen: new TokContext(\"function\", true, false, null, true),\n    f_gen: new TokContext(\"function\", false, false, null, true)\n  };\n  var pp$7 = Parser.prototype;\n\n  pp$7.initialContext = function () {\n    return [types$1.b_stat];\n  };\n\n  pp$7.braceIsBlock = function (prevType) {\n    var parent = this.curContext();\n\n    if (parent === types$1.f_expr || parent === types$1.f_stat) {\n      return true;\n    }\n\n    if (prevType === types.colon && (parent === types$1.b_stat || parent === types$1.b_expr)) {\n      return !parent.isExpr;\n    } // The check for `tt.name && exprAllowed` detects whether we are\n    // after a `yield` or `of` construct. See the `updateContext` for\n    // `tt.name`.\n\n\n    if (prevType === types._return || prevType === types.name && this.exprAllowed) {\n      return lineBreak.test(this.input.slice(this.lastTokEnd, this.start));\n    }\n\n    if (prevType === types._else || prevType === types.semi || prevType === types.eof || prevType === types.parenR || prevType === types.arrow) {\n      return true;\n    }\n\n    if (prevType === types.braceL) {\n      return parent === types$1.b_stat;\n    }\n\n    if (prevType === types._var || prevType === types._const || prevType === types.name) {\n      return false;\n    }\n\n    return !this.exprAllowed;\n  };\n\n  pp$7.inGeneratorContext = function () {\n    for (var i = this.context.length - 1; i >= 1; i--) {\n      var context = this.context[i];\n\n      if (context.token === \"function\") {\n        return context.generator;\n      }\n    }\n\n    return false;\n  };\n\n  pp$7.updateContext = function (prevType) {\n    var update,\n        type = this.type;\n\n    if (type.keyword && prevType === types.dot) {\n      this.exprAllowed = false;\n    } else if (update = type.updateContext) {\n      update.call(this, prevType);\n    } else {\n      this.exprAllowed = type.beforeExpr;\n    }\n  }; // Token-specific context update code\n\n\n  types.parenR.updateContext = types.braceR.updateContext = function () {\n    if (this.context.length === 1) {\n      this.exprAllowed = true;\n      return;\n    }\n\n    var out = this.context.pop();\n\n    if (out === types$1.b_stat && this.curContext().token === \"function\") {\n      out = this.context.pop();\n    }\n\n    this.exprAllowed = !out.isExpr;\n  };\n\n  types.braceL.updateContext = function (prevType) {\n    this.context.push(this.braceIsBlock(prevType) ? types$1.b_stat : types$1.b_expr);\n    this.exprAllowed = true;\n  };\n\n  types.dollarBraceL.updateContext = function () {\n    this.context.push(types$1.b_tmpl);\n    this.exprAllowed = true;\n  };\n\n  types.parenL.updateContext = function (prevType) {\n    var statementParens = prevType === types._if || prevType === types._for || prevType === types._with || prevType === types._while;\n    this.context.push(statementParens ? types$1.p_stat : types$1.p_expr);\n    this.exprAllowed = true;\n  };\n\n  types.incDec.updateContext = function () {// tokExprAllowed stays unchanged\n  };\n\n  types._function.updateContext = types._class.updateContext = function (prevType) {\n    if (prevType.beforeExpr && prevType !== types.semi && prevType !== types._else && !(prevType === types._return && lineBreak.test(this.input.slice(this.lastTokEnd, this.start))) && !((prevType === types.colon || prevType === types.braceL) && this.curContext() === types$1.b_stat)) {\n      this.context.push(types$1.f_expr);\n    } else {\n      this.context.push(types$1.f_stat);\n    }\n\n    this.exprAllowed = false;\n  };\n\n  types.backQuote.updateContext = function () {\n    if (this.curContext() === types$1.q_tmpl) {\n      this.context.pop();\n    } else {\n      this.context.push(types$1.q_tmpl);\n    }\n\n    this.exprAllowed = false;\n  };\n\n  types.star.updateContext = function (prevType) {\n    if (prevType === types._function) {\n      var index = this.context.length - 1;\n\n      if (this.context[index] === types$1.f_expr) {\n        this.context[index] = types$1.f_expr_gen;\n      } else {\n        this.context[index] = types$1.f_gen;\n      }\n    }\n\n    this.exprAllowed = true;\n  };\n\n  types.name.updateContext = function (prevType) {\n    var allowed = false;\n\n    if (this.options.ecmaVersion >= 6 && prevType !== types.dot) {\n      if (this.value === \"of\" && !this.exprAllowed || this.value === \"yield\" && this.inGeneratorContext()) {\n        allowed = true;\n      }\n    }\n\n    this.exprAllowed = allowed;\n  }; // This file contains Unicode properties extracted from the ECMAScript\n  // specification. The lists are extracted like so:\n  // $$('#table-binary-unicode-properties > figure > table > tbody > tr > td:nth-child(1) code').map(el => el.innerText)\n  // #table-binary-unicode-properties\n\n\n  var ecma9BinaryProperties = \"ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS\";\n  var ecma10BinaryProperties = ecma9BinaryProperties + \" Extended_Pictographic\";\n  var ecma11BinaryProperties = ecma10BinaryProperties;\n  var unicodeBinaryProperties = {\n    9: ecma9BinaryProperties,\n    10: ecma10BinaryProperties,\n    11: ecma11BinaryProperties\n  }; // #table-unicode-general-category-values\n\n  var unicodeGeneralCategoryValues = \"Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu\"; // #table-unicode-script-values\n\n  var ecma9ScriptValues = \"Adlam Adlm Ahom Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb\";\n  var ecma10ScriptValues = ecma9ScriptValues + \" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd\";\n  var ecma11ScriptValues = ecma10ScriptValues + \" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho\";\n  var unicodeScriptValues = {\n    9: ecma9ScriptValues,\n    10: ecma10ScriptValues,\n    11: ecma11ScriptValues\n  };\n  var data = {};\n\n  function buildUnicodeData(ecmaVersion) {\n    var d = data[ecmaVersion] = {\n      binary: wordsRegexp(unicodeBinaryProperties[ecmaVersion] + \" \" + unicodeGeneralCategoryValues),\n      nonBinary: {\n        General_Category: wordsRegexp(unicodeGeneralCategoryValues),\n        Script: wordsRegexp(unicodeScriptValues[ecmaVersion])\n      }\n    };\n    d.nonBinary.Script_Extensions = d.nonBinary.Script;\n    d.nonBinary.gc = d.nonBinary.General_Category;\n    d.nonBinary.sc = d.nonBinary.Script;\n    d.nonBinary.scx = d.nonBinary.Script_Extensions;\n  }\n\n  buildUnicodeData(9);\n  buildUnicodeData(10);\n  buildUnicodeData(11);\n  var pp$8 = Parser.prototype;\n\n  var RegExpValidationState = function RegExpValidationState(parser) {\n    this.parser = parser;\n    this.validFlags = \"gim\" + (parser.options.ecmaVersion >= 6 ? \"uy\" : \"\") + (parser.options.ecmaVersion >= 9 ? \"s\" : \"\");\n    this.unicodeProperties = data[parser.options.ecmaVersion >= 11 ? 11 : parser.options.ecmaVersion];\n    this.source = \"\";\n    this.flags = \"\";\n    this.start = 0;\n    this.switchU = false;\n    this.switchN = false;\n    this.pos = 0;\n    this.lastIntValue = 0;\n    this.lastStringValue = \"\";\n    this.lastAssertionIsQuantifiable = false;\n    this.numCapturingParens = 0;\n    this.maxBackReference = 0;\n    this.groupNames = [];\n    this.backReferenceNames = [];\n  };\n\n  RegExpValidationState.prototype.reset = function reset(start, pattern, flags) {\n    var unicode = flags.indexOf(\"u\") !== -1;\n    this.start = start | 0;\n    this.source = pattern + \"\";\n    this.flags = flags;\n    this.switchU = unicode && this.parser.options.ecmaVersion >= 6;\n    this.switchN = unicode && this.parser.options.ecmaVersion >= 9;\n  };\n\n  RegExpValidationState.prototype.raise = function raise(message) {\n    this.parser.raiseRecoverable(this.start, \"Invalid regular expression: /\" + this.source + \"/: \" + message);\n  }; // If u flag is given, this returns the code point at the index (it combines a surrogate pair).\n  // Otherwise, this returns the code unit of the index (can be a part of a surrogate pair).\n\n\n  RegExpValidationState.prototype.at = function at(i) {\n    var s = this.source;\n    var l = s.length;\n\n    if (i >= l) {\n      return -1;\n    }\n\n    var c = s.charCodeAt(i);\n\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n      return c;\n    }\n\n    return (c << 10) + s.charCodeAt(i + 1) - 0x35FDC00;\n  };\n\n  RegExpValidationState.prototype.nextIndex = function nextIndex(i) {\n    var s = this.source;\n    var l = s.length;\n\n    if (i >= l) {\n      return l;\n    }\n\n    var c = s.charCodeAt(i);\n\n    if (!this.switchU || c <= 0xD7FF || c >= 0xE000 || i + 1 >= l) {\n      return i + 1;\n    }\n\n    return i + 2;\n  };\n\n  RegExpValidationState.prototype.current = function current() {\n    return this.at(this.pos);\n  };\n\n  RegExpValidationState.prototype.lookahead = function lookahead() {\n    return this.at(this.nextIndex(this.pos));\n  };\n\n  RegExpValidationState.prototype.advance = function advance() {\n    this.pos = this.nextIndex(this.pos);\n  };\n\n  RegExpValidationState.prototype.eat = function eat(ch) {\n    if (this.current() === ch) {\n      this.advance();\n      return true;\n    }\n\n    return false;\n  };\n\n  function codePointToString(ch) {\n    if (ch <= 0xFFFF) {\n      return String.fromCharCode(ch);\n    }\n\n    ch -= 0x10000;\n    return String.fromCharCode((ch >> 10) + 0xD800, (ch & 0x03FF) + 0xDC00);\n  }\n  /**\n   * Validate the flags part of a given RegExpLiteral.\n   *\n   * @param {RegExpValidationState} state The state to validate RegExp.\n   * @returns {void}\n   */\n\n\n  pp$8.validateRegExpFlags = function (state) {\n    var validFlags = state.validFlags;\n    var flags = state.flags;\n\n    for (var i = 0; i < flags.length; i++) {\n      var flag = flags.charAt(i);\n\n      if (validFlags.indexOf(flag) === -1) {\n        this.raise(state.start, \"Invalid regular expression flag\");\n      }\n\n      if (flags.indexOf(flag, i + 1) > -1) {\n        this.raise(state.start, \"Duplicate regular expression flag\");\n      }\n    }\n  };\n  /**\n   * Validate the pattern part of a given RegExpLiteral.\n   *\n   * @param {RegExpValidationState} state The state to validate RegExp.\n   * @returns {void}\n   */\n\n\n  pp$8.validateRegExpPattern = function (state) {\n    this.regexp_pattern(state); // The goal symbol for the parse is |Pattern[~U, ~N]|. If the result of\n    // parsing contains a |GroupName|, reparse with the goal symbol\n    // |Pattern[~U, +N]| and use this result instead. Throw a *SyntaxError*\n    // exception if _P_ did not conform to the grammar, if any elements of _P_\n    // were not matched by the parse, or if any Early Error conditions exist.\n\n    if (!state.switchN && this.options.ecmaVersion >= 9 && state.groupNames.length > 0) {\n      state.switchN = true;\n      this.regexp_pattern(state);\n    }\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-Pattern\n\n\n  pp$8.regexp_pattern = function (state) {\n    state.pos = 0;\n    state.lastIntValue = 0;\n    state.lastStringValue = \"\";\n    state.lastAssertionIsQuantifiable = false;\n    state.numCapturingParens = 0;\n    state.maxBackReference = 0;\n    state.groupNames.length = 0;\n    state.backReferenceNames.length = 0;\n    this.regexp_disjunction(state);\n\n    if (state.pos !== state.source.length) {\n      // Make the same messages as V8.\n      if (state.eat(0x29\n      /* ) */\n      )) {\n        state.raise(\"Unmatched ')'\");\n      }\n\n      if (state.eat(0x5D\n      /* [ */\n      ) || state.eat(0x7D\n      /* } */\n      )) {\n        state.raise(\"Lone quantifier brackets\");\n      }\n    }\n\n    if (state.maxBackReference > state.numCapturingParens) {\n      state.raise(\"Invalid escape\");\n    }\n\n    for (var i = 0, list = state.backReferenceNames; i < list.length; i += 1) {\n      var name = list[i];\n\n      if (state.groupNames.indexOf(name) === -1) {\n        state.raise(\"Invalid named capture referenced\");\n      }\n    }\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-Disjunction\n\n\n  pp$8.regexp_disjunction = function (state) {\n    this.regexp_alternative(state);\n\n    while (state.eat(0x7C\n    /* | */\n    )) {\n      this.regexp_alternative(state);\n    } // Make the same message as V8.\n\n\n    if (this.regexp_eatQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n\n    if (state.eat(0x7B\n    /* { */\n    )) {\n      state.raise(\"Lone quantifier brackets\");\n    }\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-Alternative\n\n\n  pp$8.regexp_alternative = function (state) {\n    while (state.pos < state.source.length && this.regexp_eatTerm(state)) {}\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Term\n\n\n  pp$8.regexp_eatTerm = function (state) {\n    if (this.regexp_eatAssertion(state)) {\n      // Handle `QuantifiableAssertion Quantifier` alternative.\n      // `state.lastAssertionIsQuantifiable` is true if the last eaten Assertion\n      // is a QuantifiableAssertion.\n      if (state.lastAssertionIsQuantifiable && this.regexp_eatQuantifier(state)) {\n        // Make the same message as V8.\n        if (state.switchU) {\n          state.raise(\"Invalid quantifier\");\n        }\n      }\n\n      return true;\n    }\n\n    if (state.switchU ? this.regexp_eatAtom(state) : this.regexp_eatExtendedAtom(state)) {\n      this.regexp_eatQuantifier(state);\n      return true;\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-Assertion\n\n\n  pp$8.regexp_eatAssertion = function (state) {\n    var start = state.pos;\n    state.lastAssertionIsQuantifiable = false; // ^, $\n\n    if (state.eat(0x5E\n    /* ^ */\n    ) || state.eat(0x24\n    /* $ */\n    )) {\n      return true;\n    } // \\b \\B\n\n\n    if (state.eat(0x5C\n    /* \\ */\n    )) {\n      if (state.eat(0x42\n      /* B */\n      ) || state.eat(0x62\n      /* b */\n      )) {\n        return true;\n      }\n\n      state.pos = start;\n    } // Lookahead / Lookbehind\n\n\n    if (state.eat(0x28\n    /* ( */\n    ) && state.eat(0x3F\n    /* ? */\n    )) {\n      var lookbehind = false;\n\n      if (this.options.ecmaVersion >= 9) {\n        lookbehind = state.eat(0x3C\n        /* < */\n        );\n      }\n\n      if (state.eat(0x3D\n      /* = */\n      ) || state.eat(0x21\n      /* ! */\n      )) {\n        this.regexp_disjunction(state);\n\n        if (!state.eat(0x29\n        /* ) */\n        )) {\n          state.raise(\"Unterminated group\");\n        }\n\n        state.lastAssertionIsQuantifiable = !lookbehind;\n        return true;\n      }\n    }\n\n    state.pos = start;\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-Quantifier\n\n\n  pp$8.regexp_eatQuantifier = function (state, noError) {\n    if (noError === void 0) noError = false;\n\n    if (this.regexp_eatQuantifierPrefix(state, noError)) {\n      state.eat(0x3F\n      /* ? */\n      );\n      return true;\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-QuantifierPrefix\n\n\n  pp$8.regexp_eatQuantifierPrefix = function (state, noError) {\n    return state.eat(0x2A\n    /* * */\n    ) || state.eat(0x2B\n    /* + */\n    ) || state.eat(0x3F\n    /* ? */\n    ) || this.regexp_eatBracedQuantifier(state, noError);\n  };\n\n  pp$8.regexp_eatBracedQuantifier = function (state, noError) {\n    var start = state.pos;\n\n    if (state.eat(0x7B\n    /* { */\n    )) {\n      var min = 0,\n          max = -1;\n\n      if (this.regexp_eatDecimalDigits(state)) {\n        min = state.lastIntValue;\n\n        if (state.eat(0x2C\n        /* , */\n        ) && this.regexp_eatDecimalDigits(state)) {\n          max = state.lastIntValue;\n        }\n\n        if (state.eat(0x7D\n        /* } */\n        )) {\n          // SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-term\n          if (max !== -1 && max < min && !noError) {\n            state.raise(\"numbers out of order in {} quantifier\");\n          }\n\n          return true;\n        }\n      }\n\n      if (state.switchU && !noError) {\n        state.raise(\"Incomplete quantifier\");\n      }\n\n      state.pos = start;\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-Atom\n\n\n  pp$8.regexp_eatAtom = function (state) {\n    return this.regexp_eatPatternCharacters(state) || state.eat(0x2E\n    /* . */\n    ) || this.regexp_eatReverseSolidusAtomEscape(state) || this.regexp_eatCharacterClass(state) || this.regexp_eatUncapturingGroup(state) || this.regexp_eatCapturingGroup(state);\n  };\n\n  pp$8.regexp_eatReverseSolidusAtomEscape = function (state) {\n    var start = state.pos;\n\n    if (state.eat(0x5C\n    /* \\ */\n    )) {\n      if (this.regexp_eatAtomEscape(state)) {\n        return true;\n      }\n\n      state.pos = start;\n    }\n\n    return false;\n  };\n\n  pp$8.regexp_eatUncapturingGroup = function (state) {\n    var start = state.pos;\n\n    if (state.eat(0x28\n    /* ( */\n    )) {\n      if (state.eat(0x3F\n      /* ? */\n      ) && state.eat(0x3A\n      /* : */\n      )) {\n        this.regexp_disjunction(state);\n\n        if (state.eat(0x29\n        /* ) */\n        )) {\n          return true;\n        }\n\n        state.raise(\"Unterminated group\");\n      }\n\n      state.pos = start;\n    }\n\n    return false;\n  };\n\n  pp$8.regexp_eatCapturingGroup = function (state) {\n    if (state.eat(0x28\n    /* ( */\n    )) {\n      if (this.options.ecmaVersion >= 9) {\n        this.regexp_groupSpecifier(state);\n      } else if (state.current() === 0x3F\n      /* ? */\n      ) {\n          state.raise(\"Invalid group\");\n        }\n\n      this.regexp_disjunction(state);\n\n      if (state.eat(0x29\n      /* ) */\n      )) {\n        state.numCapturingParens += 1;\n        return true;\n      }\n\n      state.raise(\"Unterminated group\");\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedAtom\n\n\n  pp$8.regexp_eatExtendedAtom = function (state) {\n    return state.eat(0x2E\n    /* . */\n    ) || this.regexp_eatReverseSolidusAtomEscape(state) || this.regexp_eatCharacterClass(state) || this.regexp_eatUncapturingGroup(state) || this.regexp_eatCapturingGroup(state) || this.regexp_eatInvalidBracedQuantifier(state) || this.regexp_eatExtendedPatternCharacter(state);\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-InvalidBracedQuantifier\n\n\n  pp$8.regexp_eatInvalidBracedQuantifier = function (state) {\n    if (this.regexp_eatBracedQuantifier(state, true)) {\n      state.raise(\"Nothing to repeat\");\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-SyntaxCharacter\n\n\n  pp$8.regexp_eatSyntaxCharacter = function (state) {\n    var ch = state.current();\n\n    if (isSyntaxCharacter(ch)) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true;\n    }\n\n    return false;\n  };\n\n  function isSyntaxCharacter(ch) {\n    return ch === 0x24\n    /* $ */\n    || ch >= 0x28\n    /* ( */\n    && ch <= 0x2B\n    /* + */\n    || ch === 0x2E\n    /* . */\n    || ch === 0x3F\n    /* ? */\n    || ch >= 0x5B\n    /* [ */\n    && ch <= 0x5E\n    /* ^ */\n    || ch >= 0x7B\n    /* { */\n    && ch <= 0x7D\n    /* } */\n    ;\n  } // https://www.ecma-international.org/ecma-262/8.0/#prod-PatternCharacter\n  // But eat eager.\n\n\n  pp$8.regexp_eatPatternCharacters = function (state) {\n    var start = state.pos;\n    var ch = 0;\n\n    while ((ch = state.current()) !== -1 && !isSyntaxCharacter(ch)) {\n      state.advance();\n    }\n\n    return state.pos !== start;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ExtendedPatternCharacter\n\n\n  pp$8.regexp_eatExtendedPatternCharacter = function (state) {\n    var ch = state.current();\n\n    if (ch !== -1 && ch !== 0x24\n    /* $ */\n    && !(ch >= 0x28\n    /* ( */\n    && ch <= 0x2B\n    /* + */\n    ) && ch !== 0x2E\n    /* . */\n    && ch !== 0x3F\n    /* ? */\n    && ch !== 0x5B\n    /* [ */\n    && ch !== 0x5E\n    /* ^ */\n    && ch !== 0x7C\n    /* | */\n    ) {\n        state.advance();\n        return true;\n      }\n\n    return false;\n  }; // GroupSpecifier[U] ::\n  //   [empty]\n  //   `?` GroupName[?U]\n\n\n  pp$8.regexp_groupSpecifier = function (state) {\n    if (state.eat(0x3F\n    /* ? */\n    )) {\n      if (this.regexp_eatGroupName(state)) {\n        if (state.groupNames.indexOf(state.lastStringValue) !== -1) {\n          state.raise(\"Duplicate capture group name\");\n        }\n\n        state.groupNames.push(state.lastStringValue);\n        return;\n      }\n\n      state.raise(\"Invalid group\");\n    }\n  }; // GroupName[U] ::\n  //   `<` RegExpIdentifierName[?U] `>`\n  // Note: this updates `state.lastStringValue` property with the eaten name.\n\n\n  pp$8.regexp_eatGroupName = function (state) {\n    state.lastStringValue = \"\";\n\n    if (state.eat(0x3C\n    /* < */\n    )) {\n      if (this.regexp_eatRegExpIdentifierName(state) && state.eat(0x3E\n      /* > */\n      )) {\n        return true;\n      }\n\n      state.raise(\"Invalid capture group name\");\n    }\n\n    return false;\n  }; // RegExpIdentifierName[U] ::\n  //   RegExpIdentifierStart[?U]\n  //   RegExpIdentifierName[?U] RegExpIdentifierPart[?U]\n  // Note: this updates `state.lastStringValue` property with the eaten name.\n\n\n  pp$8.regexp_eatRegExpIdentifierName = function (state) {\n    state.lastStringValue = \"\";\n\n    if (this.regexp_eatRegExpIdentifierStart(state)) {\n      state.lastStringValue += codePointToString(state.lastIntValue);\n\n      while (this.regexp_eatRegExpIdentifierPart(state)) {\n        state.lastStringValue += codePointToString(state.lastIntValue);\n      }\n\n      return true;\n    }\n\n    return false;\n  }; // RegExpIdentifierStart[U] ::\n  //   UnicodeIDStart\n  //   `$`\n  //   `_`\n  //   `\\` RegExpUnicodeEscapeSequence[?U]\n\n\n  pp$8.regexp_eatRegExpIdentifierStart = function (state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C\n    /* \\ */\n    && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n\n    if (isRegExpIdentifierStart(ch)) {\n      state.lastIntValue = ch;\n      return true;\n    }\n\n    state.pos = start;\n    return false;\n  };\n\n  function isRegExpIdentifierStart(ch) {\n    return isIdentifierStart(ch, true) || ch === 0x24\n    /* $ */\n    || ch === 0x5F;\n    /* _ */\n  } // RegExpIdentifierPart[U] ::\n  //   UnicodeIDContinue\n  //   `$`\n  //   `_`\n  //   `\\` RegExpUnicodeEscapeSequence[?U]\n  //   <ZWNJ>\n  //   <ZWJ>\n\n\n  pp$8.regexp_eatRegExpIdentifierPart = function (state) {\n    var start = state.pos;\n    var ch = state.current();\n    state.advance();\n\n    if (ch === 0x5C\n    /* \\ */\n    && this.regexp_eatRegExpUnicodeEscapeSequence(state)) {\n      ch = state.lastIntValue;\n    }\n\n    if (isRegExpIdentifierPart(ch)) {\n      state.lastIntValue = ch;\n      return true;\n    }\n\n    state.pos = start;\n    return false;\n  };\n\n  function isRegExpIdentifierPart(ch) {\n    return isIdentifierChar(ch, true) || ch === 0x24\n    /* $ */\n    || ch === 0x5F\n    /* _ */\n    || ch === 0x200C\n    /* <ZWNJ> */\n    || ch === 0x200D;\n    /* <ZWJ> */\n  } // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-AtomEscape\n\n\n  pp$8.regexp_eatAtomEscape = function (state) {\n    if (this.regexp_eatBackReference(state) || this.regexp_eatCharacterClassEscape(state) || this.regexp_eatCharacterEscape(state) || state.switchN && this.regexp_eatKGroupName(state)) {\n      return true;\n    }\n\n    if (state.switchU) {\n      // Make the same message as V8.\n      if (state.current() === 0x63\n      /* c */\n      ) {\n          state.raise(\"Invalid unicode escape\");\n        }\n\n      state.raise(\"Invalid escape\");\n    }\n\n    return false;\n  };\n\n  pp$8.regexp_eatBackReference = function (state) {\n    var start = state.pos;\n\n    if (this.regexp_eatDecimalEscape(state)) {\n      var n = state.lastIntValue;\n\n      if (state.switchU) {\n        // For SyntaxError in https://www.ecma-international.org/ecma-262/8.0/#sec-atomescape\n        if (n > state.maxBackReference) {\n          state.maxBackReference = n;\n        }\n\n        return true;\n      }\n\n      if (n <= state.numCapturingParens) {\n        return true;\n      }\n\n      state.pos = start;\n    }\n\n    return false;\n  };\n\n  pp$8.regexp_eatKGroupName = function (state) {\n    if (state.eat(0x6B\n    /* k */\n    )) {\n      if (this.regexp_eatGroupName(state)) {\n        state.backReferenceNames.push(state.lastStringValue);\n        return true;\n      }\n\n      state.raise(\"Invalid named reference\");\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-CharacterEscape\n\n\n  pp$8.regexp_eatCharacterEscape = function (state) {\n    return this.regexp_eatControlEscape(state) || this.regexp_eatCControlLetter(state) || this.regexp_eatZero(state) || this.regexp_eatHexEscapeSequence(state) || this.regexp_eatRegExpUnicodeEscapeSequence(state) || !state.switchU && this.regexp_eatLegacyOctalEscapeSequence(state) || this.regexp_eatIdentityEscape(state);\n  };\n\n  pp$8.regexp_eatCControlLetter = function (state) {\n    var start = state.pos;\n\n    if (state.eat(0x63\n    /* c */\n    )) {\n      if (this.regexp_eatControlLetter(state)) {\n        return true;\n      }\n\n      state.pos = start;\n    }\n\n    return false;\n  };\n\n  pp$8.regexp_eatZero = function (state) {\n    if (state.current() === 0x30\n    /* 0 */\n    && !isDecimalDigit(state.lookahead())) {\n      state.lastIntValue = 0;\n      state.advance();\n      return true;\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-ControlEscape\n\n\n  pp$8.regexp_eatControlEscape = function (state) {\n    var ch = state.current();\n\n    if (ch === 0x74\n    /* t */\n    ) {\n        state.lastIntValue = 0x09;\n        /* \\t */\n\n        state.advance();\n        return true;\n      }\n\n    if (ch === 0x6E\n    /* n */\n    ) {\n        state.lastIntValue = 0x0A;\n        /* \\n */\n\n        state.advance();\n        return true;\n      }\n\n    if (ch === 0x76\n    /* v */\n    ) {\n        state.lastIntValue = 0x0B;\n        /* \\v */\n\n        state.advance();\n        return true;\n      }\n\n    if (ch === 0x66\n    /* f */\n    ) {\n        state.lastIntValue = 0x0C;\n        /* \\f */\n\n        state.advance();\n        return true;\n      }\n\n    if (ch === 0x72\n    /* r */\n    ) {\n        state.lastIntValue = 0x0D;\n        /* \\r */\n\n        state.advance();\n        return true;\n      }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-ControlLetter\n\n\n  pp$8.regexp_eatControlLetter = function (state) {\n    var ch = state.current();\n\n    if (isControlLetter(ch)) {\n      state.lastIntValue = ch % 0x20;\n      state.advance();\n      return true;\n    }\n\n    return false;\n  };\n\n  function isControlLetter(ch) {\n    return ch >= 0x41\n    /* A */\n    && ch <= 0x5A\n    /* Z */\n    || ch >= 0x61\n    /* a */\n    && ch <= 0x7A\n    /* z */\n    ;\n  } // https://www.ecma-international.org/ecma-262/8.0/#prod-RegExpUnicodeEscapeSequence\n\n\n  pp$8.regexp_eatRegExpUnicodeEscapeSequence = function (state) {\n    var start = state.pos;\n\n    if (state.eat(0x75\n    /* u */\n    )) {\n      if (this.regexp_eatFixedHexDigits(state, 4)) {\n        var lead = state.lastIntValue;\n\n        if (state.switchU && lead >= 0xD800 && lead <= 0xDBFF) {\n          var leadSurrogateEnd = state.pos;\n\n          if (state.eat(0x5C\n          /* \\ */\n          ) && state.eat(0x75\n          /* u */\n          ) && this.regexp_eatFixedHexDigits(state, 4)) {\n            var trail = state.lastIntValue;\n\n            if (trail >= 0xDC00 && trail <= 0xDFFF) {\n              state.lastIntValue = (lead - 0xD800) * 0x400 + (trail - 0xDC00) + 0x10000;\n              return true;\n            }\n          }\n\n          state.pos = leadSurrogateEnd;\n          state.lastIntValue = lead;\n        }\n\n        return true;\n      }\n\n      if (state.switchU && state.eat(0x7B\n      /* { */\n      ) && this.regexp_eatHexDigits(state) && state.eat(0x7D\n      /* } */\n      ) && isValidUnicode(state.lastIntValue)) {\n        return true;\n      }\n\n      if (state.switchU) {\n        state.raise(\"Invalid unicode escape\");\n      }\n\n      state.pos = start;\n    }\n\n    return false;\n  };\n\n  function isValidUnicode(ch) {\n    return ch >= 0 && ch <= 0x10FFFF;\n  } // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-IdentityEscape\n\n\n  pp$8.regexp_eatIdentityEscape = function (state) {\n    if (state.switchU) {\n      if (this.regexp_eatSyntaxCharacter(state)) {\n        return true;\n      }\n\n      if (state.eat(0x2F\n      /* / */\n      )) {\n        state.lastIntValue = 0x2F;\n        /* / */\n\n        return true;\n      }\n\n      return false;\n    }\n\n    var ch = state.current();\n\n    if (ch !== 0x63\n    /* c */\n    && (!state.switchN || ch !== 0x6B\n    /* k */\n    )) {\n      state.lastIntValue = ch;\n      state.advance();\n      return true;\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalEscape\n\n\n  pp$8.regexp_eatDecimalEscape = function (state) {\n    state.lastIntValue = 0;\n    var ch = state.current();\n\n    if (ch >= 0x31\n    /* 1 */\n    && ch <= 0x39\n    /* 9 */\n    ) {\n        do {\n          state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30\n          /* 0 */\n          );\n          state.advance();\n        } while ((ch = state.current()) >= 0x30\n        /* 0 */\n        && ch <= 0x39\n        /* 9 */\n        );\n\n        return true;\n      }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClassEscape\n\n\n  pp$8.regexp_eatCharacterClassEscape = function (state) {\n    var ch = state.current();\n\n    if (isCharacterClassEscape(ch)) {\n      state.lastIntValue = -1;\n      state.advance();\n      return true;\n    }\n\n    if (state.switchU && this.options.ecmaVersion >= 9 && (ch === 0x50\n    /* P */\n    || ch === 0x70\n    /* p */\n    )) {\n      state.lastIntValue = -1;\n      state.advance();\n\n      if (state.eat(0x7B\n      /* { */\n      ) && this.regexp_eatUnicodePropertyValueExpression(state) && state.eat(0x7D\n      /* } */\n      )) {\n        return true;\n      }\n\n      state.raise(\"Invalid property name\");\n    }\n\n    return false;\n  };\n\n  function isCharacterClassEscape(ch) {\n    return ch === 0x64\n    /* d */\n    || ch === 0x44\n    /* D */\n    || ch === 0x73\n    /* s */\n    || ch === 0x53\n    /* S */\n    || ch === 0x77\n    /* w */\n    || ch === 0x57\n    /* W */\n    ;\n  } // UnicodePropertyValueExpression ::\n  //   UnicodePropertyName `=` UnicodePropertyValue\n  //   LoneUnicodePropertyNameOrValue\n\n\n  pp$8.regexp_eatUnicodePropertyValueExpression = function (state) {\n    var start = state.pos; // UnicodePropertyName `=` UnicodePropertyValue\n\n    if (this.regexp_eatUnicodePropertyName(state) && state.eat(0x3D\n    /* = */\n    )) {\n      var name = state.lastStringValue;\n\n      if (this.regexp_eatUnicodePropertyValue(state)) {\n        var value = state.lastStringValue;\n        this.regexp_validateUnicodePropertyNameAndValue(state, name, value);\n        return true;\n      }\n    }\n\n    state.pos = start; // LoneUnicodePropertyNameOrValue\n\n    if (this.regexp_eatLoneUnicodePropertyNameOrValue(state)) {\n      var nameOrValue = state.lastStringValue;\n      this.regexp_validateUnicodePropertyNameOrValue(state, nameOrValue);\n      return true;\n    }\n\n    return false;\n  };\n\n  pp$8.regexp_validateUnicodePropertyNameAndValue = function (state, name, value) {\n    if (!has(state.unicodeProperties.nonBinary, name)) {\n      state.raise(\"Invalid property name\");\n    }\n\n    if (!state.unicodeProperties.nonBinary[name].test(value)) {\n      state.raise(\"Invalid property value\");\n    }\n  };\n\n  pp$8.regexp_validateUnicodePropertyNameOrValue = function (state, nameOrValue) {\n    if (!state.unicodeProperties.binary.test(nameOrValue)) {\n      state.raise(\"Invalid property name\");\n    }\n  }; // UnicodePropertyName ::\n  //   UnicodePropertyNameCharacters\n\n\n  pp$8.regexp_eatUnicodePropertyName = function (state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n\n    while (isUnicodePropertyNameCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n\n    return state.lastStringValue !== \"\";\n  };\n\n  function isUnicodePropertyNameCharacter(ch) {\n    return isControlLetter(ch) || ch === 0x5F;\n    /* _ */\n  } // UnicodePropertyValue ::\n  //   UnicodePropertyValueCharacters\n\n\n  pp$8.regexp_eatUnicodePropertyValue = function (state) {\n    var ch = 0;\n    state.lastStringValue = \"\";\n\n    while (isUnicodePropertyValueCharacter(ch = state.current())) {\n      state.lastStringValue += codePointToString(ch);\n      state.advance();\n    }\n\n    return state.lastStringValue !== \"\";\n  };\n\n  function isUnicodePropertyValueCharacter(ch) {\n    return isUnicodePropertyNameCharacter(ch) || isDecimalDigit(ch);\n  } // LoneUnicodePropertyNameOrValue ::\n  //   UnicodePropertyValueCharacters\n\n\n  pp$8.regexp_eatLoneUnicodePropertyNameOrValue = function (state) {\n    return this.regexp_eatUnicodePropertyValue(state);\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-CharacterClass\n\n\n  pp$8.regexp_eatCharacterClass = function (state) {\n    if (state.eat(0x5B\n    /* [ */\n    )) {\n      state.eat(0x5E\n      /* ^ */\n      );\n      this.regexp_classRanges(state);\n\n      if (state.eat(0x5D\n      /* [ */\n      )) {\n        return true;\n      } // Unreachable since it threw \"unterminated regular expression\" error before.\n\n\n      state.raise(\"Unterminated character class\");\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-ClassRanges\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRanges\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-NonemptyClassRangesNoDash\n\n\n  pp$8.regexp_classRanges = function (state) {\n    while (this.regexp_eatClassAtom(state)) {\n      var left = state.lastIntValue;\n\n      if (state.eat(0x2D\n      /* - */\n      ) && this.regexp_eatClassAtom(state)) {\n        var right = state.lastIntValue;\n\n        if (state.switchU && (left === -1 || right === -1)) {\n          state.raise(\"Invalid character class\");\n        }\n\n        if (left !== -1 && right !== -1 && left > right) {\n          state.raise(\"Range out of order in character class\");\n        }\n      }\n    }\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtom\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-ClassAtomNoDash\n\n\n  pp$8.regexp_eatClassAtom = function (state) {\n    var start = state.pos;\n\n    if (state.eat(0x5C\n    /* \\ */\n    )) {\n      if (this.regexp_eatClassEscape(state)) {\n        return true;\n      }\n\n      if (state.switchU) {\n        // Make the same message as V8.\n        var ch$1 = state.current();\n\n        if (ch$1 === 0x63\n        /* c */\n        || isOctalDigit(ch$1)) {\n          state.raise(\"Invalid class escape\");\n        }\n\n        state.raise(\"Invalid escape\");\n      }\n\n      state.pos = start;\n    }\n\n    var ch = state.current();\n\n    if (ch !== 0x5D\n    /* [ */\n    ) {\n        state.lastIntValue = ch;\n        state.advance();\n        return true;\n      }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassEscape\n\n\n  pp$8.regexp_eatClassEscape = function (state) {\n    var start = state.pos;\n\n    if (state.eat(0x62\n    /* b */\n    )) {\n      state.lastIntValue = 0x08;\n      /* <BS> */\n\n      return true;\n    }\n\n    if (state.switchU && state.eat(0x2D\n    /* - */\n    )) {\n      state.lastIntValue = 0x2D;\n      /* - */\n\n      return true;\n    }\n\n    if (!state.switchU && state.eat(0x63\n    /* c */\n    )) {\n      if (this.regexp_eatClassControlLetter(state)) {\n        return true;\n      }\n\n      state.pos = start;\n    }\n\n    return this.regexp_eatCharacterClassEscape(state) || this.regexp_eatCharacterEscape(state);\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-ClassControlLetter\n\n\n  pp$8.regexp_eatClassControlLetter = function (state) {\n    var ch = state.current();\n\n    if (isDecimalDigit(ch) || ch === 0x5F\n    /* _ */\n    ) {\n        state.lastIntValue = ch % 0x20;\n        state.advance();\n        return true;\n      }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\n\n\n  pp$8.regexp_eatHexEscapeSequence = function (state) {\n    var start = state.pos;\n\n    if (state.eat(0x78\n    /* x */\n    )) {\n      if (this.regexp_eatFixedHexDigits(state, 2)) {\n        return true;\n      }\n\n      if (state.switchU) {\n        state.raise(\"Invalid escape\");\n      }\n\n      state.pos = start;\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-DecimalDigits\n\n\n  pp$8.regexp_eatDecimalDigits = function (state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n\n    while (isDecimalDigit(ch = state.current())) {\n      state.lastIntValue = 10 * state.lastIntValue + (ch - 0x30\n      /* 0 */\n      );\n      state.advance();\n    }\n\n    return state.pos !== start;\n  };\n\n  function isDecimalDigit(ch) {\n    return ch >= 0x30\n    /* 0 */\n    && ch <= 0x39;\n    /* 9 */\n  } // https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigits\n\n\n  pp$8.regexp_eatHexDigits = function (state) {\n    var start = state.pos;\n    var ch = 0;\n    state.lastIntValue = 0;\n\n    while (isHexDigit(ch = state.current())) {\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n\n    return state.pos !== start;\n  };\n\n  function isHexDigit(ch) {\n    return ch >= 0x30\n    /* 0 */\n    && ch <= 0x39\n    /* 9 */\n    || ch >= 0x41\n    /* A */\n    && ch <= 0x46\n    /* F */\n    || ch >= 0x61\n    /* a */\n    && ch <= 0x66\n    /* f */\n    ;\n  }\n\n  function hexToInt(ch) {\n    if (ch >= 0x41\n    /* A */\n    && ch <= 0x46\n    /* F */\n    ) {\n        return 10 + (ch - 0x41\n        /* A */\n        );\n      }\n\n    if (ch >= 0x61\n    /* a */\n    && ch <= 0x66\n    /* f */\n    ) {\n        return 10 + (ch - 0x61\n        /* a */\n        );\n      }\n\n    return ch - 0x30;\n    /* 0 */\n  } // https://www.ecma-international.org/ecma-262/8.0/#prod-annexB-LegacyOctalEscapeSequence\n  // Allows only 0-377(octal) i.e. 0-255(decimal).\n\n\n  pp$8.regexp_eatLegacyOctalEscapeSequence = function (state) {\n    if (this.regexp_eatOctalDigit(state)) {\n      var n1 = state.lastIntValue;\n\n      if (this.regexp_eatOctalDigit(state)) {\n        var n2 = state.lastIntValue;\n\n        if (n1 <= 3 && this.regexp_eatOctalDigit(state)) {\n          state.lastIntValue = n1 * 64 + n2 * 8 + state.lastIntValue;\n        } else {\n          state.lastIntValue = n1 * 8 + n2;\n        }\n      } else {\n        state.lastIntValue = n1;\n      }\n\n      return true;\n    }\n\n    return false;\n  }; // https://www.ecma-international.org/ecma-262/8.0/#prod-OctalDigit\n\n\n  pp$8.regexp_eatOctalDigit = function (state) {\n    var ch = state.current();\n\n    if (isOctalDigit(ch)) {\n      state.lastIntValue = ch - 0x30;\n      /* 0 */\n\n      state.advance();\n      return true;\n    }\n\n    state.lastIntValue = 0;\n    return false;\n  };\n\n  function isOctalDigit(ch) {\n    return ch >= 0x30\n    /* 0 */\n    && ch <= 0x37;\n    /* 7 */\n  } // https://www.ecma-international.org/ecma-262/8.0/#prod-Hex4Digits\n  // https://www.ecma-international.org/ecma-262/8.0/#prod-HexDigit\n  // And HexDigit HexDigit in https://www.ecma-international.org/ecma-262/8.0/#prod-HexEscapeSequence\n\n\n  pp$8.regexp_eatFixedHexDigits = function (state, length) {\n    var start = state.pos;\n    state.lastIntValue = 0;\n\n    for (var i = 0; i < length; ++i) {\n      var ch = state.current();\n\n      if (!isHexDigit(ch)) {\n        state.pos = start;\n        return false;\n      }\n\n      state.lastIntValue = 16 * state.lastIntValue + hexToInt(ch);\n      state.advance();\n    }\n\n    return true;\n  }; // Object type used to represent tokens. Note that normally, tokens\n  // simply exist as properties on the parser object. This is only\n  // used for the onToken callback and the external tokenizer.\n\n\n  var Token = function Token(p) {\n    this.type = p.type;\n    this.value = p.value;\n    this.start = p.start;\n    this.end = p.end;\n\n    if (p.options.locations) {\n      this.loc = new SourceLocation(p, p.startLoc, p.endLoc);\n    }\n\n    if (p.options.ranges) {\n      this.range = [p.start, p.end];\n    }\n  }; // ## Tokenizer\n\n\n  var pp$9 = Parser.prototype; // Move to the next token\n\n  pp$9.next = function () {\n    if (this.options.onToken) {\n      this.options.onToken(new Token(this));\n    }\n\n    this.lastTokEnd = this.end;\n    this.lastTokStart = this.start;\n    this.lastTokEndLoc = this.endLoc;\n    this.lastTokStartLoc = this.startLoc;\n    this.nextToken();\n  };\n\n  pp$9.getToken = function () {\n    this.next();\n    return new Token(this);\n  }; // If we're in an ES6 environment, make parsers iterable\n\n\n  if (typeof Symbol !== \"undefined\") {\n    pp$9[Symbol.iterator] = function () {\n      var this$1 = this;\n      return {\n        next: function next() {\n          var token = this$1.getToken();\n          return {\n            done: token.type === types.eof,\n            value: token\n          };\n        }\n      };\n    };\n  } // Toggle strict mode. Re-reads the next number or string to please\n  // pedantic tests (`\"use strict\"; 010;` should fail).\n\n\n  pp$9.curContext = function () {\n    return this.context[this.context.length - 1];\n  }; // Read a single token, updating the parser object's token-related\n  // properties.\n\n\n  pp$9.nextToken = function () {\n    var curContext = this.curContext();\n\n    if (!curContext || !curContext.preserveSpace) {\n      this.skipSpace();\n    }\n\n    this.start = this.pos;\n\n    if (this.options.locations) {\n      this.startLoc = this.curPosition();\n    }\n\n    if (this.pos >= this.input.length) {\n      return this.finishToken(types.eof);\n    }\n\n    if (curContext.override) {\n      return curContext.override(this);\n    } else {\n      this.readToken(this.fullCharCodeAtPos());\n    }\n  };\n\n  pp$9.readToken = function (code) {\n    // Identifier or keyword. '\\uXXXX' sequences are allowed in\n    // identifiers, so '\\' also dispatches to that.\n    if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92\n    /* '\\' */\n    ) {\n        return this.readWord();\n      }\n\n    return this.getTokenFromCode(code);\n  };\n\n  pp$9.fullCharCodeAtPos = function () {\n    var code = this.input.charCodeAt(this.pos);\n\n    if (code <= 0xd7ff || code >= 0xe000) {\n      return code;\n    }\n\n    var next = this.input.charCodeAt(this.pos + 1);\n    return (code << 10) + next - 0x35fdc00;\n  };\n\n  pp$9.skipBlockComment = function () {\n    var startLoc = this.options.onComment && this.curPosition();\n    var start = this.pos,\n        end = this.input.indexOf(\"*/\", this.pos += 2);\n\n    if (end === -1) {\n      this.raise(this.pos - 2, \"Unterminated comment\");\n    }\n\n    this.pos = end + 2;\n\n    if (this.options.locations) {\n      lineBreakG.lastIndex = start;\n      var match;\n\n      while ((match = lineBreakG.exec(this.input)) && match.index < this.pos) {\n        ++this.curLine;\n        this.lineStart = match.index + match[0].length;\n      }\n    }\n\n    if (this.options.onComment) {\n      this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos, startLoc, this.curPosition());\n    }\n  };\n\n  pp$9.skipLineComment = function (startSkip) {\n    var start = this.pos;\n    var startLoc = this.options.onComment && this.curPosition();\n    var ch = this.input.charCodeAt(this.pos += startSkip);\n\n    while (this.pos < this.input.length && !isNewLine(ch)) {\n      ch = this.input.charCodeAt(++this.pos);\n    }\n\n    if (this.options.onComment) {\n      this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos, startLoc, this.curPosition());\n    }\n  }; // Called at the start of the parse and after every token. Skips\n  // whitespace and comments, and.\n\n\n  pp$9.skipSpace = function () {\n    loop: while (this.pos < this.input.length) {\n      var ch = this.input.charCodeAt(this.pos);\n\n      switch (ch) {\n        case 32:\n        case 160:\n          // ' '\n          ++this.pos;\n          break;\n\n        case 13:\n          if (this.input.charCodeAt(this.pos + 1) === 10) {\n            ++this.pos;\n          }\n\n        case 10:\n        case 8232:\n        case 8233:\n          ++this.pos;\n\n          if (this.options.locations) {\n            ++this.curLine;\n            this.lineStart = this.pos;\n          }\n\n          break;\n\n        case 47:\n          // '/'\n          switch (this.input.charCodeAt(this.pos + 1)) {\n            case 42:\n              // '*'\n              this.skipBlockComment();\n              break;\n\n            case 47:\n              this.skipLineComment(2);\n              break;\n\n            default:\n              break loop;\n          }\n\n          break;\n\n        default:\n          if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n            ++this.pos;\n          } else {\n            break loop;\n          }\n\n      }\n    }\n  }; // Called at the end of every token. Sets `end`, `val`, and\n  // maintains `context` and `exprAllowed`, and skips the space after\n  // the token, so that the next one's `start` will point at the\n  // right position.\n\n\n  pp$9.finishToken = function (type, val) {\n    this.end = this.pos;\n\n    if (this.options.locations) {\n      this.endLoc = this.curPosition();\n    }\n\n    var prevType = this.type;\n    this.type = type;\n    this.value = val;\n    this.updateContext(prevType);\n  }; // ### Token reading\n  // This is the function that is called to fetch the next token. It\n  // is somewhat obscure, because it works in character codes rather\n  // than characters, and because operator parsing has been inlined\n  // into it.\n  //\n  // All in the name of speed.\n  //\n\n\n  pp$9.readToken_dot = function () {\n    var next = this.input.charCodeAt(this.pos + 1);\n\n    if (next >= 48 && next <= 57) {\n      return this.readNumber(true);\n    }\n\n    var next2 = this.input.charCodeAt(this.pos + 2);\n\n    if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) {\n      // 46 = dot '.'\n      this.pos += 3;\n      return this.finishToken(types.ellipsis);\n    } else {\n      ++this.pos;\n      return this.finishToken(types.dot);\n    }\n  };\n\n  pp$9.readToken_slash = function () {\n    // '/'\n    var next = this.input.charCodeAt(this.pos + 1);\n\n    if (this.exprAllowed) {\n      ++this.pos;\n      return this.readRegexp();\n    }\n\n    if (next === 61) {\n      return this.finishOp(types.assign, 2);\n    }\n\n    return this.finishOp(types.slash, 1);\n  };\n\n  pp$9.readToken_mult_modulo_exp = function (code) {\n    // '%*'\n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n    var tokentype = code === 42 ? types.star : types.modulo; // exponentiation operator ** and **=\n\n    if (this.options.ecmaVersion >= 7 && code === 42 && next === 42) {\n      ++size;\n      tokentype = types.starstar;\n      next = this.input.charCodeAt(this.pos + 2);\n    }\n\n    if (next === 61) {\n      return this.finishOp(types.assign, size + 1);\n    }\n\n    return this.finishOp(tokentype, size);\n  };\n\n  pp$9.readToken_pipe_amp = function (code) {\n    // '|&'\n    var next = this.input.charCodeAt(this.pos + 1);\n\n    if (next === code) {\n      return this.finishOp(code === 124 ? types.logicalOR : types.logicalAND, 2);\n    }\n\n    if (next === 61) {\n      return this.finishOp(types.assign, 2);\n    }\n\n    return this.finishOp(code === 124 ? types.bitwiseOR : types.bitwiseAND, 1);\n  };\n\n  pp$9.readToken_caret = function () {\n    // '^'\n    var next = this.input.charCodeAt(this.pos + 1);\n\n    if (next === 61) {\n      return this.finishOp(types.assign, 2);\n    }\n\n    return this.finishOp(types.bitwiseXOR, 1);\n  };\n\n  pp$9.readToken_plus_min = function (code) {\n    // '+-'\n    var next = this.input.charCodeAt(this.pos + 1);\n\n    if (next === code) {\n      if (next === 45 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 62 && (this.lastTokEnd === 0 || lineBreak.test(this.input.slice(this.lastTokEnd, this.pos)))) {\n        // A `-->` line comment\n        this.skipLineComment(3);\n        this.skipSpace();\n        return this.nextToken();\n      }\n\n      return this.finishOp(types.incDec, 2);\n    }\n\n    if (next === 61) {\n      return this.finishOp(types.assign, 2);\n    }\n\n    return this.finishOp(types.plusMin, 1);\n  };\n\n  pp$9.readToken_lt_gt = function (code) {\n    // '<>'\n    var next = this.input.charCodeAt(this.pos + 1);\n    var size = 1;\n\n    if (next === code) {\n      size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2;\n\n      if (this.input.charCodeAt(this.pos + size) === 61) {\n        return this.finishOp(types.assign, size + 1);\n      }\n\n      return this.finishOp(types.bitShift, size);\n    }\n\n    if (next === 33 && code === 60 && !this.inModule && this.input.charCodeAt(this.pos + 2) === 45 && this.input.charCodeAt(this.pos + 3) === 45) {\n      // `<!--`, an XML-style comment that should be interpreted as a line comment\n      this.skipLineComment(4);\n      this.skipSpace();\n      return this.nextToken();\n    }\n\n    if (next === 61) {\n      size = 2;\n    }\n\n    return this.finishOp(types.relational, size);\n  };\n\n  pp$9.readToken_eq_excl = function (code) {\n    // '=!'\n    var next = this.input.charCodeAt(this.pos + 1);\n\n    if (next === 61) {\n      return this.finishOp(types.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2);\n    }\n\n    if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) {\n      // '=>'\n      this.pos += 2;\n      return this.finishToken(types.arrow);\n    }\n\n    return this.finishOp(code === 61 ? types.eq : types.prefix, 1);\n  };\n\n  pp$9.getTokenFromCode = function (code) {\n    switch (code) {\n      // The interpretation of a dot depends on whether it is followed\n      // by a digit or another two dots.\n      case 46:\n        // '.'\n        return this.readToken_dot();\n      // Punctuation tokens.\n\n      case 40:\n        ++this.pos;\n        return this.finishToken(types.parenL);\n\n      case 41:\n        ++this.pos;\n        return this.finishToken(types.parenR);\n\n      case 59:\n        ++this.pos;\n        return this.finishToken(types.semi);\n\n      case 44:\n        ++this.pos;\n        return this.finishToken(types.comma);\n\n      case 91:\n        ++this.pos;\n        return this.finishToken(types.bracketL);\n\n      case 93:\n        ++this.pos;\n        return this.finishToken(types.bracketR);\n\n      case 123:\n        ++this.pos;\n        return this.finishToken(types.braceL);\n\n      case 125:\n        ++this.pos;\n        return this.finishToken(types.braceR);\n\n      case 58:\n        ++this.pos;\n        return this.finishToken(types.colon);\n\n      case 63:\n        ++this.pos;\n        return this.finishToken(types.question);\n\n      case 96:\n        // '`'\n        if (this.options.ecmaVersion < 6) {\n          break;\n        }\n\n        ++this.pos;\n        return this.finishToken(types.backQuote);\n\n      case 48:\n        // '0'\n        var next = this.input.charCodeAt(this.pos + 1);\n\n        if (next === 120 || next === 88) {\n          return this.readRadixNumber(16);\n        } // '0x', '0X' - hex number\n\n\n        if (this.options.ecmaVersion >= 6) {\n          if (next === 111 || next === 79) {\n            return this.readRadixNumber(8);\n          } // '0o', '0O' - octal number\n\n\n          if (next === 98 || next === 66) {\n            return this.readRadixNumber(2);\n          } // '0b', '0B' - binary number\n\n        }\n\n      // Anything else beginning with a digit is an integer, octal\n      // number, or float.\n\n      case 49:\n      case 50:\n      case 51:\n      case 52:\n      case 53:\n      case 54:\n      case 55:\n      case 56:\n      case 57:\n        // 1-9\n        return this.readNumber(false);\n      // Quotes produce strings.\n\n      case 34:\n      case 39:\n        // '\"', \"'\"\n        return this.readString(code);\n      // Operators are parsed inline in tiny state machines. '=' (61) is\n      // often referred to. `finishOp` simply skips the amount of\n      // characters it is given as second argument, and returns a token\n      // of the type given by its first argument.\n\n      case 47:\n        // '/'\n        return this.readToken_slash();\n\n      case 37:\n      case 42:\n        // '%*'\n        return this.readToken_mult_modulo_exp(code);\n\n      case 124:\n      case 38:\n        // '|&'\n        return this.readToken_pipe_amp(code);\n\n      case 94:\n        // '^'\n        return this.readToken_caret();\n\n      case 43:\n      case 45:\n        // '+-'\n        return this.readToken_plus_min(code);\n\n      case 60:\n      case 62:\n        // '<>'\n        return this.readToken_lt_gt(code);\n\n      case 61:\n      case 33:\n        // '=!'\n        return this.readToken_eq_excl(code);\n\n      case 126:\n        // '~'\n        return this.finishOp(types.prefix, 1);\n    }\n\n    this.raise(this.pos, \"Unexpected character '\" + codePointToString$1(code) + \"'\");\n  };\n\n  pp$9.finishOp = function (type, size) {\n    var str = this.input.slice(this.pos, this.pos + size);\n    this.pos += size;\n    return this.finishToken(type, str);\n  };\n\n  pp$9.readRegexp = function () {\n    var escaped,\n        inClass,\n        start = this.pos;\n\n    for (;;) {\n      if (this.pos >= this.input.length) {\n        this.raise(start, \"Unterminated regular expression\");\n      }\n\n      var ch = this.input.charAt(this.pos);\n\n      if (lineBreak.test(ch)) {\n        this.raise(start, \"Unterminated regular expression\");\n      }\n\n      if (!escaped) {\n        if (ch === \"[\") {\n          inClass = true;\n        } else if (ch === \"]\" && inClass) {\n          inClass = false;\n        } else if (ch === \"/\" && !inClass) {\n          break;\n        }\n\n        escaped = ch === \"\\\\\";\n      } else {\n        escaped = false;\n      }\n\n      ++this.pos;\n    }\n\n    var pattern = this.input.slice(start, this.pos);\n    ++this.pos;\n    var flagsStart = this.pos;\n    var flags = this.readWord1();\n\n    if (this.containsEsc) {\n      this.unexpected(flagsStart);\n    } // Validate pattern\n\n\n    var state = this.regexpState || (this.regexpState = new RegExpValidationState(this));\n    state.reset(start, pattern, flags);\n    this.validateRegExpFlags(state);\n    this.validateRegExpPattern(state); // Create Literal#value property value.\n\n    var value = null;\n\n    try {\n      value = new RegExp(pattern, flags);\n    } catch (e) {// ESTree requires null if it failed to instantiate RegExp object.\n      // https://github.com/estree/estree/blob/a27003adf4fd7bfad44de9cef372a2eacd527b1c/es5.md#regexpliteral\n    }\n\n    return this.finishToken(types.regexp, {\n      pattern: pattern,\n      flags: flags,\n      value: value\n    });\n  }; // Read an integer in the given radix. Return null if zero digits\n  // were read, the integer value otherwise. When `len` is given, this\n  // will return `null` unless the integer has exactly `len` digits.\n\n\n  pp$9.readInt = function (radix, len) {\n    var start = this.pos,\n        total = 0;\n\n    for (var i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n      var code = this.input.charCodeAt(this.pos),\n          val = void 0;\n\n      if (code >= 97) {\n        val = code - 97 + 10;\n      } // a\n      else if (code >= 65) {\n          val = code - 65 + 10;\n        } // A\n        else if (code >= 48 && code <= 57) {\n            val = code - 48;\n          } // 0-9\n          else {\n              val = Infinity;\n            }\n\n      if (val >= radix) {\n        break;\n      }\n\n      ++this.pos;\n      total = total * radix + val;\n    }\n\n    if (this.pos === start || len != null && this.pos - start !== len) {\n      return null;\n    }\n\n    return total;\n  };\n\n  pp$9.readRadixNumber = function (radix) {\n    var start = this.pos;\n    this.pos += 2; // 0x\n\n    var val = this.readInt(radix);\n\n    if (val == null) {\n      this.raise(this.start + 2, \"Expected number in radix \" + radix);\n    }\n\n    if (this.options.ecmaVersion >= 11 && this.input.charCodeAt(this.pos) === 110) {\n      val = typeof BigInt !== \"undefined\" ? BigInt(this.input.slice(start, this.pos)) : null;\n      ++this.pos;\n    } else if (isIdentifierStart(this.fullCharCodeAtPos())) {\n      this.raise(this.pos, \"Identifier directly after number\");\n    }\n\n    return this.finishToken(types.num, val);\n  }; // Read an integer, octal integer, or floating-point number.\n\n\n  pp$9.readNumber = function (startsWithDot) {\n    var start = this.pos;\n\n    if (!startsWithDot && this.readInt(10) === null) {\n      this.raise(start, \"Invalid number\");\n    }\n\n    var octal = this.pos - start >= 2 && this.input.charCodeAt(start) === 48;\n\n    if (octal && this.strict) {\n      this.raise(start, \"Invalid number\");\n    }\n\n    if (octal && /[89]/.test(this.input.slice(start, this.pos))) {\n      octal = false;\n    }\n\n    var next = this.input.charCodeAt(this.pos);\n\n    if (!octal && !startsWithDot && this.options.ecmaVersion >= 11 && next === 110) {\n      var str$1 = this.input.slice(start, this.pos);\n      var val$1 = typeof BigInt !== \"undefined\" ? BigInt(str$1) : null;\n      ++this.pos;\n\n      if (isIdentifierStart(this.fullCharCodeAtPos())) {\n        this.raise(this.pos, \"Identifier directly after number\");\n      }\n\n      return this.finishToken(types.num, val$1);\n    }\n\n    if (next === 46 && !octal) {\n      // '.'\n      ++this.pos;\n      this.readInt(10);\n      next = this.input.charCodeAt(this.pos);\n    }\n\n    if ((next === 69 || next === 101) && !octal) {\n      // 'eE'\n      next = this.input.charCodeAt(++this.pos);\n\n      if (next === 43 || next === 45) {\n        ++this.pos;\n      } // '+-'\n\n\n      if (this.readInt(10) === null) {\n        this.raise(start, \"Invalid number\");\n      }\n    }\n\n    if (isIdentifierStart(this.fullCharCodeAtPos())) {\n      this.raise(this.pos, \"Identifier directly after number\");\n    }\n\n    var str = this.input.slice(start, this.pos);\n    var val = octal ? parseInt(str, 8) : parseFloat(str);\n    return this.finishToken(types.num, val);\n  }; // Read a string value, interpreting backslash-escapes.\n\n\n  pp$9.readCodePoint = function () {\n    var ch = this.input.charCodeAt(this.pos),\n        code;\n\n    if (ch === 123) {\n      // '{'\n      if (this.options.ecmaVersion < 6) {\n        this.unexpected();\n      }\n\n      var codePos = ++this.pos;\n      code = this.readHexChar(this.input.indexOf(\"}\", this.pos) - this.pos);\n      ++this.pos;\n\n      if (code > 0x10FFFF) {\n        this.invalidStringToken(codePos, \"Code point out of bounds\");\n      }\n    } else {\n      code = this.readHexChar(4);\n    }\n\n    return code;\n  };\n\n  function codePointToString$1(code) {\n    // UTF-16 Decoding\n    if (code <= 0xFFFF) {\n      return String.fromCharCode(code);\n    }\n\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00);\n  }\n\n  pp$9.readString = function (quote) {\n    var out = \"\",\n        chunkStart = ++this.pos;\n\n    for (;;) {\n      if (this.pos >= this.input.length) {\n        this.raise(this.start, \"Unterminated string constant\");\n      }\n\n      var ch = this.input.charCodeAt(this.pos);\n\n      if (ch === quote) {\n        break;\n      }\n\n      if (ch === 92) {\n        // '\\'\n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(false);\n        chunkStart = this.pos;\n      } else {\n        if (isNewLine(ch, this.options.ecmaVersion >= 10)) {\n          this.raise(this.start, \"Unterminated string constant\");\n        }\n\n        ++this.pos;\n      }\n    }\n\n    out += this.input.slice(chunkStart, this.pos++);\n    return this.finishToken(types.string, out);\n  }; // Reads template string tokens.\n\n\n  var INVALID_TEMPLATE_ESCAPE_ERROR = {};\n\n  pp$9.tryReadTemplateToken = function () {\n    this.inTemplateElement = true;\n\n    try {\n      this.readTmplToken();\n    } catch (err) {\n      if (err === INVALID_TEMPLATE_ESCAPE_ERROR) {\n        this.readInvalidTemplateToken();\n      } else {\n        throw err;\n      }\n    }\n\n    this.inTemplateElement = false;\n  };\n\n  pp$9.invalidStringToken = function (position, message) {\n    if (this.inTemplateElement && this.options.ecmaVersion >= 9) {\n      throw INVALID_TEMPLATE_ESCAPE_ERROR;\n    } else {\n      this.raise(position, message);\n    }\n  };\n\n  pp$9.readTmplToken = function () {\n    var out = \"\",\n        chunkStart = this.pos;\n\n    for (;;) {\n      if (this.pos >= this.input.length) {\n        this.raise(this.start, \"Unterminated template\");\n      }\n\n      var ch = this.input.charCodeAt(this.pos);\n\n      if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) {\n        // '`', '${'\n        if (this.pos === this.start && (this.type === types.template || this.type === types.invalidTemplate)) {\n          if (ch === 36) {\n            this.pos += 2;\n            return this.finishToken(types.dollarBraceL);\n          } else {\n            ++this.pos;\n            return this.finishToken(types.backQuote);\n          }\n        }\n\n        out += this.input.slice(chunkStart, this.pos);\n        return this.finishToken(types.template, out);\n      }\n\n      if (ch === 92) {\n        // '\\'\n        out += this.input.slice(chunkStart, this.pos);\n        out += this.readEscapedChar(true);\n        chunkStart = this.pos;\n      } else if (isNewLine(ch)) {\n        out += this.input.slice(chunkStart, this.pos);\n        ++this.pos;\n\n        switch (ch) {\n          case 13:\n            if (this.input.charCodeAt(this.pos) === 10) {\n              ++this.pos;\n            }\n\n          case 10:\n            out += \"\\n\";\n            break;\n\n          default:\n            out += String.fromCharCode(ch);\n            break;\n        }\n\n        if (this.options.locations) {\n          ++this.curLine;\n          this.lineStart = this.pos;\n        }\n\n        chunkStart = this.pos;\n      } else {\n        ++this.pos;\n      }\n    }\n  }; // Reads a template token to search for the end, without validating any escape sequences\n\n\n  pp$9.readInvalidTemplateToken = function () {\n    for (; this.pos < this.input.length; this.pos++) {\n      switch (this.input[this.pos]) {\n        case \"\\\\\":\n          ++this.pos;\n          break;\n\n        case \"$\":\n          if (this.input[this.pos + 1] !== \"{\") {\n            break;\n          }\n\n        // falls through\n\n        case \"`\":\n          return this.finishToken(types.invalidTemplate, this.input.slice(this.start, this.pos));\n        // no default\n      }\n    }\n\n    this.raise(this.start, \"Unterminated template\");\n  }; // Used to read escaped characters\n\n\n  pp$9.readEscapedChar = function (inTemplate) {\n    var ch = this.input.charCodeAt(++this.pos);\n    ++this.pos;\n\n    switch (ch) {\n      case 110:\n        return \"\\n\";\n      // 'n' -> '\\n'\n\n      case 114:\n        return \"\\r\";\n      // 'r' -> '\\r'\n\n      case 120:\n        return String.fromCharCode(this.readHexChar(2));\n      // 'x'\n\n      case 117:\n        return codePointToString$1(this.readCodePoint());\n      // 'u'\n\n      case 116:\n        return \"\\t\";\n      // 't' -> '\\t'\n\n      case 98:\n        return \"\\b\";\n      // 'b' -> '\\b'\n\n      case 118:\n        return \"\\x0B\";\n      // 'v' -> '\\u000b'\n\n      case 102:\n        return \"\\f\";\n      // 'f' -> '\\f'\n\n      case 13:\n        if (this.input.charCodeAt(this.pos) === 10) {\n          ++this.pos;\n        }\n\n      // '\\r\\n'\n\n      case 10:\n        // ' \\n'\n        if (this.options.locations) {\n          this.lineStart = this.pos;\n          ++this.curLine;\n        }\n\n        return \"\";\n\n      default:\n        if (ch >= 48 && ch <= 55) {\n          var octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0];\n          var octal = parseInt(octalStr, 8);\n\n          if (octal > 255) {\n            octalStr = octalStr.slice(0, -1);\n            octal = parseInt(octalStr, 8);\n          }\n\n          this.pos += octalStr.length - 1;\n          ch = this.input.charCodeAt(this.pos);\n\n          if ((octalStr !== \"0\" || ch === 56 || ch === 57) && (this.strict || inTemplate)) {\n            this.invalidStringToken(this.pos - 1 - octalStr.length, inTemplate ? \"Octal literal in template string\" : \"Octal literal in strict mode\");\n          }\n\n          return String.fromCharCode(octal);\n        }\n\n        if (isNewLine(ch)) {\n          // Unicode new line characters after \\ get removed from output in both\n          // template literals and strings\n          return \"\";\n        }\n\n        return String.fromCharCode(ch);\n    }\n  }; // Used to read character escape sequences ('\\x', '\\u', '\\U').\n\n\n  pp$9.readHexChar = function (len) {\n    var codePos = this.pos;\n    var n = this.readInt(16, len);\n\n    if (n === null) {\n      this.invalidStringToken(codePos, \"Bad character escape sequence\");\n    }\n\n    return n;\n  }; // Read an identifier, and return it as a string. Sets `this.containsEsc`\n  // to whether the word contained a '\\u' escape.\n  //\n  // Incrementally adds only escaped chars, adding other chunks as-is\n  // as a micro-optimization.\n\n\n  pp$9.readWord1 = function () {\n    this.containsEsc = false;\n    var word = \"\",\n        first = true,\n        chunkStart = this.pos;\n    var astral = this.options.ecmaVersion >= 6;\n\n    while (this.pos < this.input.length) {\n      var ch = this.fullCharCodeAtPos();\n\n      if (isIdentifierChar(ch, astral)) {\n        this.pos += ch <= 0xffff ? 1 : 2;\n      } else if (ch === 92) {\n        // \"\\\"\n        this.containsEsc = true;\n        word += this.input.slice(chunkStart, this.pos);\n        var escStart = this.pos;\n\n        if (this.input.charCodeAt(++this.pos) !== 117) // \"u\"\n          {\n            this.invalidStringToken(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\");\n          }\n\n        ++this.pos;\n        var esc = this.readCodePoint();\n\n        if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral)) {\n          this.invalidStringToken(escStart, \"Invalid Unicode escape\");\n        }\n\n        word += codePointToString$1(esc);\n        chunkStart = this.pos;\n      } else {\n        break;\n      }\n\n      first = false;\n    }\n\n    return word + this.input.slice(chunkStart, this.pos);\n  }; // Read an identifier or keyword token. Will check for reserved\n  // words when necessary.\n\n\n  pp$9.readWord = function () {\n    var word = this.readWord1();\n    var type = types.name;\n\n    if (this.keywords.test(word)) {\n      if (this.containsEsc) {\n        this.raiseRecoverable(this.start, \"Escape sequence in keyword \" + word);\n      }\n\n      type = keywords$1[word];\n    }\n\n    return this.finishToken(type, word);\n  }; // The main exported interface (under `self.acorn` when in the\n  // browser) is a `parse` function that takes a code string and\n  // returns an abstract syntax tree as specified by [Mozilla parser\n  // API][api].\n  //\n  // [api]: https://developer.mozilla.org/en-US/docs/SpiderMonkey/Parser_API\n\n\n  function parse(input, options) {\n    return Parser.parse(input, options);\n  }\n\n  function isArrowFunctionExpression(node) {\n    return node.type === 'ArrowFunctionExpression';\n  }\n\n  function isArrayPattern(node) {\n    return node.type === 'ArrayPattern';\n  }\n\n  function isAssignmentPattern(node) {\n    return node.type === 'AssignmentPattern';\n  }\n\n  function isBinaryExpression(node) {\n    return node.type === 'BinaryExpression';\n  }\n\n  function isBlockStatement(node) {\n    return node.type === 'BlockStatement';\n  }\n\n  function isCallExpression(node) {\n    return node.type === 'CallExpression';\n  }\n\n  function isClassDeclaration(node) {\n    return node.type === 'ClassDeclaration';\n  }\n\n  function isFunctionDeclaration(node) {\n    return node.type === 'FunctionDeclaration';\n  }\n\n  function isFunctionExpression(node) {\n    return node.type === 'FunctionExpression';\n  }\n\n  function isIdentifier(node) {\n    return node.type === 'Identifier';\n  }\n\n  function isIfStatement(node) {\n    return node.type === 'IfStatement';\n  }\n\n  function isLiteral(node) {\n    return node.type === 'Literal';\n  }\n\n  function isMemberExpression(node) {\n    return node.type === 'MemberExpression';\n  }\n\n  function isNodeWithStartAndEnd(node) {\n    return typeof node.start === 'number' && typeof node.end === 'number';\n  }\n\n  function isObjectPattern(node) {\n    return node.type === 'ObjectPattern';\n  }\n\n  function isProperty(node) {\n    return node.type === 'Property';\n  }\n\n  function isRestElement(node) {\n    return node.type === 'RestElement';\n  }\n\n  function isProgram(node) {\n    return node.type === 'Program';\n  }\n\n  function isThisExpression(node) {\n    return node.type === 'ThisExpression';\n  }\n\n  function isTryStatement(node) {\n    return node.type === 'TryStatement';\n  }\n\n  function isVariableDeclaration(node) {\n    return node.type === 'VariableDeclaration';\n  } // Refinements or groups\n\n\n  function isFunction(node) {\n    return isFunctionDeclaration(node) || isFunctionExpression(node) || isArrowFunctionExpression(node);\n  }\n\n  function isStringLiteral(node) {\n    return isLiteral(node) && typeof node.value === 'string';\n  }\n\n  function parse$1(code, options) {\n    return parse(code, _objectSpread({}, options, {\n      allowReturnOutsideFunction: true,\n      sourceType: 'script'\n    }));\n  } // const whitespaceRx = /^\\s*$/m;\n\n\n  function parseFile(uri, magicString) {\n    var ctx = {\n      unboundSymbols: new Map(),\n      locals: new Map(),\n      nodeEnv: 'development',\n      replacements: [],\n      requires: [],\n      requireResolves: [],\n      skip: new Set()\n    };\n\n    try {\n      // let lastToken: acorn.Token | undefined = undefined;\n      var ast = parse$1(magicString.original, {\n        onComment: function onComment(_isBlock, _test, start, end) {\n          magicString.remove(start, end);\n        },\n        onToken: function onToken(token) {\n          magicString.addSourcemapLocation(token.start); // const wsStart = lastToken ? lastToken.end : 0;\n          // if (wsStart < token.start - 1) {\n          //   const between = magicString.original.substring(wsStart, token.start);\n          //   if (whitespaceRx.test(between)) {\n          //     magicString.overwrite(wsStart, token.start - 1, ' ');\n          //   }\n          // }\n          // lastToken = token;\n        }\n      });\n      traverse(ast, ctx, scopingAndRequiresVisitor);\n      traverse(ast, ctx, collectGlobalsVisitor);\n    } catch (err) {\n      throw new Error(\"Error parsing \".concat(uri, \": \").concat(err.message));\n    }\n\n    var requireDependencies = [];\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n      for (var _iterator = ctx.requires[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n        var node = _step.value;\n        requireDependencies.push({\n          callee: _objectSpread({}, node.callee),\n          spec: _objectSpread({}, node.spec)\n        });\n      }\n    } catch (err) {\n      _didIteratorError = true;\n      _iteratorError = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion && _iterator.return != null) {\n          _iterator.return();\n        }\n      } finally {\n        if (_didIteratorError) {\n          throw _iteratorError;\n        }\n      }\n    }\n\n    var requireResolveDependencies = [];\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = ctx.requireResolves[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var _node = _step2.value;\n        requireResolveDependencies.push({\n          callee: _objectSpread({}, _node.callee),\n          spec: _objectSpread({}, _node.spec)\n        });\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n          _iterator2.return();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n\n    var unboundSymbols = new Map();\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n      for (var _iterator3 = ctx.unboundSymbols[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n        var _ref8 = _step3.value;\n\n        var _ref7 = _slicedToArray(_ref8, 2);\n\n        var symbolName = _ref7[0];\n        var symbolNodes = _ref7[1];\n        unboundSymbols.set(symbolName, symbolNodes.map(function (node) {\n          return {\n            start: node.start,\n            end: node.end\n          };\n        }));\n      }\n    } catch (err) {\n      _didIteratorError3 = true;\n      _iteratorError3 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n          _iterator3.return();\n        }\n      } finally {\n        if (_didIteratorError3) {\n          throw _iteratorError3;\n        }\n      }\n    }\n\n    return {\n      requireDependencies: requireDependencies,\n      requireResolveDependencies: requireResolveDependencies,\n      unboundSymbols: unboundSymbols\n    };\n  }\n\n  var scopingAndRequiresVisitor = {\n    enter: function enter(node, parent, ctx) {\n      if (ctx.skip.has(node)) {\n        return this.skip();\n      }\n\n      visitAndCaptureScoping(node, parent, ctx);\n      visitAndSkipBranches(node, parent, ctx);\n      visitRequires(node, parent, ctx);\n    }\n  };\n  var collectGlobalsVisitor = {\n    enter: function enter(node, _parent, ctx) {\n      if (isBindingIdentifier(node) && isIdentifier(node)) {\n        var name = node.name;\n        if (name === 'undefined') return;\n        var foundBinding = false;\n        var nextParent = node.parent;\n\n        while (nextParent) {\n          if (name === 'arguments' && declaresArguments(nextParent)) {\n            foundBinding = true;\n            break;\n          }\n\n          var locals = ctx.locals.get(nextParent);\n\n          if (locals && locals[name]) {\n            foundBinding = true;\n            break;\n          }\n\n          nextParent = nextParent.parent;\n        }\n\n        if (!foundBinding && isNodeWithStartAndEnd(node)) {\n          var unboundSymbols = ctx.unboundSymbols.get(name);\n\n          if (!unboundSymbols) {\n            unboundSymbols = [];\n            ctx.unboundSymbols.set(name, unboundSymbols);\n          }\n\n          unboundSymbols.push(node);\n        }\n      } else if (isThisExpression(node)) {\n        var _foundBinding = false;\n        var _nextParent = node.parent;\n\n        while (_nextParent) {\n          if (declaresThis(_nextParent)) {\n            _foundBinding = true;\n            break;\n          }\n\n          _nextParent = _nextParent.parent;\n        }\n\n        if (!_foundBinding && isNodeWithStartAndEnd(node)) {\n          var _unboundSymbols = ctx.unboundSymbols.get('this');\n\n          if (!_unboundSymbols) {\n            _unboundSymbols = [];\n            ctx.unboundSymbols.set('this', _unboundSymbols);\n          }\n\n          _unboundSymbols.push(node);\n        }\n      }\n    }\n  };\n\n  function visitAndCaptureScoping(node, _parent, ctx) {\n    if (isVariableDeclaration(node)) {\n      var parent;\n      var nextParent = node.parent;\n\n      while (nextParent) {\n        if (node.kind === 'var' ? isScope(nextParent) : isBlockScope(nextParent)) {\n          parent = nextParent;\n          break;\n        }\n\n        nextParent = nextParent.parent;\n      }\n\n      if (!parent) {\n        throw new Error(\"Invariant violation: Failed to find a parent\");\n      }\n\n      var locals = ctx.locals.get(parent);\n\n      if (!locals) {\n        locals = {};\n        ctx.locals.set(parent, locals);\n      }\n\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = node.declarations[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var declaration = _step4.value;\n          declarePattern(declaration.id, locals);\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n            _iterator4.return();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n    } else if (isFunctionDeclaration(node)) {\n      var _parent2;\n\n      var _nextParent2 = node.parent;\n\n      if (_nextParent2 && _nextParent2.parent) {\n        _nextParent2 = _nextParent2.parent;\n      }\n\n      while (_nextParent2) {\n        if (isScope(_nextParent2)) {\n          _parent2 = _nextParent2;\n          break;\n        }\n\n        _nextParent2 = _nextParent2.parent;\n      }\n\n      if (!_parent2) {\n        throw new Error(\"Invariant violation: Failed to find a parent\");\n      }\n\n      var _locals = ctx.locals.get(_parent2);\n\n      if (!_locals) {\n        _locals = {};\n        ctx.locals.set(_parent2, _locals);\n      }\n\n      declareFunction(node, _locals);\n    } else if (isFunction(node)) {\n      var _locals2 = ctx.locals.get(node);\n\n      if (!_locals2) {\n        _locals2 = {};\n        ctx.locals.set(node, _locals2);\n      }\n\n      declareFunction(node, _locals2);\n    } else if (isClassDeclaration(node) && node.id) {\n      var _parent3;\n\n      var _nextParent3 = node.parent;\n\n      if (_nextParent3 && _nextParent3.parent) {\n        _nextParent3 = _nextParent3.parent;\n      }\n\n      while (_nextParent3) {\n        if (isScope(_nextParent3)) {\n          _parent3 = _nextParent3;\n          break;\n        }\n\n        _nextParent3 = _nextParent3.parent;\n      }\n\n      if (!_parent3) {\n        throw new Error(\"Invariant violation: Failed to find a parent\");\n      }\n\n      var _locals3 = ctx.locals.get(_parent3);\n\n      if (!_locals3) {\n        _locals3 = {};\n        ctx.locals.set(_parent3, _locals3);\n      }\n\n      _locals3[node.id.name] = true;\n    } else if (isTryStatement(node)) {\n      if (node.handler) {\n        var _locals4 = ctx.locals.get(node.handler);\n\n        if (!_locals4) {\n          _locals4 = {};\n          ctx.locals.set(node.handler, _locals4);\n        }\n\n        declarePattern(node.handler.param, _locals4);\n      }\n    }\n  }\n\n  function visitAndSkipBranches(node, _parent, ctx) {\n    if (isIfStatement(node) && isBinaryExpression(node.test)) {\n      var tests = {\n        '!=': function _(l, r) {\n          return l != r;\n        },\n        '!==': function _(l, r) {\n          return l !== r;\n        },\n        '==': function _(l, r) {\n          return l == r;\n        },\n        '===': function _(l, r) {\n          return l === r;\n        }\n      };\n      var test = tests[node.test.operator];\n\n      if (test) {\n        if (isStringLiteral(node.test.left) && isMemberExpression(node.test.right) && memberExpressionMatches(node.test.right, 'process.env.NODE_ENV')) {\n          // if ('development' === process.env.NODE_ENV) {}\n          ctx.replacements.push({\n            start: node.test.right.start,\n            end: node.test.right.end,\n            replacement: JSON.stringify(ctx.nodeEnv)\n          });\n\n          if (!test(node.test.left.value, ctx.nodeEnv)) {\n            ctx.skip.add(node.consequent);\n          } else if (node.alternate) {\n            ctx.skip.add(node.alternate);\n          }\n        } else if (isStringLiteral(node.test.right) && isMemberExpression(node.test.left) && memberExpressionMatches(node.test.left, 'process.env.NODE_ENV')) {\n          // if (process.env.NODE_ENV === 'development') {}\n          ctx.replacements.push({\n            start: node.test.left.start,\n            end: node.test.left.end,\n            replacement: JSON.stringify(ctx.nodeEnv)\n          });\n\n          if (!test(node.test.right.value, ctx.nodeEnv)) {\n            ctx.skip.add(node.consequent);\n          } else if (node.alternate) {\n            ctx.skip.add(node.alternate);\n          }\n        }\n      }\n    }\n  }\n\n  function visitRequires(node, _parent, ctx) {\n    if (isCallExpression(node) && isNodeWithStartAndEnd(node.callee)) {\n      var callee = node.callee;\n\n      if (isIdentifier(callee) && isNodeWithStartAndEnd(callee) && callee.name === 'require') {\n        var firstArg = node.arguments[0];\n\n        if (isStringLiteral(firstArg) && isNodeWithStartAndEnd(firstArg)) {\n          ctx.requires.push({\n            spec: {\n              start: firstArg.start,\n              end: firstArg.end,\n              value: firstArg.value\n            },\n            callee: {\n              start: callee.start,\n              end: callee.end\n            }\n          });\n        } else {\n          console.warn('Non string-literal first arg to require', firstArg);\n        }\n      } else if (isMemberExpression(callee) && isIdentifier(callee.object) && callee.object.name === 'require' && isIdentifier(callee.property) && callee.property.name === 'resolve') {\n        var _firstArg = node.arguments[0];\n\n        if (isStringLiteral(_firstArg) && isNodeWithStartAndEnd(_firstArg)) {\n          ctx.requireResolves.push({\n            spec: {\n              start: _firstArg.start,\n              end: _firstArg.end,\n              value: _firstArg.value\n            },\n            callee: {\n              start: callee.start,\n              end: callee.end\n            }\n          });\n        } else {\n          console.warn('Non string-literal first arg to require.resolve', _firstArg);\n        }\n      }\n    }\n  }\n\n  function declareFunction(node, locals) {\n    node.params.forEach(function (node) {\n      declarePattern(node, locals);\n    });\n\n    if (node.id) {\n      locals[node.id.name] = true;\n    }\n  }\n\n  function declarePattern(node, locals) {\n    if (isIdentifier(node)) {\n      locals[node.name] = true;\n    } else if (isObjectPattern(node)) {\n      node.properties.forEach(function (node) {\n        return declarePattern(node.value, locals);\n      });\n    } else if (isArrayPattern(node)) {\n      node.elements.forEach(function (node) {\n        return node && declarePattern(node, locals);\n      });\n    } else if (isRestElement(node)) {\n      declarePattern(node.argument, locals);\n    } else if (isAssignmentPattern(node)) {\n      declarePattern(node.left, locals);\n    } else {\n      throw new Error(\"Invariant violation: Unexpected pattern type: \".concat(node.type));\n    }\n  }\n\n  function isBindingIdentifier(node) {\n    return isIdentifier(node) && !isPropertyOfMemberExpression(node) && !isKeyOfProperty(node);\n  }\n\n  function isKeyOfProperty(node) {\n    return node.parent && isProperty(node.parent) && node.parent.key === node;\n  }\n\n  function isPropertyOfMemberExpression(node) {\n    return node.parent && isMemberExpression(node.parent) && node.parent.object !== node;\n  }\n\n  function isScope(node) {\n    return isFunctionDeclaration(node) || isFunctionExpression(node) || isArrowFunctionExpression(node) || isProgram(node);\n  }\n\n  function isBlockScope(node) {\n    return isBlockStatement(node) || isScope(node);\n  }\n\n  function declaresArguments(node) {\n    return isFunctionDeclaration(node) || isFunctionExpression(node);\n  }\n\n  function declaresThis(node) {\n    return isFunctionDeclaration(node) || isFunctionExpression(node);\n  }\n\n  function memberExpressionMatches(node, pattern) {\n    var memberParts = pattern.split('.');\n\n    if (memberParts.length < 2) {\n      return false;\n    }\n\n    var object = memberParts.shift();\n    var property = memberParts.shift();\n\n    for (var _i6 = memberParts.length - 1; _i6 >= 0; _i6--) {\n      if (!isIdentifier(node.property) || node.property.name !== memberParts[_i6]) {\n        return false;\n      }\n\n      if (!isMemberExpression(node.object)) {\n        return false;\n      }\n\n      node = node.object;\n    }\n\n    if (!isIdentifier(node.object) || !isIdentifier(node.property)) {\n      return false;\n    }\n\n    return node.object.name === object && node.property.name === property;\n  }\n  /**\n   *\n   * @param {typeof import('.')} Velcro\n   * @returns {import('./runtime').IRuntime}\n   */\n\n\n  function createRuntime(Velcro) {\n    var aliasesSymbol = Symbol.for('velcro.aliases');\n    var modulesSymbol = Symbol.for('velcro.modules');\n    var registrySymbol = Symbol.for('velcro.registry');\n    var rootSymbol = Symbol.for('velcro.root');\n\n    function Runtime() {\n      this[aliasesSymbol] = Object.create(null);\n      this[modulesSymbol] = Object.create(null);\n      this[registrySymbol] = Object.create(null);\n      var self = this;\n      Object.defineProperty(this, 'root', {\n        configurable: false,\n        enumerable: true,\n        get: function get() {\n          var root = self[rootSymbol];\n\n          if (!root) {\n            root = new Module('velcro://root', self);\n            self[rootSymbol] = root;\n          }\n\n          return root;\n        }\n      });\n    }\n\n    Runtime.prototype.alias = function (name, id) {\n      this[aliasesSymbol][name] = id;\n    };\n\n    Runtime.prototype.import = function (name) {\n      return new Promise(function (resolve, reject) {\n        try {\n          return resolve(Velcro.runtime.require(name));\n        } catch (err) {\n          return reject(err);\n        }\n      });\n    };\n    /**\n     * @param {string} id\n     * @param {ModuleFactory} factory\n     */\n\n\n    Runtime.prototype.register = function (id, factory) {\n      if (this[registrySymbol][id]) {\n        throw new Error(\"A module factory is already registered for \".concat(id));\n      }\n\n      this[registrySymbol][id] = factory;\n    };\n\n    Runtime.prototype.remove = function (id) {\n      id = this[aliasesSymbol][id] || id;\n      var module = this[modulesSymbol][id];\n\n      if (!module) {\n        return false;\n      }\n\n      var seen = new Set();\n      var removalQueue = [module];\n\n      while (removalQueue.length) {\n        var moduleToRemove = removalQueue.shift();\n\n        if (seen.has(moduleToRemove)) {\n          continue;\n        }\n\n        seen.add(moduleToRemove);\n        removalQueue.push.apply(removalQueue, _toConsumableArray(moduleToRemove.dependents));\n        delete this[modulesSymbol][moduleToRemove.id];\n      }\n\n      return true;\n    };\n\n    Runtime.prototype.require = function (id) {\n      return this.root.require(id);\n    };\n\n    function Module(id, runtime) {\n      this.exports = {};\n      this.dependents = new Set();\n      this.id = id;\n      this.runtime = runtime;\n    }\n\n    Module.prototype.require = function (id) {\n      id = this.runtime[aliasesSymbol][id] || id;\n      var module = this.runtime[modulesSymbol][id];\n\n      if (!module) {\n        var factory = this.runtime[registrySymbol][id];\n\n        if (!factory) {\n          console.error();\n          throw new Error(\"Factory missing for \".concat(id));\n        }\n\n        module = new Module(id, this.runtime);\n        this.runtime[modulesSymbol][id] = module;\n        var dirname = id;\n        var filename = id;\n        var util = Velcro.util;\n\n        if (util && util.dirname) {\n          dirname = util.dirname(id);\n        }\n\n        if (util && util.basename) {\n          filename = util.basename(id);\n        }\n\n        factory.call(module.exports, module, module.exports, module.require.bind(module), dirname, filename);\n      }\n\n      module.dependents.add(this);\n      return module.exports;\n    };\n\n    var runtime = Velcro.runtime;\n\n    if (!runtime) {\n      runtime = new Runtime();\n      Velcro.runtime = runtime;\n    }\n\n    return Runtime;\n  }\n\n  var Queue =\n  /*#__PURE__*/\n  function () {\n    function Queue(token, onEnqueue, onComplete) {\n      _classCallCheck(this, Queue);\n\n      this.token = token;\n      this.onEnqueue = onEnqueue;\n      this.onComplete = onComplete;\n      this.assets = new Set();\n      this.pendingCount = 0;\n      this.resolvedPromise = Promise.resolve();\n      this.waiters = [];\n    }\n\n    _createClass(Queue, [{\n      key: \"add\",\n      value: function add() {\n        var _this13 = this;\n\n        for (var _len7 = arguments.length, jobs = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n          jobs[_key7] = arguments[_key7];\n        }\n\n        for (var _i7 = 0, _jobs = jobs; _i7 < _jobs.length; _i7++) {\n          var job = _jobs[_i7];\n          this.pendingCount++;\n\n          if (this.onEnqueue) {\n            this.onEnqueue();\n          }\n\n          job().then(function (asset) {\n            _this13.pendingCount--;\n\n            if (_this13.onComplete) {\n              _this13.onComplete();\n            }\n\n            if (asset) {\n              _this13.assets.add(asset);\n            }\n\n            if (_this13.token.isCancellationRequested) {\n              return _this13.releaseWithError(new CanceledError$1('Canceled'));\n            }\n\n            if (_this13.pendingCount < 0) {\n              throw new Error(\"Invariant violation: queue pending count fell below 0\");\n            }\n\n            if (_this13.pendingCount === 0) {\n              _this13.releaseWithSuccess();\n            }\n\n            return asset;\n          }, function (err) {\n            _this13.pendingCount--;\n\n            if (_this13.onComplete) {\n              _this13.onComplete();\n            }\n\n            if (_this13.token.isCancellationRequested) {\n              return _this13.releaseWithError(new CanceledError$1('Canceled'));\n            }\n\n            _this13.releaseWithError(err);\n          });\n        }\n      }\n    }, {\n      key: \"wait\",\n      value: function wait() {\n        if (this.pendingCount === 0) {\n          return Promise.resolve(this.assets);\n        }\n\n        var resolve = undefined;\n        var reject = undefined;\n        var promise = new Promise(function (promiseResolve, promiseReject) {\n          resolve = promiseResolve;\n          reject = promiseReject;\n        });\n        this.waiters.push({\n          reject: reject,\n          resolve: resolve\n        });\n        return promise;\n      }\n    }, {\n      key: \"releaseWithError\",\n      value: function releaseWithError(err) {\n        var _this14 = this;\n\n        this.resolvedPromise.then(function () {\n          while (_this14.waiters.length) {\n            var waiter = _this14.waiters.shift();\n\n            waiter.reject(err);\n          }\n        });\n      }\n    }, {\n      key: \"releaseWithSuccess\",\n      value: function releaseWithSuccess() {\n        var _this15 = this;\n\n        this.resolvedPromise.then(function () {\n          while (_this15.waiters.length) {\n            var waiter = _this15.waiters.shift();\n\n            waiter.resolve(_this15.assets);\n          }\n        });\n      }\n    }, {\n      key: \"size\",\n      get: function get() {\n        return this.pendingCount;\n      }\n    }]);\n\n    return Queue;\n  }();\n\n  var ExtendableError$3 =\n  /*#__PURE__*/\n  function (_Error4) {\n    _inherits(ExtendableError$3, _Error4);\n\n    function ExtendableError$3(message) {\n      var _this16;\n\n      _classCallCheck(this, ExtendableError$3);\n\n      _this16 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError$3).call(this, message));\n      _this16.name = _this16.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this16), _this16.constructor);\n      } else {\n        _this16.stack = new Error(message).stack;\n      }\n\n      return _this16;\n    }\n\n    return ExtendableError$3;\n  }(_wrapNativeSuper(Error));\n\n  var ResolveError =\n  /*#__PURE__*/\n  function (_ExtendableError$3) {\n    _inherits(ResolveError, _ExtendableError$3);\n\n    function ResolveError(href, fromHref) {\n      var _this17;\n\n      _classCallCheck(this, ResolveError);\n\n      _this17 = _possibleConstructorReturn(this, _getPrototypeOf(ResolveError).call(this, \"Unable to resolve '\".concat(href, \"'\").concat(fromHref ? \" from '\".concat(fromHref, \"'\") : '')));\n      _this17.href = href;\n      _this17.fromHref = fromHref;\n      return _this17;\n    }\n\n    return ResolveError;\n  }(ExtendableError$3);\n\n  var RESOLVE_KEY_SEPARATOR = '|';\n  var EMPTY_MODULE_HREF = new URL('velcro://@empty');\n  var EMPTY_MODULE_CODE = 'module.exports = function(){};';\n  var DEFAULT_SHIM_GLOBALS = {\n    Buffer: {\n      spec: \"@velcro/node-libs@\".concat(version, \"/lib/buffer.js\"),\n      export: 'Buffer'\n    },\n    global: {\n      spec: \"@velcro/node-libs@\".concat(version, \"/lib/global.js\")\n    },\n    process: {\n      spec: \"@velcro/node-libs@\".concat(version, \"/lib/process.js\")\n    }\n  };\n\n  var Bundler =\n  /*#__PURE__*/\n  function () {\n    function Bundler(options) {\n      _classCallCheck(this, Bundler);\n\n      this.assetsByHref = new Map();\n      this.assetsByRootHref = new Map();\n      this.pendingResolves = new Map();\n      this.onAssetAddedEmitter = new Emitter();\n      this.onAssetRemovedEmitter = new Emitter();\n      this.resolver = options.resolver;\n    }\n\n    _createClass(Bundler, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this.onAssetAddedEmitter.dispose();\n        this.onAssetRemovedEmitter.dispose();\n        this.assetsByHref.clear();\n        this.assetsByRootHref.clear();\n        this.pendingResolves.clear();\n      }\n    }, {\n      key: \"generateBundleCode\",\n      value: function () {\n        var _generateBundleCode = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2(entrypoints) {\n          var _this18 = this;\n\n          var options,\n              token,\n              onCancellation,\n              queue,\n              addedAssets,\n              entrypointsToAssets,\n              idx,\n              assetsToInclude,\n              includedAssets,\n              bundle,\n              asset,\n              _iteratorNormalCompletion5,\n              _didIteratorError5,\n              _iteratorError5,\n              _iterator5,\n              _step5,\n              dependency,\n              _asset,\n              magicString,\n              _iteratorNormalCompletion6,\n              _didIteratorError6,\n              _iteratorError6,\n              _iterator6,\n              _step6,\n              _dependency,\n              entrypoint,\n              _asset2,\n              bundleCode,\n              sourceMapSuffix,\n              sourceMap,\n              seen,\n              combinedMap,\n              _args2 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  options = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n\n                  if (!(!Array.isArray(entrypoints) || !entrypoints.length)) {\n                    _context2.next = 3;\n                    break;\n                  }\n\n                  throw new Error('Generating a bundle requires passing in an array of entrypoints');\n\n                case 3:\n                  token = options.token || new CancellationTokenSource$1().token;\n\n                  onCancellation = function onCancellation() {\n                    _this18.pendingResolves.clear();\n                  };\n\n                  if (!token.isCancellationRequested) {\n                    _context2.next = 10;\n                    break;\n                  }\n\n                  onCancellation();\n                  throw new CanceledError$1('Canceled');\n\n                case 10:\n                  token.onCancellationRequested(onCancellation);\n\n                case 11:\n                  queue = new Queue(token, options.onEnqueueAsset, options.onCompleteAsset);\n                  _context2.next = 14;\n                  return Promise.all(entrypoints.map(function (entrypoint) {\n                    return _this18.addUnresolved(queue, entrypoint, undefined, {\n                      token: token\n                    });\n                  }));\n\n                case 14:\n                  addedAssets = _context2.sent;\n                  entrypointsToAssets = {};\n\n                  for (idx in entrypoints) {\n                    entrypointsToAssets[entrypoints[idx]] = addedAssets[idx];\n                  }\n\n                  _context2.next = 19;\n                  return queue.wait();\n\n                case 19:\n                  assetsToInclude = _toConsumableArray(addedAssets);\n                  includedAssets = new Set();\n                  bundle = new Bundle({\n                    separator: '\\n'\n                  });\n\n                case 22:\n                  if (!assetsToInclude.length) {\n                    _context2.next = 107;\n                    break;\n                  }\n\n                  asset = assetsToInclude.shift();\n\n                  if (!includedAssets.has(asset)) {\n                    _context2.next = 26;\n                    break;\n                  }\n\n                  return _context2.abrupt(\"continue\", 22);\n\n                case 26:\n                  includedAssets.add(asset);\n                  _iteratorNormalCompletion5 = true;\n                  _didIteratorError5 = false;\n                  _iteratorError5 = undefined;\n                  _context2.prev = 30;\n                  _iterator5 = asset.dependencies[Symbol.iterator]();\n\n                case 32:\n                  if (_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done) {\n                    _context2.next = 47;\n                    break;\n                  }\n\n                  dependency = _step5.value;\n                  _context2.t0 = dependency.type;\n                  _context2.next = _context2.t0 === Asset.DependencyKind.InjectedGlobal ? 37 : _context2.t0 === Asset.DependencyKind.Require ? 37 : _context2.t0 === Asset.DependencyKind.RequireResolve ? 42 : 43;\n                  break;\n\n                case 37:\n                  _asset = this.assetsByHref.get(dependency.href);\n\n                  if (_asset) {\n                    _context2.next = 40;\n                    break;\n                  }\n\n                  throw new Error(\"Invariant violation: Asset not loaded for '\".concat(dependency.href, \"'\"));\n\n                case 40:\n                  assetsToInclude.push(_asset);\n                  return _context2.abrupt(\"continue\", 44);\n\n                case 42:\n                  return _context2.abrupt(\"continue\", 44);\n\n                case 43:\n                  throw new Error(\"Invariant violation: Unknown dependency type '\".concat(dependency.type, \"'\"));\n\n                case 44:\n                  _iteratorNormalCompletion5 = true;\n                  _context2.next = 32;\n                  break;\n\n                case 47:\n                  _context2.next = 53;\n                  break;\n\n                case 49:\n                  _context2.prev = 49;\n                  _context2.t1 = _context2[\"catch\"](30);\n                  _didIteratorError5 = true;\n                  _iteratorError5 = _context2.t1;\n\n                case 53:\n                  _context2.prev = 53;\n                  _context2.prev = 54;\n\n                  if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n                    _iterator5.return();\n                  }\n\n                case 56:\n                  _context2.prev = 56;\n\n                  if (!_didIteratorError5) {\n                    _context2.next = 59;\n                    break;\n                  }\n\n                  throw _iteratorError5;\n\n                case 59:\n                  return _context2.finish(56);\n\n                case 60:\n                  return _context2.finish(53);\n\n                case 61:\n                  if (asset.magicString) {\n                    _context2.next = 63;\n                    break;\n                  }\n\n                  throw new Error(\"Invariant violation: asset is not loaded '\".concat(asset.href, \"'\"));\n\n                case 63:\n                  magicString = asset.magicString.clone();\n                  magicString.intro = asset.magicString.intro;\n                  magicString.outro = asset.magicString.outro;\n                  magicString.trim(); // We'll replace each dependency string with the resolved stable href. The stable href doesn't require any\n                  // information about where it is being resolved from, so it is useful as a long-term pointer whose target\n                  // can change over time\n\n                  _iteratorNormalCompletion6 = true;\n                  _didIteratorError6 = false;\n                  _iteratorError6 = undefined;\n                  _context2.prev = 70;\n                  _iterator6 = asset.dependencies[Symbol.iterator]();\n\n                case 72:\n                  if (_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done) {\n                    _context2.next = 87;\n                    break;\n                  }\n\n                  _dependency = _step6.value;\n                  _context2.t2 = _dependency.type;\n                  _context2.next = _context2.t2 === Asset.DependencyKind.Require ? 77 : _context2.t2 === Asset.DependencyKind.RequireResolve ? 79 : _context2.t2 === Asset.DependencyKind.InjectedGlobal ? 81 : 83;\n                  break;\n\n                case 77:\n                  magicString.overwrite(_dependency.spec.start, _dependency.spec.end, JSON.stringify(_dependency.href)); // magicString.overwrite(dependency.callee.start, dependency.callee.end, '__velcro_require');\n\n                  return _context2.abrupt(\"break\", 84);\n\n                case 79:\n                  magicString.overwrite(_dependency.spec.start, _dependency.spec.end, JSON.stringify(_dependency.href)); // magicString.overwrite(dependency.callee.start, dependency.callee.end, '__velcro_require_resolve');\n\n                  return _context2.abrupt(\"break\", 84);\n\n                case 81:\n                  magicString.prepend(\"const \".concat(_dependency.symbolName, \" = require(\").concat(JSON.stringify(_dependency.href), \")\").concat(_dependency.exportName ? \".\".concat(_dependency.exportName) : '', \";\\n\"));\n                  return _context2.abrupt(\"break\", 84);\n\n                case 83:\n                  throw new Error(\"Invariant violation: Encountered unexpected dependency kind '\".concat(_dependency.type, \"'\"));\n\n                case 84:\n                  _iteratorNormalCompletion6 = true;\n                  _context2.next = 72;\n                  break;\n\n                case 87:\n                  _context2.next = 93;\n                  break;\n\n                case 89:\n                  _context2.prev = 89;\n                  _context2.t3 = _context2[\"catch\"](70);\n                  _didIteratorError6 = true;\n                  _iteratorError6 = _context2.t3;\n\n                case 93:\n                  _context2.prev = 93;\n                  _context2.prev = 94;\n\n                  if (!_iteratorNormalCompletion6 && _iterator6.return != null) {\n                    _iterator6.return();\n                  }\n\n                case 96:\n                  _context2.prev = 96;\n\n                  if (!_didIteratorError6) {\n                    _context2.next = 99;\n                    break;\n                  }\n\n                  throw _iteratorError6;\n\n                case 99:\n                  return _context2.finish(96);\n\n                case 100:\n                  return _context2.finish(93);\n\n                case 101:\n                  magicString.trim();\n                  magicString.prepend(\"Velcro.runtime.register(\".concat(JSON.stringify(asset.href), \", function(module, exports, require, __dirname, __filename){\\n\"));\n                  magicString.append('\\n});');\n                  bundle.addSource(magicString);\n                  _context2.next = 22;\n                  break;\n\n                case 107:\n                  bundle.prepend(\"(\".concat(createRuntime.toString(), \")(typeof globalThis === 'object' ? (globalThis.Velcro || (globalThis.Velcro = {})) : (this.Velcro || (this.Velcro = {})));\\n\"));\n\n                  if (options.requireEntrypoints) {\n                    for (entrypoint in entrypointsToAssets) {\n                      _asset2 = entrypointsToAssets[entrypoint];\n                      bundle.append(\"Velcro.runtime.require(\".concat(JSON.stringify(_asset2.href), \");\\n\"));\n                    }\n                  }\n\n                  bundleCode = bundle.toString();\n                  sourceMapSuffix = '';\n\n                  if (options.sourceMap) {\n                    sourceMap = bundle.generateMap({\n                      includeContent: false,\n                      hires: false\n                    });\n                    sourceMap.file = \"velcro://bundle.js\"; // In case a source map seems to be self-referential, avoid crashing\n\n                    seen = new Set();\n                    combinedMap = remapping(sourceMap.toString(), function (uri) {\n                      var asset = _this18.assetsByHref.get(uri);\n\n                      if (asset && asset.sourceMappingUrl) {\n                        if (seen.has(asset)) {\n                          return null;\n                        }\n\n                        seen.add(asset);\n                        var match = asset.sourceMappingUrl.match(/^data:application\\/json;(?:charset=([^;]+);)?base64,(.*)$/);\n\n                        if (match) {\n                          if (match[1] && match[1] !== 'utf-8') {\n                            return null;\n                          }\n\n                          try {\n                            var decoded = JSON.parse(base64_1.decode(match[2]));\n                            return decoded;\n                          } catch (err) {\n                            return null;\n                          }\n                        }\n                      }\n\n                      return null;\n                    }, false);\n                    sourceMapSuffix = \"\\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64_1.encode(JSON.stringify(combinedMap)));\n                  }\n\n                  return _context2.abrupt(\"return\", \"\".concat(bundleCode).concat(sourceMapSuffix));\n\n                case 113:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this, [[30, 49, 53, 61], [54,, 56, 60], [70, 89, 93, 101], [94,, 96, 100]]);\n        }));\n\n        function generateBundleCode(_x4) {\n          return _generateBundleCode.apply(this, arguments);\n        }\n\n        return generateBundleCode;\n      }()\n    }, {\n      key: \"invalidate\",\n      value: function () {\n        var _invalidate = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee3(spec) {\n          var _ref9,\n              token,\n              asset,\n              resolveResult,\n              combinedUri,\n              _args3 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  _ref9 = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : {}, token = _ref9.token;\n                  asset = this.assetsByHref.get(spec);\n\n                  if (asset) {\n                    _context3.next = 25;\n                    break;\n                  }\n\n                  // We can't use Bundler::resolveWithDetails() because that will throw\n                  // when a module isn't found. We just want to attempt to resolve and\n                  // return true / false accordingly.\n                  resolveResult = undefined;\n                  _context3.prev = 4;\n\n                  if (!isBareModuleSpecifier(spec)) {\n                    _context3.next = 11;\n                    break;\n                  }\n\n                  _context3.next = 8;\n                  return resolveBareModuleToUnpkgWithDetails(this.resolver, spec, undefined, {\n                    token: token\n                  });\n\n                case 8:\n                  resolveResult = _context3.sent;\n                  _context3.next = 15;\n                  break;\n\n                case 11:\n                  combinedUri = new URL(spec);\n                  _context3.next = 14;\n                  return this.resolver.resolve(combinedUri, {\n                    token: token\n                  });\n\n                case 14:\n                  resolveResult = _context3.sent;\n\n                case 15:\n                  _context3.next = 22;\n                  break;\n\n                case 17:\n                  _context3.prev = 17;\n                  _context3.t0 = _context3[\"catch\"](4);\n\n                  if (!(_context3.t0 instanceof EntryNotFoundError)) {\n                    _context3.next = 21;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", false);\n\n                case 21:\n                  throw _context3.t0;\n\n                case 22:\n                  if (!(!resolveResult || !resolveResult.resolvedUrl)) {\n                    _context3.next = 24;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", false);\n\n                case 24:\n                  asset = this.assetsByHref.get(resolveResult.resolvedUrl.href);\n\n                case 25:\n                  if (!asset) {\n                    _context3.next = 28;\n                    break;\n                  }\n\n                  this.removeAsset(asset);\n                  return _context3.abrupt(\"return\", true);\n\n                case 28:\n                  return _context3.abrupt(\"return\", false);\n\n                case 29:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this, [[4, 17]]);\n        }));\n\n        function invalidate(_x5) {\n          return _invalidate.apply(this, arguments);\n        }\n\n        return invalidate;\n      }()\n    }, {\n      key: \"addAsset\",\n      value: function addAsset(asset) {\n        var hadAsset = this.assetsByHref.has(asset.href);\n        this.assetsByHref.set(asset.href, asset);\n        var assetsByRootHref = this.assetsByRootHref.get(asset.rootHref);\n\n        if (!assetsByRootHref) {\n          assetsByRootHref = new Set();\n          this.assetsByRootHref.set(asset.rootHref, assetsByRootHref);\n        }\n\n        assetsByRootHref.add(asset);\n\n        if (!hadAsset) {\n          this.onAssetAddedEmitter.fire(asset);\n        }\n      }\n    }, {\n      key: \"removeAsset\",\n      value: function removeAsset(asset) {\n        var hadAsset = this.assetsByHref.delete(asset.href);\n        var assetsByRootHref = this.assetsByRootHref.get(asset.rootHref);\n\n        if (assetsByRootHref) {\n          assetsByRootHref.delete(asset);\n        }\n\n        if (hadAsset) {\n          this.onAssetRemovedEmitter.fire(asset);\n        }\n      }\n    }, {\n      key: \"addUnresolved\",\n      value: function () {\n        var _addUnresolved = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee4(queue, href, fromHref, _ref10) {\n          var token, resolveKey, pendingResolve;\n          return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n              switch (_context4.prev = _context4.next) {\n                case 0:\n                  token = _ref10.token;\n                  resolveKey = \"\".concat(href).concat(RESOLVE_KEY_SEPARATOR).concat(fromHref);\n                  pendingResolve = this.pendingResolves.get(resolveKey);\n\n                  if (!pendingResolve) {\n                    pendingResolve = this.addResolving(queue, href, fromHref, {\n                      token: token\n                    });\n                    this.pendingResolves.set(resolveKey, pendingResolve);\n                  }\n\n                  _context4.prev = 4;\n                  _context4.next = 7;\n                  return pendingResolve;\n\n                case 7:\n                  return _context4.abrupt(\"return\", _context4.sent);\n\n                case 10:\n                  _context4.prev = 10;\n                  _context4.t0 = _context4[\"catch\"](4);\n\n                  if (!(_context4.t0 instanceof EntryNotFoundError)) {\n                    _context4.next = 14;\n                    break;\n                  }\n\n                  throw new ResolveError(href, fromHref);\n\n                case 14:\n                  throw _context4.t0;\n\n                case 15:\n                  _context4.prev = 15;\n                  this.pendingResolves.delete(resolveKey);\n                  return _context4.finish(15);\n\n                case 18:\n                case \"end\":\n                  return _context4.stop();\n              }\n            }\n          }, _callee4, this, [[4, 10, 15, 18]]);\n        }));\n\n        function addUnresolved(_x6, _x7, _x8, _x9) {\n          return _addUnresolved.apply(this, arguments);\n        }\n\n        return addUnresolved;\n      }()\n    }, {\n      key: \"addResolving\",\n      value: function () {\n        var _addResolving = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee5(queue, href, fromHref, _ref11) {\n          var token, resolveResult;\n          return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  token = _ref11.token;\n                  _context5.next = 3;\n                  return this.resolveWithDetails(href, fromHref, {\n                    token: token\n                  });\n\n                case 3:\n                  resolveResult = _context5.sent;\n                  return _context5.abrupt(\"return\", this.addResolved(queue, resolveResult.resolvedHref, resolveResult.rootHref, {\n                    token: token\n                  }));\n\n                case 5:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, this);\n        }));\n\n        function addResolving(_x10, _x11, _x12, _x13) {\n          return _addResolving.apply(this, arguments);\n        }\n\n        return addResolving;\n      }()\n    }, {\n      key: \"addResolved\",\n      value: function () {\n        var _addResolved = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee10(queue, href, rootHref, _ref12) {\n          var _this19 = this;\n\n          var token, asset, code, parser, parsedFile, _iteratorNormalCompletion7, _didIteratorError7, _iteratorError7, _loop, _iterator7, _step7, _iteratorNormalCompletion8, _didIteratorError8, _iteratorError8, _loop2, _iterator8, _step8, _iteratorNormalCompletion9, _didIteratorError9, _iteratorError9, _loop3, _iterator9, _step9, _ref14;\n\n          return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  token = _ref12.token;\n                  asset = this.assetsByHref.get(href);\n\n                  if (asset) {\n                    _context10.next = 82;\n                    break;\n                  }\n\n                  asset = new Asset(href, rootHref);\n                  this.addAsset(asset);\n                  _context10.prev = 5;\n                  _context10.next = 8;\n                  return this.readCode(href, {\n                    token: token\n                  });\n\n                case 8:\n                  code = _context10.sent;\n\n                  if (!token.isCancellationRequested) {\n                    _context10.next = 11;\n                    break;\n                  }\n\n                  throw new CanceledError$1('Canceled');\n\n                case 11:\n                  asset.setCode(code);\n                  _context10.next = 18;\n                  break;\n\n                case 14:\n                  _context10.prev = 14;\n                  _context10.t0 = _context10[\"catch\"](5);\n                  this.removeAsset(asset);\n                  throw _context10.t0;\n\n                case 18:\n                  parser = getParserForFile(href);\n                  parsedFile = parser.parse(href, asset.magicString);\n                  _iteratorNormalCompletion7 = true;\n                  _didIteratorError7 = false;\n                  _iteratorError7 = undefined;\n                  _context10.prev = 23;\n\n                  _loop = function _loop() {\n                    var dependency = _step7.value;\n                    queue.add(\n                    /*#__PURE__*/\n                    _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee6() {\n                      var dependencyAsset;\n                      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n                        while (1) {\n                          switch (_context6.prev = _context6.next) {\n                            case 0:\n                              _context6.next = 2;\n                              return _this19.addUnresolved(queue, dependency.spec.value, href, {\n                                token: token\n                              });\n\n                            case 2:\n                              dependencyAsset = _context6.sent;\n                              asset.dependencies.push({\n                                type: Asset.DependencyKind.Require,\n                                href: dependencyAsset.href,\n                                rootHref: dependencyAsset.rootHref,\n                                callee: dependency.callee,\n                                spec: dependency.spec,\n                                value: dependency.spec.value\n                              });\n                              return _context6.abrupt(\"return\", dependencyAsset);\n\n                            case 5:\n                            case \"end\":\n                              return _context6.stop();\n                          }\n                        }\n                      }, _callee6);\n                    })));\n                  };\n\n                  for (_iterator7 = parsedFile.requireDependencies[Symbol.iterator](); !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                    _loop();\n                  }\n\n                  _context10.next = 32;\n                  break;\n\n                case 28:\n                  _context10.prev = 28;\n                  _context10.t1 = _context10[\"catch\"](23);\n                  _didIteratorError7 = true;\n                  _iteratorError7 = _context10.t1;\n\n                case 32:\n                  _context10.prev = 32;\n                  _context10.prev = 33;\n\n                  if (!_iteratorNormalCompletion7 && _iterator7.return != null) {\n                    _iterator7.return();\n                  }\n\n                case 35:\n                  _context10.prev = 35;\n\n                  if (!_didIteratorError7) {\n                    _context10.next = 38;\n                    break;\n                  }\n\n                  throw _iteratorError7;\n\n                case 38:\n                  return _context10.finish(35);\n\n                case 39:\n                  return _context10.finish(32);\n\n                case 40:\n                  _iteratorNormalCompletion8 = true;\n                  _didIteratorError8 = false;\n                  _iteratorError8 = undefined;\n                  _context10.prev = 43;\n\n                  _loop2 = function _loop2() {\n                    var dependency = _step8.value;\n                    queue.add(\n                    /*#__PURE__*/\n                    _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee7() {\n                      var dependencyAsset;\n                      return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                        while (1) {\n                          switch (_context7.prev = _context7.next) {\n                            case 0:\n                              _context7.next = 2;\n                              return _this19.addUnresolved(queue, dependency.spec.value, href, {\n                                token: token\n                              });\n\n                            case 2:\n                              dependencyAsset = _context7.sent;\n                              asset.dependencies.push({\n                                type: Asset.DependencyKind.RequireResolve,\n                                href: dependencyAsset.href,\n                                rootHref: dependencyAsset.rootHref,\n                                callee: dependency.callee,\n                                spec: dependency.spec,\n                                value: dependency.spec.value\n                              });\n                              return _context7.abrupt(\"return\", dependencyAsset);\n\n                            case 5:\n                            case \"end\":\n                              return _context7.stop();\n                          }\n                        }\n                      }, _callee7);\n                    })));\n                  };\n\n                  for (_iterator8 = parsedFile.requireResolveDependencies[Symbol.iterator](); !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n                    _loop2();\n                  }\n\n                  _context10.next = 52;\n                  break;\n\n                case 48:\n                  _context10.prev = 48;\n                  _context10.t2 = _context10[\"catch\"](43);\n                  _didIteratorError8 = true;\n                  _iteratorError8 = _context10.t2;\n\n                case 52:\n                  _context10.prev = 52;\n                  _context10.prev = 53;\n\n                  if (!_iteratorNormalCompletion8 && _iterator8.return != null) {\n                    _iterator8.return();\n                  }\n\n                case 55:\n                  _context10.prev = 55;\n\n                  if (!_didIteratorError8) {\n                    _context10.next = 58;\n                    break;\n                  }\n\n                  throw _iteratorError8;\n\n                case 58:\n                  return _context10.finish(55);\n\n                case 59:\n                  return _context10.finish(52);\n\n                case 60:\n                  _iteratorNormalCompletion9 = true;\n                  _didIteratorError9 = false;\n                  _iteratorError9 = undefined;\n                  _context10.prev = 63;\n\n                  _loop3 = function _loop3() {\n                    var _ref13 = _step9.value;\n                    _ref14 = _slicedToArray(_ref13, 2);\n                    var symbolName = _ref14[0];\n                    var references = _ref14[1];\n                    var shim = DEFAULT_SHIM_GLOBALS[symbolName];\n\n                    if (shim) {\n                      queue.add(\n                      /*#__PURE__*/\n                      _asyncToGenerator(\n                      /*#__PURE__*/\n                      _regeneratorRuntime.mark(function _callee8() {\n                        var dependencyAsset;\n                        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n                          while (1) {\n                            switch (_context8.prev = _context8.next) {\n                              case 0:\n                                _context8.next = 2;\n                                return _this19.addUnresolved(queue, shim.spec, href, {\n                                  token: token\n                                });\n\n                              case 2:\n                                dependencyAsset = _context8.sent;\n                                asset.dependencies.push({\n                                  type: Asset.DependencyKind.InjectedGlobal,\n                                  href: dependencyAsset.href,\n                                  rootHref: dependencyAsset.rootHref,\n                                  references: references,\n                                  exportName: shim.export,\n                                  symbolName: symbolName,\n                                  value: \"\".concat(shim.spec).concat(shim.export ? \"[\".concat(JSON.stringify(shim.export), \"]\") : '')\n                                });\n                                return _context8.abrupt(\"return\", dependencyAsset);\n\n                              case 5:\n                              case \"end\":\n                                return _context8.stop();\n                            }\n                          }\n                        }, _callee8);\n                      })));\n                    }\n                  };\n\n                  for (_iterator9 = parsedFile.unboundSymbols[Symbol.iterator](); !(_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done); _iteratorNormalCompletion9 = true) {\n                    _loop3();\n                  }\n\n                  _context10.next = 72;\n                  break;\n\n                case 68:\n                  _context10.prev = 68;\n                  _context10.t3 = _context10[\"catch\"](63);\n                  _didIteratorError9 = true;\n                  _iteratorError9 = _context10.t3;\n\n                case 72:\n                  _context10.prev = 72;\n                  _context10.prev = 73;\n\n                  if (!_iteratorNormalCompletion9 && _iterator9.return != null) {\n                    _iterator9.return();\n                  }\n\n                case 75:\n                  _context10.prev = 75;\n\n                  if (!_didIteratorError9) {\n                    _context10.next = 78;\n                    break;\n                  }\n\n                  throw _iteratorError9;\n\n                case 78:\n                  return _context10.finish(75);\n\n                case 79:\n                  return _context10.finish(72);\n\n                case 80:\n                  _context10.next = 83;\n                  break;\n\n                case 82:\n                  (function () {\n                    var existingAsset = asset; // We already have an asset instance, let's make sure dependencies are OK\n\n                    var _iteratorNormalCompletion10 = true;\n                    var _didIteratorError10 = false;\n                    var _iteratorError10 = undefined;\n\n                    try {\n                      var _loop4 = function _loop4() {\n                        var dependency = _step10.value;\n\n                        if (!_this19.assetsByHref.has(dependency.href)) {\n                          queue.add(\n                          /*#__PURE__*/\n                          _asyncToGenerator(\n                          /*#__PURE__*/\n                          _regeneratorRuntime.mark(function _callee9() {\n                            return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n                              while (1) {\n                                switch (_context9.prev = _context9.next) {\n                                  case 0:\n                                    return _context9.abrupt(\"return\", _this19.addUnresolved(queue, dependency.value, existingAsset.href, {\n                                      token: token\n                                    }));\n\n                                  case 1:\n                                  case \"end\":\n                                    return _context9.stop();\n                                }\n                              }\n                            }, _callee9);\n                          })));\n                        }\n                      };\n\n                      for (var _iterator10 = existingAsset.dependencies[Symbol.iterator](), _step10; !(_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done); _iteratorNormalCompletion10 = true) {\n                        _loop4();\n                      }\n                    } catch (err) {\n                      _didIteratorError10 = true;\n                      _iteratorError10 = err;\n                    } finally {\n                      try {\n                        if (!_iteratorNormalCompletion10 && _iterator10.return != null) {\n                          _iterator10.return();\n                        }\n                      } finally {\n                        if (_didIteratorError10) {\n                          throw _iteratorError10;\n                        }\n                      }\n                    }\n                  })();\n\n                case 83:\n                  return _context10.abrupt(\"return\", asset);\n\n                case 84:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee10, this, [[5, 14], [23, 28, 32, 40], [33,, 35, 39], [43, 48, 52, 60], [53,, 55, 59], [63, 68, 72, 80], [73,, 75, 79]]);\n        }));\n\n        function addResolved(_x14, _x15, _x16, _x17) {\n          return _addResolved.apply(this, arguments);\n        }\n\n        return addResolved;\n      }()\n    }, {\n      key: \"readCode\",\n      value: function () {\n        var _readCode = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee11(uri, _ref19) {\n          var token, buf, code;\n          return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n            while (1) {\n              switch (_context11.prev = _context11.next) {\n                case 0:\n                  token = _ref19.token;\n\n                  if (!(uri === EMPTY_MODULE_HREF.href)) {\n                    _context11.next = 3;\n                    break;\n                  }\n\n                  return _context11.abrupt(\"return\", EMPTY_MODULE_CODE);\n\n                case 3:\n                  _context11.next = 5;\n                  return this.resolver.host.readFileContent(this.resolver, new URL(uri), {\n                    token: token\n                  });\n\n                case 5:\n                  buf = _context11.sent;\n                  code = this.resolver.decoder.decode(buf);\n                  return _context11.abrupt(\"return\", code);\n\n                case 8:\n                case \"end\":\n                  return _context11.stop();\n              }\n            }\n          }, _callee11, this);\n        }));\n\n        function readCode(_x18, _x19) {\n          return _readCode.apply(this, arguments);\n        }\n\n        return readCode;\n      }()\n    }, {\n      key: \"resolveWithDetails\",\n      value: function () {\n        var _resolveWithDetails = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee12(uri, fromUri, _ref20) {\n          var token, resolved, bareModuleResolveResult, resolvedHref, combinedUri, resolveResult, resolvedUri, _resolvedHref, rootHref;\n\n          return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n            while (1) {\n              switch (_context12.prev = _context12.next) {\n                case 0:\n                  token = _ref20.token;\n\n                  if (!isBareModuleSpecifier(uri)) {\n                    _context12.next = 13;\n                    break;\n                  }\n\n                  _context12.next = 4;\n                  return resolveBareModuleToUnpkgWithDetails(this.resolver, uri, fromUri, {\n                    token: token\n                  });\n\n                case 4:\n                  bareModuleResolveResult = _context12.sent;\n\n                  if (bareModuleResolveResult.stableUrl) {\n                    _context12.next = 7;\n                    break;\n                  }\n\n                  throw new Error(\"Failed to resolve bare module '\".concat(uri, \"' from '\").concat(fromUri || '@root', \"' to a stable url\"));\n\n                case 7:\n                  if (bareModuleResolveResult.stableRootUrl) {\n                    _context12.next = 9;\n                    break;\n                  }\n\n                  throw new Error(\"Failed to resolve bare module '\".concat(uri, \"' from '\").concat(fromUri || '@root', \"' to a stable root url\"));\n\n                case 9:\n                  resolvedHref = bareModuleResolveResult.resolvedUrl ? bareModuleResolveResult.resolvedUrl.href : EMPTY_MODULE_HREF.href;\n                  resolved = {\n                    type: Bundler.ResolveDetailsKind.BareModule,\n                    bareModule: {\n                      isBuiltIn: bareModuleResolveResult.bareModule.isBuiltIn,\n                      version: bareModuleResolveResult.bareModule.version,\n                      versionSpec: bareModuleResolveResult.bareModule.versionSpec\n                    },\n                    ignored: bareModuleResolveResult.ignored,\n                    resolvedHref: resolvedHref,\n                    rootHref: bareModuleResolveResult.rootUrl.href,\n                    stableHref: bareModuleResolveResult.stableUrl.href,\n                    stableRootHref: bareModuleResolveResult.stableRootUrl.href\n                  };\n                  _context12.next = 21;\n                  break;\n\n                case 13:\n                  combinedUri = new URL(uri, fromUri);\n                  _context12.next = 16;\n                  return this.resolver.resolve(combinedUri);\n\n                case 16:\n                  resolveResult = _context12.sent;\n\n                  if (!resolveResult.resolvedUrl) {\n                    resolvedUri = EMPTY_MODULE_HREF;\n                  } else {\n                    resolvedUri = resolveResult.resolvedUrl;\n                  }\n\n                  _resolvedHref = resolvedUri.href;\n                  rootHref = resolveResult.rootUrl.href;\n                  resolved = {\n                    type: Bundler.ResolveDetailsKind.Relative,\n                    ignored: resolveResult.ignored,\n                    resolvedHref: _resolvedHref,\n                    rootHref: rootHref,\n                    stableHref: _resolvedHref,\n                    stableRootHref: rootHref\n                  };\n\n                case 21:\n                  return _context12.abrupt(\"return\", resolved);\n\n                case 22:\n                case \"end\":\n                  return _context12.stop();\n              }\n            }\n          }, _callee12, this);\n        }));\n\n        function resolveWithDetails(_x20, _x21, _x22) {\n          return _resolveWithDetails.apply(this, arguments);\n        }\n\n        return resolveWithDetails;\n      }()\n    }, {\n      key: \"onAssetAdded\",\n      get: function get() {\n        return this.onAssetAddedEmitter.event;\n      }\n    }, {\n      key: \"onAssetRemoved\",\n      get: function get() {\n        return this.onAssetRemovedEmitter.event;\n      }\n    }]);\n\n    return Bundler;\n  }();\n\n  (function (Bundler) {\n    var ResolveDetailsKind;\n\n    (function (ResolveDetailsKind) {\n      ResolveDetailsKind[\"BareModule\"] = \"bare_module\";\n      ResolveDetailsKind[\"Relative\"] = \"relative\";\n    })(ResolveDetailsKind = Bundler.ResolveDetailsKind || (Bundler.ResolveDetailsKind = {}));\n  })(Bundler || (Bundler = {}));\n\n  function getParserForFile(uri) {\n    if (uri.endsWith('.json')) {\n      return {\n        parse: function parse(_uri, magicString) {\n          magicString.prepend('module.exports = ');\n          return {\n            requireDependencies: [],\n            requireResolveDependencies: [],\n            unboundSymbols: new Map()\n          };\n        }\n      };\n    }\n\n    return {\n      parse: parseFile\n    };\n  } // export * from '@velcro/resolver';\n\n\n  var Velcro =\n  /*#__PURE__*/\n  Object.freeze({\n    get CancellationToken() {\n      return exports.CancellationToken;\n    },\n\n    CancellationTokenSource: CancellationTokenSource,\n\n    get Asset() {\n      return Asset;\n    },\n\n    get Bundler() {\n      return Bundler;\n    },\n\n    ResolveError: ResolveError,\n    CanceledError: CanceledError\n  });\n  var Runtime = createRuntime(globalThis['Velcro'] || (globalThis['Velcro'] = _objectSpread({}, Velcro)));\n  var runtime = new Runtime();\n  exports.Asset = Asset;\n  exports.Bundler = Bundler;\n  exports.CanceledError = CanceledError;\n  exports.CancellationTokenSource = CancellationTokenSource;\n  exports.ResolveError = ResolveError;\n  exports.runtime = runtime;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","var _defineProperty = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/defineProperty\");\n\nvar _regeneratorRuntime = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _slicedToArray = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _possibleConstructorReturn = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _assertThisInitialized = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _wrapNativeSuper = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\n\nvar _classCallCheck = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/createClass\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = global || self, factory(global.Velcro = global.Velcro || {}));\n})(this, function (exports) {\n  'use strict';\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n  // Avoid circular dependency on EventEmitter by implementing a subset of the interface.\n\n  var ErrorHandler =\n  /*#__PURE__*/\n  function () {\n    function ErrorHandler() {\n      _classCallCheck(this, ErrorHandler);\n\n      this.listeners = [];\n\n      this.unexpectedErrorHandler = function (e) {\n        setTimeout(function () {\n          if (e.stack) {\n            throw new Error(e.message + '\\n\\n' + e.stack);\n          }\n\n          throw e;\n        }, 0);\n      };\n    }\n\n    _createClass(ErrorHandler, [{\n      key: \"addListener\",\n      value: function addListener(listener) {\n        var _this = this;\n\n        this.listeners.push(listener);\n        return function () {\n          _this._removeListener(listener);\n        };\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(e) {\n        this.listeners.forEach(function (listener) {\n          listener(e);\n        });\n      }\n    }, {\n      key: \"_removeListener\",\n      value: function _removeListener(listener) {\n        this.listeners.splice(this.listeners.indexOf(listener), 1);\n      }\n    }, {\n      key: \"setUnexpectedErrorHandler\",\n      value: function setUnexpectedErrorHandler(newUnexpectedErrorHandler) {\n        this.unexpectedErrorHandler = newUnexpectedErrorHandler;\n      }\n    }, {\n      key: \"getUnexpectedErrorHandler\",\n      value: function getUnexpectedErrorHandler() {\n        return this.unexpectedErrorHandler;\n      }\n    }, {\n      key: \"onUnexpectedError\",\n      value: function onUnexpectedError(e) {\n        this.unexpectedErrorHandler(e);\n        this.emit(e);\n      } // For external errors, we don't want the listeners to be called\n\n    }, {\n      key: \"onUnexpectedExternalError\",\n      value: function onUnexpectedExternalError(e) {\n        this.unexpectedErrorHandler(e);\n      }\n    }]);\n\n    return ErrorHandler;\n  }();\n\n  var errorHandler = new ErrorHandler();\n\n  function onUnexpectedError(e) {\n    // ignore errors from cancelled promises\n    if (!isPromiseCanceledError(e)) {\n      errorHandler.onUnexpectedError(e);\n    }\n\n    return undefined;\n  }\n\n  var ExtendableError =\n  /*#__PURE__*/\n  function (_Error) {\n    _inherits(ExtendableError, _Error);\n\n    function ExtendableError(message) {\n      var _this2;\n\n      _classCallCheck(this, ExtendableError);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError).call(this, message));\n      _this2.name = _this2.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this2), _this2.constructor);\n      } else {\n        _this2.stack = new Error(message).stack;\n      }\n\n      return _this2;\n    }\n\n    return ExtendableError;\n  }(_wrapNativeSuper(Error));\n\n  var CanceledError =\n  /*#__PURE__*/\n  function (_ExtendableError) {\n    _inherits(CanceledError, _ExtendableError);\n\n    function CanceledError() {\n      _classCallCheck(this, CanceledError);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(CanceledError).apply(this, arguments));\n    }\n\n    return CanceledError;\n  }(ExtendableError);\n  /**\r\n   * Checks if the given error is a promise in canceled state\r\n   */\n\n\n  function isPromiseCanceledError(error) {\n    return error instanceof CanceledError;\n  }\n\n  function _dispose(first) {\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    if (Array.isArray(first)) {\n      first.forEach(function (d) {\n        return d && d.dispose();\n      });\n      return [];\n    } else if (rest.length === 0) {\n      if (first) {\n        first.dispose();\n        return first;\n      }\n\n      return undefined;\n    } else {\n      _dispose(first);\n\n      _dispose(rest);\n\n      return [];\n    }\n  }\n\n  function combinedDisposable() {\n    for (var _len2 = arguments.length, disposables = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      disposables[_key2] = arguments[_key2];\n    }\n\n    return {\n      dispose: function dispose() {\n        return _dispose(disposables);\n      }\n    };\n  }\n\n  var DisposableStore =\n  /*#__PURE__*/\n  function () {\n    function DisposableStore() {\n      _classCallCheck(this, DisposableStore);\n\n      this._toDispose = new Set();\n      this._isDisposed = false;\n    }\n    /**\r\n     * Dispose of all registered disposables and mark this object as disposed.\r\n     *\r\n     * Any future disposables added to this object will be disposed of on `add`.\r\n     */\n\n\n    _createClass(DisposableStore, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._isDisposed = true;\n        this.clear();\n      }\n      /**\r\n       * Dispose of all registered disposables but do not mark this object as disposed.\r\n       */\n\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._toDispose.forEach(function (item) {\n          return item.dispose();\n        });\n\n        this._toDispose.clear();\n      }\n    }, {\n      key: \"add\",\n      value: function add(t) {\n        if (this._isDisposed) {\n          console.warn('Registering disposable on object that has already been disposed.');\n          t.dispose();\n        } else {\n          this._toDispose.add(t);\n        }\n\n        return t;\n      }\n    }]);\n\n    return DisposableStore;\n  }();\n\n  var Disposable =\n  /*#__PURE__*/\n  function () {\n    function Disposable() {\n      _classCallCheck(this, Disposable);\n\n      this._store = new DisposableStore();\n    }\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._store.dispose();\n      }\n    }, {\n      key: \"_register\",\n      value: function _register(t) {\n        return this._store.add(t);\n      }\n    }]);\n\n    return Disposable;\n  }();\n\n  Disposable.None = Object.freeze({\n    dispose: function dispose() {}\n  });\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var FIN = {\n    done: true,\n    value: undefined\n  };\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var Node = function Node(element) {\n    _classCallCheck(this, Node);\n\n    this.element = element;\n    this.next = Node.Undefined;\n    this.prev = Node.Undefined;\n  };\n\n  Node.Undefined = new Node(undefined);\n\n  var LinkedList =\n  /*#__PURE__*/\n  function () {\n    function LinkedList() {\n      _classCallCheck(this, LinkedList);\n\n      this._first = Node.Undefined;\n      this._last = Node.Undefined;\n      this._size = 0;\n    }\n\n    _createClass(LinkedList, [{\n      key: \"isEmpty\",\n      value: function isEmpty() {\n        return this._first === Node.Undefined;\n      }\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._first = Node.Undefined;\n        this._last = Node.Undefined;\n        this._size = 0;\n      }\n    }, {\n      key: \"unshift\",\n      value: function unshift(element) {\n        return this._insert(element, false);\n      }\n    }, {\n      key: \"push\",\n      value: function push(element) {\n        return this._insert(element, true);\n      }\n    }, {\n      key: \"_insert\",\n      value: function _insert(element, atTheEnd) {\n        var _this3 = this;\n\n        var newNode = new Node(element);\n\n        if (this._first === Node.Undefined) {\n          this._first = newNode;\n          this._last = newNode;\n        } else if (atTheEnd) {\n          // push\n          var oldLast = this._last;\n          this._last = newNode;\n          newNode.prev = oldLast;\n          oldLast.next = newNode;\n        } else {\n          // unshift\n          var oldFirst = this._first;\n          this._first = newNode;\n          newNode.next = oldFirst;\n          oldFirst.prev = newNode;\n        }\n\n        this._size += 1;\n        var didRemove = false;\n        return function () {\n          if (!didRemove) {\n            didRemove = true;\n\n            _this3._remove(newNode);\n          }\n        };\n      }\n    }, {\n      key: \"shift\",\n      value: function shift() {\n        if (this._first === Node.Undefined) {\n          return undefined;\n        } else {\n          var res = this._first.element;\n\n          this._remove(this._first);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"pop\",\n      value: function pop() {\n        if (this._last === Node.Undefined) {\n          return undefined;\n        } else {\n          var res = this._last.element;\n\n          this._remove(this._last);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"_remove\",\n      value: function _remove(node) {\n        if (node.prev !== Node.Undefined && node.next !== Node.Undefined) {\n          // middle\n          var anchor = node.prev;\n          anchor.next = node.next;\n          node.next.prev = anchor;\n        } else if (node.prev === Node.Undefined && node.next === Node.Undefined) {\n          // only node\n          this._first = Node.Undefined;\n          this._last = Node.Undefined;\n        } else if (node.next === Node.Undefined) {\n          // last\n          this._last = this._last.prev;\n          this._last.next = Node.Undefined;\n        } else if (node.prev === Node.Undefined) {\n          // first\n          this._first = this._first.next;\n          this._first.prev = Node.Undefined;\n        } // done\n\n\n        this._size -= 1;\n      }\n    }, {\n      key: \"iterator\",\n      value: function iterator() {\n        var element;\n        var node = this._first;\n        return {\n          next: function next() {\n            if (node === Node.Undefined) {\n              return FIN;\n            }\n\n            if (!element) {\n              element = {\n                done: false,\n                value: node.element\n              };\n            } else {\n              element.value = node.element;\n            }\n\n            node = node.next;\n            return element;\n          }\n        };\n      }\n    }, {\n      key: \"toArray\",\n      value: function toArray() {\n        var result = [];\n\n        for (var node = this._first; node !== Node.Undefined; node = node.next) {\n          result.push(node.element);\n        }\n\n        return result;\n      }\n    }, {\n      key: \"size\",\n      get: function get() {\n        return this._size;\n      }\n    }]);\n\n    return LinkedList;\n  }();\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var Event;\n\n  (function (Event) {\n    var _disposable = {\n      dispose: function dispose() {}\n    };\n\n    Event.None = function () {\n      return _disposable;\n    };\n    /**\r\n     * Given an event, returns another event which only fires once.\r\n     */\n\n\n    function _once(event) {\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        // we need this, in case the event fires during the listener call\n        var didFire = false;\n        var result;\n        result = event(function (e) {\n          if (didFire) {\n            return;\n          } else if (result) {\n            result.dispose();\n          } else {\n            didFire = true;\n          }\n\n          return listener.call(thisArgs, e);\n        }, null, disposables);\n\n        if (didFire) {\n          result.dispose();\n        }\n\n        return result;\n      };\n    }\n\n    Event.once = _once;\n    /**\r\n     * Given an event and a `map` function, returns another event which maps each element\r\n     * throught the mapping function.\r\n     */\n\n    function _map(event, map) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          return listener.call(thisArgs, map(i));\n        }, null, disposables);\n      });\n    }\n\n    Event.map = _map;\n    /**\r\n     * Given an event and an `each` function, returns another identical event and calls\r\n     * the `each` function per each element.\r\n     */\n\n    function _forEach(event, each) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          each(i);\n          listener.call(thisArgs, i);\n        }, null, disposables);\n      });\n    }\n\n    Event.forEach = _forEach;\n\n    function _filter(event, filter) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (e) {\n          return filter(e) && listener.call(thisArgs, e);\n        }, null, disposables);\n      });\n    }\n\n    Event.filter = _filter;\n    /**\r\n     * Given an event, returns the same event but typed as `Event<void>`.\r\n     */\n\n    function signal(event) {\n      return event;\n    }\n\n    Event.signal = signal;\n    /**\r\n     * Given a collection of events, returns a single event which emits\r\n     * whenever any of the provided events emit.\r\n     */\n\n    function any() {\n      for (var _len3 = arguments.length, events = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        events[_key3] = arguments[_key3];\n      }\n\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return combinedDisposable.apply(void 0, _toConsumableArray(events.map(function (event) {\n          return event(function (e) {\n            return listener.call(thisArgs, e);\n          }, null, disposables);\n        })));\n      };\n    }\n\n    Event.any = any;\n    /**\r\n     * Given an event and a `merge` function, returns another event which maps each element\r\n     * and the cummulative result throught the `merge` function. Similar to `map`, but with memory.\r\n     */\n\n    function _reduce(event, merge, initial) {\n      var output = initial;\n      return _map(event, function (e) {\n        output = merge(output, e);\n        return output;\n      });\n    }\n\n    Event.reduce = _reduce;\n    /**\r\n     * Given a chain of event processing functions (filter, map, etc), each\r\n     * function will be invoked per event & per listener. Snapshotting an event\r\n     * chain allows each function to be invoked just once per event.\r\n     */\n\n    function snapshot(event) {\n      var listener;\n      var emitter = new Emitter({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          listener = event(emitter.fire, emitter);\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          listener.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.snapshot = snapshot;\n\n    function debounce(event, merge) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n      var leading = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var leakWarningThreshold = arguments.length > 4 ? arguments[4] : undefined;\n      var subscription;\n      var output = undefined;\n      var handle = undefined;\n      var numDebouncedCalls = 0;\n      var emitter = new Emitter({\n        leakWarningThreshold: leakWarningThreshold,\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          subscription = event(function (cur) {\n            numDebouncedCalls++;\n            output = merge(output, cur);\n\n            if (leading && !handle) {\n              emitter.fire(output);\n            }\n\n            clearTimeout(handle);\n            handle = setTimeout(function () {\n              var _output = output;\n              output = undefined;\n              handle = undefined;\n\n              if (!leading || numDebouncedCalls > 1) {\n                emitter.fire(_output);\n              }\n\n              numDebouncedCalls = 0;\n            }, delay);\n          });\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          subscription.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.debounce = debounce;\n    /**\r\n     * Given an event, it returns another event which fires only once and as soon as\r\n     * the input event emits. The event data is the number of millis it took for the\r\n     * event to fire.\r\n     */\n\n    function stopwatch(event) {\n      var start = new Date().getTime();\n      return _map(_once(event), function (_) {\n        return new Date().getTime() - start;\n      });\n    }\n\n    Event.stopwatch = stopwatch;\n    /**\r\n     * Given an event, it returns another event which fires only when the event\r\n     * element changes.\r\n     */\n\n    function _latch(event) {\n      var firstCall = true;\n      var cache;\n      return _filter(event, function (value) {\n        var shouldEmit = firstCall || value !== cache;\n        firstCall = false;\n        cache = value;\n        return shouldEmit;\n      });\n    }\n\n    Event.latch = _latch;\n    /**\r\n     * Buffers the provided event until a first listener comes\r\n     * along, at which point fire all the events at once and\r\n     * pipe the event from then on.\r\n     *\r\n     * ```typescript\r\n     * const emitter = new Emitter<number>();\r\n     * const event = emitter.event;\r\n     * const bufferedEvent = buffer(event);\r\n     *\r\n     * emitter.fire(1);\r\n     * emitter.fire(2);\r\n     * emitter.fire(3);\r\n     * // nothing...\r\n     *\r\n     * const listener = bufferedEvent(num => console.log(num));\r\n     * // 1, 2, 3\r\n     *\r\n     * emitter.fire(4);\r\n     * // 4\r\n     * ```\r\n     */\n\n    function buffer(event) {\n      var nextTick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _buffer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      var buffer = _buffer.slice();\n\n      var listener = event(function (e) {\n        if (buffer) {\n          buffer.push(e);\n        } else {\n          emitter.fire(e);\n        }\n      });\n\n      var flush = function flush() {\n        if (buffer) {\n          buffer.forEach(function (e) {\n            return emitter.fire(e);\n          });\n        }\n\n        buffer = null;\n      };\n\n      var emitter = new Emitter({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          if (!listener) {\n            listener = event(function (e) {\n              return emitter.fire(e);\n            });\n          }\n        },\n        onFirstListenerDidAdd: function onFirstListenerDidAdd() {\n          if (buffer) {\n            if (nextTick) {\n              setTimeout(flush, 0);\n            } else {\n              flush();\n            }\n          }\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          if (listener) {\n            listener.dispose();\n          }\n\n          listener = null;\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.buffer = buffer;\n\n    var ChainableEvent =\n    /*#__PURE__*/\n    function () {\n      function ChainableEvent(event) {\n        _classCallCheck(this, ChainableEvent);\n\n        this.event = event;\n      }\n\n      _createClass(ChainableEvent, [{\n        key: \"map\",\n        value: function map(fn) {\n          return new ChainableEvent(_map(this.event, fn));\n        }\n      }, {\n        key: \"forEach\",\n        value: function forEach(fn) {\n          return new ChainableEvent(_forEach(this.event, fn));\n        }\n      }, {\n        key: \"filter\",\n        value: function filter(fn) {\n          return new ChainableEvent(_filter(this.event, fn));\n        }\n      }, {\n        key: \"reduce\",\n        value: function reduce(merge, initial) {\n          return new ChainableEvent(_reduce(this.event, merge, initial));\n        }\n      }, {\n        key: \"latch\",\n        value: function latch() {\n          return new ChainableEvent(_latch(this.event));\n        }\n      }, {\n        key: \"on\",\n        value: function on(listener, thisArgs, disposables) {\n          return this.event(listener, thisArgs, disposables);\n        }\n      }, {\n        key: \"once\",\n        value: function once(listener, thisArgs, disposables) {\n          return _once(this.event)(listener, thisArgs, disposables);\n        }\n      }]);\n\n      return ChainableEvent;\n    }();\n\n    function chain(event) {\n      return new ChainableEvent(event);\n    }\n\n    Event.chain = chain;\n\n    function fromNodeEventEmitter(emitter, eventName) {\n      var map = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (id) {\n        return id;\n      };\n\n      var fn = function fn() {\n        return result.fire(map.apply(void 0, arguments));\n      };\n\n      var onFirstListenerAdd = function onFirstListenerAdd() {\n        return emitter.on(eventName, fn);\n      };\n\n      var onLastListenerRemove = function onLastListenerRemove() {\n        return emitter.removeListener(eventName, fn);\n      };\n\n      var result = new Emitter({\n        onFirstListenerAdd: onFirstListenerAdd,\n        onLastListenerRemove: onLastListenerRemove\n      });\n      return result.event;\n    }\n\n    Event.fromNodeEventEmitter = fromNodeEventEmitter;\n\n    function fromPromise(promise) {\n      var emitter = new Emitter();\n      var shouldEmit = false;\n      promise.then(undefined, function () {\n        return null;\n      }).then(function () {\n        if (!shouldEmit) {\n          setTimeout(function () {\n            return emitter.fire(undefined);\n          }, 0);\n        } else {\n          emitter.fire(undefined);\n        }\n      });\n      shouldEmit = true;\n      return emitter.event;\n    }\n\n    Event.fromPromise = fromPromise;\n\n    function toPromise(event) {\n      return new Promise(function (c) {\n        return _once(event)(c);\n      });\n    }\n\n    Event.toPromise = toPromise;\n  })(Event || (Event = {}));\n\n  var _globalLeakWarningThreshold = -1;\n\n  var LeakageMonitor =\n  /*#__PURE__*/\n  function () {\n    function LeakageMonitor(customThreshold) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Math.random().toString(18).slice(2, 5);\n\n      _classCallCheck(this, LeakageMonitor);\n\n      this.customThreshold = customThreshold;\n      this.name = name;\n      this._warnCountdown = 0;\n    }\n\n    _createClass(LeakageMonitor, [{\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._stacks) {\n          this._stacks.clear();\n        }\n      }\n    }, {\n      key: \"check\",\n      value: function check(listenerCount) {\n        var _this4 = this;\n\n        var threshold = _globalLeakWarningThreshold;\n\n        if (typeof this.customThreshold === 'number') {\n          threshold = this.customThreshold;\n        }\n\n        if (threshold <= 0 || listenerCount < threshold) {\n          return undefined;\n        }\n\n        if (!this._stacks) {\n          this._stacks = new Map();\n        }\n\n        var stack = new Error().stack.split('\\n').slice(3).join('\\n');\n        var count = this._stacks.get(stack) || 0;\n\n        this._stacks.set(stack, count + 1);\n\n        this._warnCountdown -= 1;\n\n        if (this._warnCountdown <= 0) {\n          // only warn on first exceed and then every time the limit\n          // is exceeded by 50% again\n          this._warnCountdown = threshold * 0.5; // find most frequent listener and print warning\n\n          var topStack;\n          var topCount = 0;\n\n          this._stacks.forEach(function (count, stack) {\n            if (!topStack || topCount < count) {\n              topStack = stack;\n              topCount = count;\n            }\n          });\n\n          console.warn(\"[\".concat(this.name, \"] potential listener LEAK detected, having \").concat(listenerCount, \" listeners already. MOST frequent listener (\").concat(topCount, \"):\"));\n          console.warn(topStack);\n        }\n\n        return function () {\n          var count = _this4._stacks.get(stack) || 0;\n\n          _this4._stacks.set(stack, count - 1);\n        };\n      }\n    }]);\n\n    return LeakageMonitor;\n  }();\n  /**\r\n   * The Emitter can be used to expose an Event to the public\r\n   * to fire it from the insides.\r\n   * Sample:\r\n      class Document {\r\n          private _onDidChange = new Emitter<(value:string)=>any>();\r\n          public onDidChange = this._onDidChange.event;\r\n          // getter-style\r\n          // get onDidChange(): Event<(value:string)=>any> {\r\n          // \treturn this._onDidChange.event;\r\n          // }\r\n          private _doIt() {\r\n              //...\r\n              this._onDidChange.fire(value);\r\n          }\r\n      }\r\n   */\n\n\n  var Emitter =\n  /*#__PURE__*/\n  function () {\n    function Emitter(options) {\n      _classCallCheck(this, Emitter);\n\n      this._disposed = false;\n      this._options = options;\n      this._leakageMon = _globalLeakWarningThreshold > 0 ? new LeakageMonitor(this._options && this._options.leakWarningThreshold) : undefined;\n    }\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\n\n\n    _createClass(Emitter, [{\n      key: \"fire\",\n\n      /**\r\n       * To be kept private to fire an event to\r\n       * subscribers\r\n       */\n      value: function fire(event) {\n        if (this._listeners) {\n          // put all [listener,event]-pairs into delivery queue\n          // then emit all event. an inner/nested event might be\n          // the driver of this\n          if (!this._deliveryQueue) {\n            this._deliveryQueue = new LinkedList();\n          }\n\n          for (var iter = this._listeners.iterator(), e = iter.next(); !e.done; e = iter.next()) {\n            this._deliveryQueue.push([e.value, event]);\n          }\n\n          while (this._deliveryQueue.size > 0) {\n            var _this$_deliveryQueue$ = this._deliveryQueue.shift(),\n                _this$_deliveryQueue$2 = _slicedToArray(_this$_deliveryQueue$, 2),\n                listener = _this$_deliveryQueue$2[0],\n                _event = _this$_deliveryQueue$2[1];\n\n            try {\n              if (typeof listener === 'function') {\n                listener.call(undefined, _event);\n              } else {\n                listener[0].call(listener[1], _event);\n              }\n            } catch (e) {\n              onUnexpectedError(e);\n            }\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._listeners) {\n          this._listeners.clear();\n        }\n\n        if (this._deliveryQueue) {\n          this._deliveryQueue.clear();\n        }\n\n        if (this._leakageMon) {\n          this._leakageMon.dispose();\n        }\n\n        this._disposed = true;\n      }\n    }, {\n      key: \"event\",\n      get: function get() {\n        var _this5 = this;\n\n        if (!this._event) {\n          this._event = function (listener, thisArgs, disposables) {\n            if (!_this5._listeners) {\n              _this5._listeners = new LinkedList();\n            }\n\n            var firstListener = _this5._listeners.isEmpty();\n\n            if (firstListener && _this5._options && _this5._options.onFirstListenerAdd) {\n              _this5._options.onFirstListenerAdd(_this5);\n            }\n\n            var remove = _this5._listeners.push(!thisArgs ? listener : [listener, thisArgs]);\n\n            if (firstListener && _this5._options && _this5._options.onFirstListenerDidAdd) {\n              _this5._options.onFirstListenerDidAdd(_this5);\n            }\n\n            if (_this5._options && _this5._options.onListenerDidAdd) {\n              _this5._options.onListenerDidAdd(_this5, listener, thisArgs);\n            } // check and record this emitter for potential leakage\n\n\n            var removeMonitor;\n\n            if (_this5._leakageMon) {\n              removeMonitor = _this5._leakageMon.check(_this5._listeners.size);\n            }\n\n            var result;\n            result = {\n              dispose: function dispose() {\n                if (removeMonitor) {\n                  removeMonitor();\n                }\n\n                result.dispose = Emitter._noop;\n\n                if (!_this5._disposed) {\n                  remove();\n\n                  if (_this5._options && _this5._options.onLastListenerRemove) {\n                    var hasListeners = _this5._listeners && !_this5._listeners.isEmpty();\n\n                    if (!hasListeners) {\n                      _this5._options.onLastListenerRemove(_this5);\n                    }\n                  }\n                }\n              }\n            };\n\n            if (Array.isArray(disposables)) {\n              disposables.push(result);\n            }\n\n            return result;\n          };\n        }\n\n        return this._event;\n      }\n    }]);\n\n    return Emitter;\n  }();\n\n  Emitter._noop = function () {};\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var shortcutEvent = Object.freeze(function (callback, context) {\n    var handle = setTimeout(callback.bind(context), 0);\n    return {\n      dispose: function dispose() {\n        clearTimeout(handle);\n      }\n    };\n  });\n  var CancellationToken;\n\n  (function (CancellationToken) {\n    function isCancellationToken(thing) {\n      if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n        return true;\n      }\n\n      if (thing instanceof MutableToken) {\n        return true;\n      }\n\n      if (!thing || typeof thing !== 'object') {\n        return false;\n      }\n\n      return typeof thing.isCancellationRequested === 'boolean' && typeof thing.onCancellationRequested === 'function';\n    }\n\n    CancellationToken.isCancellationToken = isCancellationToken;\n    CancellationToken.None = Object.freeze({\n      isCancellationRequested: false,\n      onCancellationRequested: Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n      isCancellationRequested: true,\n      onCancellationRequested: shortcutEvent\n    });\n  })(CancellationToken || (CancellationToken = {}));\n\n  var MutableToken =\n  /*#__PURE__*/\n  function () {\n    function MutableToken() {\n      _classCallCheck(this, MutableToken);\n\n      this._isCancelled = false;\n      this._emitter = null;\n    }\n\n    _createClass(MutableToken, [{\n      key: \"cancel\",\n      value: function cancel() {\n        if (!this._isCancelled) {\n          this._isCancelled = true;\n\n          if (this._emitter) {\n            this._emitter.fire(undefined);\n\n            this.dispose();\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._emitter) {\n          this._emitter.dispose();\n\n          this._emitter = null;\n        }\n      }\n    }, {\n      key: \"isCancellationRequested\",\n      get: function get() {\n        return this._isCancelled;\n      }\n    }, {\n      key: \"onCancellationRequested\",\n      get: function get() {\n        if (this._isCancelled) {\n          return shortcutEvent;\n        }\n\n        if (!this._emitter) {\n          this._emitter = new Emitter();\n        }\n\n        return this._emitter.event;\n      }\n    }]);\n\n    return MutableToken;\n  }();\n\n  var CancellationTokenSource =\n  /*#__PURE__*/\n  function () {\n    function CancellationTokenSource(parent) {\n      _classCallCheck(this, CancellationTokenSource);\n\n      this._token = undefined;\n      this._parentListener = undefined;\n      this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);\n    }\n\n    _createClass(CancellationTokenSource, [{\n      key: \"cancel\",\n      value: function cancel() {\n        if (!this._token) {\n          // save an object by returning the default\n          // cancelled token when cancellation happens\n          // before someone asks for the token\n          this._token = CancellationToken.Cancelled;\n        } else if (this._token instanceof MutableToken) {\n          // actually cancel\n          this._token.cancel();\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._parentListener) {\n          this._parentListener.dispose();\n        }\n\n        if (!this._token) {\n          // ensure to initialize with an empty token if we had none\n          this._token = CancellationToken.None;\n        } else if (this._token instanceof MutableToken) {\n          // actually dispose\n          this._token.dispose();\n        }\n      }\n    }, {\n      key: \"token\",\n      get: function get() {\n        if (!this._token) {\n          // be lazy and create the token only when\n          // actually needed\n          this._token = new MutableToken();\n        }\n\n        return this._token;\n      }\n    }]);\n\n    return CancellationTokenSource;\n  }();\n\n  (function () {\n    if (typeof requestIdleCallback !== 'function' || typeof cancelIdleCallback !== 'function') {\n      var dummyIdle = Object.freeze({\n        didTimeout: true,\n        timeRemaining: function timeRemaining() {\n          return 15;\n        }\n      });\n    }\n  })();\n\n  var ResolvedEntryKind;\n\n  (function (ResolvedEntryKind) {\n    ResolvedEntryKind[\"Directory\"] = \"directory\";\n    ResolvedEntryKind[\"File\"] = \"file\";\n  })(ResolvedEntryKind || (ResolvedEntryKind = {}));\n\n  function isValidPackageJson(json) {\n    return typeof json === 'object' && json !== null && !hasInvalidOptionalStringField(json, 'name') && !hasInvalidOptionalStringField(json, 'version') && !hasInvalidBrowserField(json) && !hasInvalidOptionalStringField(json, 'main') && !hasInvalidOptionalStringField(json, 'module') && !hasInvalidOptionalStringField(json, 'jsnext:main') && !hasInvalidOptionalStringField(json, 'unpkg') && !hasInvalidDependenciesField(json, 'dependencies') && !hasInvalidDependenciesField(json, 'devDependencies') && !hasInvalidDependenciesField(json, 'peerDependencies');\n  }\n\n  function hasInvalidBrowserField(json) {\n    var error = '';\n    var browser = json.browser;\n\n    if (browser) {\n      if (typeof browser === 'object') {\n        for (var key in browser) {\n          if (typeof key !== 'string') {\n            error = \"The key \".concat(key, \" of .browser must be a string\");\n            break;\n          }\n\n          if (typeof browser[key] !== 'string' && browser[key] !== false) {\n            error = \"The value \".concat(key, \" of .browser must be a string or false\");\n            break;\n          }\n        }\n      }\n    }\n\n    return error;\n  }\n\n  function hasInvalidOptionalStringField(json, field) {\n    return json[field] !== undefined && typeof json[field] !== 'string';\n  }\n\n  function hasInvalidDependenciesField(json, field) {\n    return json[field] !== undefined && typeof json[field] === 'object' && json[field] !== null && !Object.keys(json[field]).every(function (key) {\n      return typeof key === 'string' && typeof json[field][key] === 'string';\n    });\n  }\n\n  var CHAR_DOT = 46;\n  /* . */\n\n  var CHAR_FORWARD_SLASH = 47;\n  /* / */\n\n  var TRAILING_SLASH_RX = /\\/?$/;\n\n  function ensureTrailingSlash(pathname) {\n    return pathname.replace(TRAILING_SLASH_RX, '/');\n  }\n\n  function parseBufferAsPackageJson(decoder, content, spec) {\n    try {\n      var text = decoder.decode(content);\n      return parseTextAsPackageJson(text, spec);\n    } catch (err) {\n      throw new Error(\"Error decoding manifest buffer for package \".concat(spec, \": \").concat(err.message));\n    }\n  }\n\n  function parseTextAsPackageJson(text, spec) {\n    var json;\n\n    try {\n      json = JSON.parse(text);\n    } catch (err) {\n      throw new Error(\"Error parsing manifest as json for package \".concat(spec, \": \").concat(err.message));\n    }\n\n    if (!isValidPackageJson(json)) {\n      throw new Error(\"Invalid manifest for the package \".concat(spec));\n    }\n\n    return json;\n  }\n\n  function getFirstPathSegmentAfterPrefix(child, parent) {\n    var childHref = child.pathname;\n    var parentHref = parent.pathname;\n    var parentOffset = parentHref.charAt(parentHref.length - 1) === '/' ? -1 : 0;\n\n    for (var i = 0; i <= childHref.length; i++) {\n      if (i < parentHref.length) {\n        if (childHref.charAt(i) !== parentHref.charAt(i)) {\n          throw new Error(\"The child entry \".concat(child.href, \" does not have the pathname of \").concat(parent.href, \" as a prefix\"));\n        }\n      } else if (i === parentHref.length + parentOffset) {\n        if (childHref.charAt(i) !== '/') {\n          throw new Error(\"The child entry \".concat(child.href, \" does not have the pathname of \").concat(parent.href, \" as a prefix\"));\n        }\n      } else if (childHref.charAt(i) === '/') {\n        return childHref.slice(parentHref.length + 1 + parentOffset, i);\n      }\n    }\n\n    return childHref.slice(parentHref.length + 1 + parentOffset);\n  }\n\n  function validateString(value, name) {\n    if (typeof value !== 'string') {\n      throw new TypeError(\"The '\".concat(name, \"' argument must be of type string but got \").concat(typeof value));\n    }\n  }\n\n  function basename(path, ext) {\n    if (ext !== undefined) {\n      validateString(ext, 'ext');\n    }\n\n    validateString(path, 'path');\n    var start = 0;\n    var end = -1;\n    var matchedSlash = true;\n    var i;\n\n    if (ext !== undefined && ext.length > 0 && ext.length <= path.length) {\n      if (ext.length === path.length && ext === path) {\n        return '';\n      }\n\n      var extIdx = ext.length - 1;\n      var firstNonSlashEnd = -1;\n\n      for (i = path.length - 1; i >= start; --i) {\n        var code = path.charCodeAt(i);\n\n        if (isPathSeparator(code)) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else {\n          if (firstNonSlashEnd === -1) {\n            // We saw the first non-path separator, remember this index in case\n            // we need it if the extension ends up not matching\n            matchedSlash = false;\n            firstNonSlashEnd = i + 1;\n          }\n\n          if (extIdx >= 0) {\n            // Try to match the explicit extension\n            if (code === ext.charCodeAt(extIdx)) {\n              if (--extIdx === -1) {\n                // We matched the extension, so mark this as the end of our path\n                // component\n                end = i;\n              }\n            } else {\n              // Extension does not match, so our result is the entire path\n              // component\n              extIdx = -1;\n              end = firstNonSlashEnd;\n            }\n          }\n        }\n      }\n\n      if (start === end) {\n        end = firstNonSlashEnd;\n      } else if (end === -1) {\n        end = path.length;\n      }\n\n      return path.slice(start, end);\n    } else {\n      for (i = path.length - 1; i >= start; --i) {\n        if (isPathSeparator(path.charCodeAt(i))) {\n          // If we reached a path separator that was not part of a set of path\n          // separators at the end of the string, stop now\n          if (!matchedSlash) {\n            start = i + 1;\n            break;\n          }\n        } else if (end === -1) {\n          // We saw the first non-path separator, mark this as the end of our\n          // path component\n          matchedSlash = false;\n          end = i + 1;\n        }\n      }\n\n      if (end === -1) {\n        return '';\n      }\n\n      return path.slice(start, end);\n    }\n  }\n\n  function extname(path) {\n    validateString(path, 'path');\n    var start = 0;\n    var startDot = -1;\n    var startPart = 0;\n    var end = -1;\n    var matchedSlash = true; // Track the state of characters (if any) we see before our first dot and\n    // after any path separator we find\n\n    var preDotState = 0;\n\n    for (var i = path.length - 1; i >= start; --i) {\n      var code = path.charCodeAt(i);\n\n      if (isPathSeparator(code)) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n\n        continue;\n      }\n\n      if (end === -1) {\n        // We saw the first non-path separator, mark this as the end of our\n        // extension\n        matchedSlash = false;\n        end = i + 1;\n      }\n\n      if (code === CHAR_DOT) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1) {\n          startDot = i;\n        } else if (preDotState !== 1) {\n          preDotState = 1;\n        }\n      } else if (startDot !== -1) {\n        // We saw a non-dot and non-path separator before our dot, so we should\n        // have a good chance at having a non-empty extension\n        preDotState = -1;\n      }\n    }\n\n    if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot\n    preDotState === 0 || // The (right-most) trimmed path component is exactly '..'\n    preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n      return '';\n    }\n\n    return path.slice(startDot, end);\n  }\n\n  function dirname(path) {\n    validateString(path, 'path');\n    var len = path.length;\n\n    if (len === 0) {\n      return '.';\n    }\n\n    var rootEnd = -1;\n    var end = -1;\n    var matchedSlash = true;\n    var offset = 0;\n    var code = path.charCodeAt(0); // Try to match a root\n\n    if (len > 1) {\n      if (isPathSeparator(code)) {\n        // Possible UNC root\n        rootEnd = offset = 1;\n\n        if (isPathSeparator(path.charCodeAt(1))) {\n          // Matched double path separator at beginning\n          var j = 2;\n          var last = j; // Match 1 or more non-path separators\n\n          for (; j < len; ++j) {\n            if (isPathSeparator(path.charCodeAt(j))) {\n              break;\n            }\n          }\n\n          if (j < len && j !== last) {\n            // Matched!\n            last = j; // Match 1 or more path separators\n\n            for (; j < len; ++j) {\n              if (!isPathSeparator(path.charCodeAt(j))) {\n                break;\n              }\n            }\n\n            if (j < len && j !== last) {\n              // Matched!\n              last = j; // Match 1 or more non-path separators\n\n              for (; j < len; ++j) {\n                if (isPathSeparator(path.charCodeAt(j))) {\n                  break;\n                }\n              }\n\n              if (j === len) {\n                // We matched a UNC root only\n                return path;\n              }\n\n              if (j !== last) {\n                // We matched a UNC root with leftovers\n                // Offset by 1 to include the separator after the UNC root to\n                // treat it as a \"normal root\" on top of a (UNC) root\n                rootEnd = offset = j + 1;\n              }\n            }\n          }\n        }\n      }\n    } else if (isPathSeparator(code)) {\n      // `path` contains just a path separator, exit early to avoid\n      // unnecessary work\n      return path;\n    }\n\n    for (var i = len - 1; i >= offset; --i) {\n      if (isPathSeparator(path.charCodeAt(i))) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n        // We saw the first non-path separator\n        matchedSlash = false;\n      }\n    }\n\n    if (end === -1) {\n      if (rootEnd === -1) {\n        return '.';\n      } else {\n        end = rootEnd;\n      }\n    }\n\n    return path.slice(0, end);\n  }\n\n  function join(initialSegment) {\n    var pathname = initialSegment;\n\n    for (var i = 0; i < (arguments.length <= 1 ? 0 : arguments.length - 1); i++) {\n      var segment = i + 1 < 1 || arguments.length <= i + 1 ? undefined : arguments[i + 1];\n\n      if (segment.startsWith('/')) {\n        segment = segment.slice(1);\n      }\n\n      if (pathname.endsWith('/')) {\n        pathname += segment;\n      } else {\n        pathname += \"/\".concat(segment);\n      }\n    }\n\n    return pathname;\n  }\n\n  function resolve() {\n    var resolvedPath = '';\n    var resolvedAbsolute = false;\n\n    for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n      var path = void 0;\n\n      if (i >= 0) {\n        path = i < 0 || arguments.length <= i ? undefined : arguments[i];\n      } else {\n        break;\n      }\n\n      validateString(path, 'path'); // Skip empty entries\n\n      if (path.length === 0) {\n        continue;\n      }\n\n      resolvedPath = path + '/' + resolvedPath;\n      resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;\n    } // At this point the path should be resolved to a full absolute path, but\n    // handle relative paths to be safe (might happen when process.cwd() fails)\n    // Normalize the path\n\n\n    resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute, '/', isPathSeparator);\n\n    if (resolvedAbsolute) {\n      if (resolvedPath.length > 0) {\n        return '/' + resolvedPath;\n      } else {\n        return '/';\n      }\n    } else if (resolvedPath.length > 0) {\n      return resolvedPath;\n    } else {\n      return '.';\n    }\n  }\n\n  function isPathSeparator(code) {\n    return code === CHAR_FORWARD_SLASH;\n  }\n\n  function normalizeString(path, allowAboveRoot, separator, isPathSeparator) {\n    var res = '';\n    var lastSegmentLength = 0;\n    var lastSlash = -1;\n    var dots = 0;\n    var code = -1;\n\n    for (var i = 0; i <= path.length; ++i) {\n      if (i < path.length) {\n        code = path.charCodeAt(i);\n      } else if (isPathSeparator(code)) {\n        break;\n      } else {\n        code = CHAR_FORWARD_SLASH;\n      }\n\n      if (isPathSeparator(code)) {\n        if (lastSlash === i - 1 || dots === 1) ;else if (lastSlash !== i - 1 && dots === 2) {\n          if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== CHAR_DOT || res.charCodeAt(res.length - 2) !== CHAR_DOT) {\n            if (res.length > 2) {\n              var lastSlashIndex = res.lastIndexOf(separator);\n\n              if (lastSlashIndex === -1) {\n                res = '';\n                lastSegmentLength = 0;\n              } else {\n                res = res.slice(0, lastSlashIndex);\n                lastSegmentLength = res.length - 1 - res.lastIndexOf(separator);\n              }\n\n              lastSlash = i;\n              dots = 0;\n              continue;\n            } else if (res.length === 2 || res.length === 1) {\n              res = '';\n              lastSegmentLength = 0;\n              lastSlash = i;\n              dots = 0;\n              continue;\n            }\n          }\n\n          if (allowAboveRoot) {\n            if (res.length > 0) {\n              res += \"\".concat(separator, \"..\");\n            } else {\n              res = '..';\n            }\n\n            lastSegmentLength = 2;\n          }\n        } else {\n          if (res.length > 0) {\n            res += separator + path.slice(lastSlash + 1, i);\n          } else {\n            res = path.slice(lastSlash + 1, i);\n          }\n\n          lastSegmentLength = i - lastSlash - 1;\n        }\n        lastSlash = i;\n        dots = 0;\n      } else if (code === CHAR_DOT && dots !== -1) {\n        ++dots;\n      } else {\n        dots = -1;\n      }\n    }\n\n    return res;\n  }\n\n  var util =\n  /*#__PURE__*/\n  Object.freeze({\n    __proto__: null,\n    ensureTrailingSlash: ensureTrailingSlash,\n    parseBufferAsPackageJson: parseBufferAsPackageJson,\n    getFirstPathSegmentAfterPrefix: getFirstPathSegmentAfterPrefix,\n    basename: basename,\n    extname: extname,\n    dirname: dirname,\n    join: join,\n    resolve: resolve\n  });\n\n  var Decoder =\n  /*#__PURE__*/\n  function () {\n    function Decoder() {\n      _classCallCheck(this, Decoder);\n\n      if (typeof TextDecoder !== 'undefined') {\n        this.decoder = new TextDecoder();\n      }\n    }\n\n    _createClass(Decoder, [{\n      key: \"decode\",\n      value: function decode(buf) {\n        var str = this.decoder ? this.decoder.decode(buf) : Buffer.from(buf).toString('utf-8');\n        return str.charCodeAt(0) === 0xfeff ? str.slice(1) : str;\n      }\n    }]);\n\n    return Decoder;\n  }();\n\n  var ExtendableError$1 =\n  /*#__PURE__*/\n  function (_Error2) {\n    _inherits(ExtendableError$1, _Error2);\n\n    function ExtendableError$1(message) {\n      var _this6;\n\n      _classCallCheck(this, ExtendableError$1);\n\n      _this6 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError$1).call(this, message));\n      _this6.name = _this6.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this6), _this6.constructor);\n      } else {\n        _this6.stack = new Error(message).stack;\n      }\n\n      return _this6;\n    }\n\n    return ExtendableError$1;\n  }(_wrapNativeSuper(Error));\n\n  var EntryNotFoundError =\n  /*#__PURE__*/\n  function (_ExtendableError$) {\n    _inherits(EntryNotFoundError, _ExtendableError$);\n\n    function EntryNotFoundError(url) {\n      var _this7;\n\n      _classCallCheck(this, EntryNotFoundError);\n\n      _this7 = _possibleConstructorReturn(this, _getPrototypeOf(EntryNotFoundError).call(this, \"Not found \".concat(url.href)));\n      _this7.url = url;\n      return _this7;\n    }\n\n    return EntryNotFoundError;\n  }(ExtendableError$1);\n\n  var AbstractResolverHost =\n  /*#__PURE__*/\n  function () {\n    function AbstractResolverHost() {\n      _classCallCheck(this, AbstractResolverHost);\n    }\n\n    _createClass(AbstractResolverHost, [{\n      key: \"getCanonicalUrl\",\n      value: function getCanonicalUrl(_resolver, url) {\n        return Promise.resolve(url);\n      }\n    }]);\n\n    return AbstractResolverHost;\n  }();\n\n  var TRAILING_SLASH_RX$1 = /\\/?$/;\n\n  var Resolver =\n  /*#__PURE__*/\n  function () {\n    function Resolver(host) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      _classCallCheck(this, Resolver);\n\n      this.host = host;\n      this.decoder = new Decoder();\n      this.extensions = Array.from(options.extensions || Resolver.defaultExtensions);\n      this.packageMain = options.packageMain || ['main'];\n    }\n\n    _createClass(Resolver, [{\n      key: \"resolve\",\n      value: function () {\n        var _resolve = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee(url) {\n          var options,\n              token,\n              tokenSource,\n              optionsWithDefaults,\n              canonicalUrlPromise,\n              _ref,\n              _ref2,\n              canonicalUrl,\n              rootUrl,\n              rootHref,\n              rootHrefWithoutTrailingSlash,\n              canonicalHref,\n              resolvedUrl,\n              _args = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  options = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n\n                  if (url instanceof URL) {\n                    _context.next = 9;\n                    break;\n                  }\n\n                  _context.prev = 2;\n                  url = new URL(url);\n                  _context.next = 9;\n                  break;\n\n                case 6:\n                  _context.prev = 6;\n                  _context.t0 = _context[\"catch\"](2);\n                  throw new Error(\"Invalid URL: \".concat(url, \": \").concat(_context.t0.message));\n\n                case 9:\n                  token = options.token;\n\n                  if (!token) {\n                    tokenSource = new CancellationTokenSource();\n                    token = tokenSource.token;\n                  }\n\n                  optionsWithDefaults = {\n                    extensions: options.extensions || this.extensions,\n                    ignoreBrowserOverrides: typeof options.ignoreBrowserOverrides === 'undefined' ? false : options.ignoreBrowserOverrides,\n                    packageMain: options.packageMain || this.packageMain,\n                    token: token\n                  };\n                  canonicalUrlPromise = this.host.getCanonicalUrl ? this.host.getCanonicalUrl(this, url, {\n                    token: token\n                  }) : Promise.resolve(url);\n\n                  if (!token.isCancellationRequested) {\n                    _context.next = 15;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 15:\n                  _context.next = 17;\n                  return Promise.all([canonicalUrlPromise, this.host.getResolveRoot(this, url, {\n                    token: token\n                  })]);\n\n                case 17:\n                  _ref = _context.sent;\n                  _ref2 = _slicedToArray(_ref, 2);\n                  canonicalUrl = _ref2[0];\n                  rootUrl = _ref2[1];\n\n                  if (!token.isCancellationRequested) {\n                    _context.next = 23;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 23:\n                  rootHref = rootUrl.href;\n                  rootHrefWithoutTrailingSlash = rootHref.replace(TRAILING_SLASH_RX$1, '');\n                  canonicalHref = canonicalUrl.href;\n\n                  if (canonicalHref.startsWith(rootHrefWithoutTrailingSlash)) {\n                    _context.next = 28;\n                    break;\n                  }\n\n                  throw new Error(\"Unable to resolve a module whose path \".concat(canonicalHref, \" is above the host's root \").concat(rootHref));\n\n                case 28:\n                  if (!(rootHrefWithoutTrailingSlash === canonicalHref || rootHref == canonicalHref)) {\n                    _context.next = 34;\n                    break;\n                  }\n\n                  _context.next = 31;\n                  return this.resolveAsDirectory(canonicalUrl, optionsWithDefaults);\n\n                case 31:\n                  _context.t1 = _context.sent;\n                  _context.next = 37;\n                  break;\n\n                case 34:\n                  _context.next = 36;\n                  return this.resolveAsFile(canonicalUrl, optionsWithDefaults);\n\n                case 36:\n                  _context.t1 = _context.sent;\n\n                case 37:\n                  resolvedUrl = _context.t1;\n\n                  if (!token.isCancellationRequested) {\n                    _context.next = 40;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 40:\n                  return _context.abrupt(\"return\", {\n                    ignored: resolvedUrl === false,\n                    resolvedUrl: resolvedUrl || undefined,\n                    rootUrl: rootUrl\n                  });\n\n                case 41:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee, this, [[2, 6]]);\n        }));\n\n        function resolve(_x) {\n          return _resolve.apply(this, arguments);\n        }\n\n        return resolve;\n      }()\n      /**\r\n       * Resolve a reference treating it as a directory\r\n       *\r\n       * 1. If there is a `package.json` file and this has a `main` entry, use that\r\n       * 2. Assume `index` if no main file is found in the `package.json` manifest\r\n       *\r\n       * The outcome of this process will then be resolved as if it were a file.\r\n       */\n\n    }, {\n      key: \"resolveAsDirectory\",\n      value: function () {\n        var _resolveAsDirectory = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee2(url, options) {\n          var _ref3, _ref4, rootUrl, entries, mainPathname, packageJsonEntry, packageJsonContent, packageJson, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, packageMain, pathname, mainUrl;\n\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return Promise.all([this.host.getResolveRoot(this, url, {\n                    token: options.token\n                  }), this.host.listEntries(this, url, {\n                    token: options.token\n                  })]);\n\n                case 2:\n                  _ref3 = _context2.sent;\n                  _ref4 = _slicedToArray(_ref3, 2);\n                  rootUrl = _ref4[0];\n                  entries = _ref4[1];\n\n                  if (!options.token.isCancellationRequested) {\n                    _context2.next = 8;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 8:\n                  mainPathname = 'index'; // Step 1: Look for a package.json with an main field\n\n                  packageJsonEntry = entries.find(function (entry) {\n                    return basename(entry.url.pathname) === 'package.json';\n                  });\n\n                  if (!packageJsonEntry) {\n                    _context2.next = 45;\n                    break;\n                  }\n\n                  _context2.next = 13;\n                  return this.host.readFileContent(this, packageJsonEntry.url, {\n                    token: options.token\n                  });\n\n                case 13:\n                  packageJsonContent = _context2.sent;\n\n                  if (!options.token.isCancellationRequested) {\n                    _context2.next = 16;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 16:\n                  packageJson = parseBufferAsPackageJson(this.decoder, packageJsonContent, url.href);\n                  _iteratorNormalCompletion = true;\n                  _didIteratorError = false;\n                  _iteratorError = undefined;\n                  _context2.prev = 20;\n                  _iterator = this.packageMain[Symbol.iterator]();\n\n                case 22:\n                  if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                    _context2.next = 31;\n                    break;\n                  }\n\n                  packageMain = _step.value;\n                  pathname = packageJson[packageMain];\n\n                  if (!(typeof pathname === 'string')) {\n                    _context2.next = 28;\n                    break;\n                  }\n\n                  mainPathname = pathname;\n                  return _context2.abrupt(\"break\", 31);\n\n                case 28:\n                  _iteratorNormalCompletion = true;\n                  _context2.next = 22;\n                  break;\n\n                case 31:\n                  _context2.next = 37;\n                  break;\n\n                case 33:\n                  _context2.prev = 33;\n                  _context2.t0 = _context2[\"catch\"](20);\n                  _didIteratorError = true;\n                  _iteratorError = _context2.t0;\n\n                case 37:\n                  _context2.prev = 37;\n                  _context2.prev = 38;\n\n                  if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                  }\n\n                case 40:\n                  _context2.prev = 40;\n\n                  if (!_didIteratorError) {\n                    _context2.next = 43;\n                    break;\n                  }\n\n                  throw _iteratorError;\n\n                case 43:\n                  return _context2.finish(40);\n\n                case 44:\n                  return _context2.finish(37);\n\n                case 45:\n                  mainUrl = new URL(resolve(url.pathname, mainPathname), rootUrl);\n                  return _context2.abrupt(\"return\", this.resolveAsFile(mainUrl, options));\n\n                case 47:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2, this, [[20, 33, 37, 45], [38,, 40, 44]]);\n        }));\n\n        function resolveAsDirectory(_x2, _x3) {\n          return _resolveAsDirectory.apply(this, arguments);\n        }\n\n        return resolveAsDirectory;\n      }()\n      /**\r\n       * Resolve a reference treating it as a file\r\n       *\r\n       * 1. List entries in the containing directory\r\n       * 2. Look for an exact file match or a file match with one of the supplied extensions\r\n       * 3. Look for a matching child directory and attempt to resolve that as a directory\r\n       */\n\n    }, {\n      key: \"resolveAsFile\",\n      value: function () {\n        var _resolveAsFile = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee3(url, options) {\n          var rootUrl, parentPackageJson, browserOverrides, browserMap, packageJsonDir, entry, impliedUrl, targetSpec, target, containingUrl, filename, entries, entryDirectoryMap, entryFileMap, _iteratorNormalCompletion2, _didIteratorError2, _iteratorError2, _iterator2, _step2, _entry, childFilename, _childFilename, _iteratorNormalCompletion3, _didIteratorError3, _iteratorError3, _iterator3, _step3, ext, mapping, _match, match;\n\n          return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n            while (1) {\n              switch (_context3.prev = _context3.next) {\n                case 0:\n                  if (!(url.pathname === '' || url.pathname === '/')) {\n                    _context3.next = 2;\n                    break;\n                  }\n\n                  throw new TypeError(\"Unable to resolve the root as a file: \".concat(url.href));\n\n                case 2:\n                  _context3.next = 4;\n                  return this.host.getResolveRoot(this, url, {\n                    token: options.token\n                  });\n\n                case 4:\n                  rootUrl = _context3.sent;\n\n                  if (!options.token.isCancellationRequested) {\n                    _context3.next = 7;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 7:\n                  if (!(this.packageMain.includes('browser') && !options.ignoreBrowserOverrides)) {\n                    _context3.next = 13;\n                    break;\n                  }\n\n                  _context3.next = 10;\n                  return this.readParentPackageJson(url, {\n                    token: options.token\n                  });\n\n                case 10:\n                  _context3.t0 = _context3.sent;\n                  _context3.next = 14;\n                  break;\n\n                case 13:\n                  _context3.t0 = undefined;\n\n                case 14:\n                  parentPackageJson = _context3.t0;\n\n                  if (!options.token.isCancellationRequested) {\n                    _context3.next = 17;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 17:\n                  browserOverrides = new Map();\n\n                  if (!(parentPackageJson && typeof parentPackageJson.packageJson.browser === 'object')) {\n                    _context3.next = 34;\n                    break;\n                  }\n\n                  browserMap = parentPackageJson.packageJson.browser;\n                  packageJsonDir = dirname(parentPackageJson.url.pathname);\n                  _context3.t1 = _regeneratorRuntime.keys(browserMap);\n\n                case 22:\n                  if ((_context3.t2 = _context3.t1()).done) {\n                    _context3.next = 34;\n                    break;\n                  }\n\n                  entry = _context3.t2.value;\n                  impliedUrl = new URL(resolve(packageJsonDir, entry), parentPackageJson.url);\n                  targetSpec = browserMap[entry];\n                  target = targetSpec === false ? false : new URL(resolve(packageJsonDir, targetSpec), parentPackageJson.url);\n\n                  if (!(impliedUrl.href === url.href)) {\n                    _context3.next = 31;\n                    break;\n                  }\n\n                  if (!(target === false)) {\n                    _context3.next = 30;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", false);\n\n                case 30:\n                  return _context3.abrupt(\"return\", this.resolveAsFile(target, _objectSpread({}, options, {\n                    ignoreBrowserOverrides: true\n                  })));\n\n                case 31:\n                  browserOverrides.set(impliedUrl.href, target);\n                  _context3.next = 22;\n                  break;\n\n                case 34:\n                  containingUrl = new URL(ensureTrailingSlash(dirname(url.pathname)), rootUrl);\n                  filename = basename(url.pathname);\n                  _context3.next = 38;\n                  return this.host.listEntries(this, containingUrl, {\n                    token: options.token\n                  });\n\n                case 38:\n                  entries = _context3.sent;\n\n                  if (!options.token.isCancellationRequested) {\n                    _context3.next = 41;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 41:\n                  entryDirectoryMap = new Map();\n                  entryFileMap = new Map();\n                  _iteratorNormalCompletion2 = true;\n                  _didIteratorError2 = false;\n                  _iteratorError2 = undefined;\n                  _context3.prev = 46;\n                  _iterator2 = entries[Symbol.iterator]();\n\n                case 48:\n                  if (_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done) {\n                    _context3.next = 56;\n                    break;\n                  }\n\n                  _entry = _step2.value;\n\n                  if (!(_entry.url.href === url.href && _entry.type == ResolvedEntryKind.File)) {\n                    _context3.next = 52;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", _entry.url);\n\n                case 52:\n                  if (_entry.type === ResolvedEntryKind.Directory) {\n                    childFilename = getFirstPathSegmentAfterPrefix(_entry.url, containingUrl);\n                    entryDirectoryMap.set(childFilename, _entry);\n                  } else if (_entry.type === ResolvedEntryKind.File) {\n                    _childFilename = basename(_entry.url.pathname);\n                    entryFileMap.set(_childFilename, _entry);\n                  }\n\n                case 53:\n                  _iteratorNormalCompletion2 = true;\n                  _context3.next = 48;\n                  break;\n\n                case 56:\n                  _context3.next = 62;\n                  break;\n\n                case 58:\n                  _context3.prev = 58;\n                  _context3.t3 = _context3[\"catch\"](46);\n                  _didIteratorError2 = true;\n                  _iteratorError2 = _context3.t3;\n\n                case 62:\n                  _context3.prev = 62;\n                  _context3.prev = 63;\n\n                  if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n                    _iterator2.return();\n                  }\n\n                case 65:\n                  _context3.prev = 65;\n\n                  if (!_didIteratorError2) {\n                    _context3.next = 68;\n                    break;\n                  }\n\n                  throw _iteratorError2;\n\n                case 68:\n                  return _context3.finish(65);\n\n                case 69:\n                  return _context3.finish(62);\n\n                case 70:\n                  // Look for browser overrides\n                  _iteratorNormalCompletion3 = true;\n                  _didIteratorError3 = false;\n                  _iteratorError3 = undefined;\n                  _context3.prev = 73;\n                  _iterator3 = options.extensions[Symbol.iterator]();\n\n                case 75:\n                  if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {\n                    _context3.next = 92;\n                    break;\n                  }\n\n                  ext = _step3.value;\n                  mapping = browserOverrides.get(\"\".concat(url.href).concat(ext));\n\n                  if (!(mapping === false)) {\n                    _context3.next = 82;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", false);\n\n                case 82:\n                  if (!mapping) {\n                    _context3.next = 84;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"return\", this.resolveAsFile(mapping, _objectSpread({}, options, {\n                    ignoreBrowserOverrides: true\n                  })));\n\n                case 84:\n                  _match = entryFileMap.get(\"\".concat(filename).concat(ext));\n\n                  if (!_match) {\n                    _context3.next = 89;\n                    break;\n                  }\n\n                  if (!(_match.type !== ResolvedEntryKind.File)) {\n                    _context3.next = 88;\n                    break;\n                  }\n\n                  return _context3.abrupt(\"continue\", 89);\n\n                case 88:\n                  return _context3.abrupt(\"return\", _match.url);\n\n                case 89:\n                  _iteratorNormalCompletion3 = true;\n                  _context3.next = 75;\n                  break;\n\n                case 92:\n                  _context3.next = 98;\n                  break;\n\n                case 94:\n                  _context3.prev = 94;\n                  _context3.t4 = _context3[\"catch\"](73);\n                  _didIteratorError3 = true;\n                  _iteratorError3 = _context3.t4;\n\n                case 98:\n                  _context3.prev = 98;\n                  _context3.prev = 99;\n\n                  if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n                    _iterator3.return();\n                  }\n\n                case 101:\n                  _context3.prev = 101;\n\n                  if (!_didIteratorError3) {\n                    _context3.next = 104;\n                    break;\n                  }\n\n                  throw _iteratorError3;\n\n                case 104:\n                  return _context3.finish(101);\n\n                case 105:\n                  return _context3.finish(98);\n\n                case 106:\n                  // First, attempt to find a matching file or directory\n                  match = entryDirectoryMap.get(filename);\n\n                  if (!match) {\n                    _context3.next = 111;\n                    break;\n                  }\n\n                  if (!(match.type !== ResolvedEntryKind.Directory)) {\n                    _context3.next = 110;\n                    break;\n                  }\n\n                  throw new Error(\"Invariant violation \".concat(match.type, \" is unexpected\"));\n\n                case 110:\n                  return _context3.abrupt(\"return\", this.resolveAsDirectory(match.url, options));\n\n                case 111:\n                  throw new EntryNotFoundError(url);\n\n                case 112:\n                case \"end\":\n                  return _context3.stop();\n              }\n            }\n          }, _callee3, this, [[46, 58, 62, 70], [63,, 65, 69], [73, 94, 98, 106], [99,, 101, 105]]);\n        }));\n\n        function resolveAsFile(_x4, _x5) {\n          return _resolveAsFile.apply(this, arguments);\n        }\n\n        return resolveAsFile;\n      }()\n    }, {\n      key: \"readParentPackageJson\",\n      value: function () {\n        var _readParentPackageJson = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee5(url) {\n          var _this8 = this;\n\n          var options,\n              hostRootUrl,\n              hostRootHref,\n              containingDirUrl,\n              readPackageJsonOrRecurse,\n              _args5 = arguments;\n          return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n              switch (_context5.prev = _context5.next) {\n                case 0:\n                  options = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : {};\n                  _context5.next = 3;\n                  return this.host.getCanonicalUrl(this, url, {\n                    token: options.token\n                  });\n\n                case 3:\n                  url = _context5.sent;\n\n                  if (!(options.token && options.token.isCancellationRequested)) {\n                    _context5.next = 6;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 6:\n                  _context5.next = 8;\n                  return this.host.getResolveRoot(this, url, {\n                    token: options.token\n                  });\n\n                case 8:\n                  hostRootUrl = _context5.sent;\n\n                  if (!(options.token && options.token.isCancellationRequested)) {\n                    _context5.next = 11;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 11:\n                  hostRootHref = ensureTrailingSlash(hostRootUrl.href);\n                  containingDirUrl = new URL(ensureTrailingSlash(dirname(url.pathname)), url);\n\n                  readPackageJsonOrRecurse =\n                  /*#__PURE__*/\n                  function () {\n                    var _ref5 = _asyncToGenerator(\n                    /*#__PURE__*/\n                    _regeneratorRuntime.mark(function _callee4(dir) {\n                      var entries, packageJsonEntry, parentPackageJsonContent, packageJson, parentDir;\n                      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                        while (1) {\n                          switch (_context4.prev = _context4.next) {\n                            case 0:\n                              if (dir.href.startsWith(hostRootHref)) {\n                                _context4.next = 2;\n                                break;\n                              }\n\n                              return _context4.abrupt(\"return\", undefined);\n\n                            case 2:\n                              _context4.next = 4;\n                              return _this8.host.listEntries(_this8, dir, {\n                                token: options.token\n                              });\n\n                            case 4:\n                              entries = _context4.sent;\n\n                              if (!(options.token && options.token.isCancellationRequested)) {\n                                _context4.next = 7;\n                                break;\n                              }\n\n                              throw new CanceledError('Canceled');\n\n                            case 7:\n                              packageJsonEntry = entries.find(function (entry) {\n                                return entry.type === ResolvedEntryKind.File && entry.url.pathname.endsWith('/package.json');\n                              });\n\n                              if (!packageJsonEntry) {\n                                _context4.next = 22;\n                                break;\n                              }\n\n                              _context4.prev = 9;\n                              _context4.next = 12;\n                              return _this8.host.readFileContent(_this8, packageJsonEntry.url, {\n                                token: options.token\n                              });\n\n                            case 12:\n                              parentPackageJsonContent = _context4.sent;\n\n                              if (!(options.token && options.token.isCancellationRequested)) {\n                                _context4.next = 15;\n                                break;\n                              }\n\n                              throw new CanceledError('Canceled');\n\n                            case 15:\n                              packageJson = parseBufferAsPackageJson(_this8.decoder, parentPackageJsonContent, packageJsonEntry.url.href);\n                              return _context4.abrupt(\"return\", {\n                                packageJson: packageJson,\n                                url: packageJsonEntry.url\n                              });\n\n                            case 19:\n                              _context4.prev = 19;\n                              _context4.t0 = _context4[\"catch\"](9);\n                              console.warn(\"Error reading the parent package manifest for \".concat(url.href, \" from \").concat(packageJsonEntry.url.href, \": \").concat(_context4.t0.message));\n\n                            case 22:\n                              // Not found here, let's try one up\n                              parentDir = new URL(ensureTrailingSlash(dirname(dir.pathname)), dir); // Skip infinite recursion\n\n                              if (!(parentDir.href === dir.href)) {\n                                _context4.next = 25;\n                                break;\n                              }\n\n                              return _context4.abrupt(\"return\", undefined);\n\n                            case 25:\n                              return _context4.abrupt(\"return\", readPackageJsonOrRecurse(parentDir));\n\n                            case 26:\n                            case \"end\":\n                              return _context4.stop();\n                          }\n                        }\n                      }, _callee4, null, [[9, 19]]);\n                    }));\n\n                    return function readPackageJsonOrRecurse(_x7) {\n                      return _ref5.apply(this, arguments);\n                    };\n                  }();\n\n                  return _context5.abrupt(\"return\", readPackageJsonOrRecurse(containingDirUrl));\n\n                case 15:\n                case \"end\":\n                  return _context5.stop();\n              }\n            }\n          }, _callee5, this);\n        }));\n\n        function readParentPackageJson(_x6) {\n          return _readParentPackageJson.apply(this, arguments);\n        }\n\n        return readParentPackageJson;\n      }()\n    }]);\n\n    return Resolver;\n  }();\n\n  Resolver.defaultExtensions = ['.js', '.jsx', '.es6', '.es', '.mjs', '.ts', '.tsx', '.json'];\n  Resolver.path = {\n    basename: basename,\n    dirname: dirname,\n    extname: extname,\n    resolve: resolve\n  };\n\n  var iterator = function iterator(Yallist) {\n    Yallist.prototype[Symbol.iterator] =\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee6() {\n      var walker;\n      return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              walker = this.head;\n\n            case 1:\n              if (!walker) {\n                _context6.next = 7;\n                break;\n              }\n\n              _context6.next = 4;\n              return walker.value;\n\n            case 4:\n              walker = walker.next;\n              _context6.next = 1;\n              break;\n\n            case 7:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, _callee6, this);\n    });\n  };\n\n  var yallist = Yallist;\n  Yallist.Node = Node$1;\n  Yallist.create = Yallist;\n\n  function Yallist(list) {\n    var self = this;\n\n    if (!(self instanceof Yallist)) {\n      self = new Yallist();\n    }\n\n    self.tail = null;\n    self.head = null;\n    self.length = 0;\n\n    if (list && typeof list.forEach === 'function') {\n      list.forEach(function (item) {\n        self.push(item);\n      });\n    } else if (arguments.length > 0) {\n      for (var i = 0, l = arguments.length; i < l; i++) {\n        self.push(arguments[i]);\n      }\n    }\n\n    return self;\n  }\n\n  Yallist.prototype.removeNode = function (node) {\n    if (node.list !== this) {\n      throw new Error('removing node which does not belong to this list');\n    }\n\n    var next = node.next;\n    var prev = node.prev;\n\n    if (next) {\n      next.prev = prev;\n    }\n\n    if (prev) {\n      prev.next = next;\n    }\n\n    if (node === this.head) {\n      this.head = next;\n    }\n\n    if (node === this.tail) {\n      this.tail = prev;\n    }\n\n    node.list.length--;\n    node.next = null;\n    node.prev = null;\n    node.list = null;\n  };\n\n  Yallist.prototype.unshiftNode = function (node) {\n    if (node === this.head) {\n      return;\n    }\n\n    if (node.list) {\n      node.list.removeNode(node);\n    }\n\n    var head = this.head;\n    node.list = this;\n    node.next = head;\n\n    if (head) {\n      head.prev = node;\n    }\n\n    this.head = node;\n\n    if (!this.tail) {\n      this.tail = node;\n    }\n\n    this.length++;\n  };\n\n  Yallist.prototype.pushNode = function (node) {\n    if (node === this.tail) {\n      return;\n    }\n\n    if (node.list) {\n      node.list.removeNode(node);\n    }\n\n    var tail = this.tail;\n    node.list = this;\n    node.prev = tail;\n\n    if (tail) {\n      tail.next = node;\n    }\n\n    this.tail = node;\n\n    if (!this.head) {\n      this.head = node;\n    }\n\n    this.length++;\n  };\n\n  Yallist.prototype.push = function () {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      push(this, arguments[i]);\n    }\n\n    return this.length;\n  };\n\n  Yallist.prototype.unshift = function () {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      unshift(this, arguments[i]);\n    }\n\n    return this.length;\n  };\n\n  Yallist.prototype.pop = function () {\n    if (!this.tail) {\n      return undefined;\n    }\n\n    var res = this.tail.value;\n    this.tail = this.tail.prev;\n\n    if (this.tail) {\n      this.tail.next = null;\n    } else {\n      this.head = null;\n    }\n\n    this.length--;\n    return res;\n  };\n\n  Yallist.prototype.shift = function () {\n    if (!this.head) {\n      return undefined;\n    }\n\n    var res = this.head.value;\n    this.head = this.head.next;\n\n    if (this.head) {\n      this.head.prev = null;\n    } else {\n      this.tail = null;\n    }\n\n    this.length--;\n    return res;\n  };\n\n  Yallist.prototype.forEach = function (fn, thisp) {\n    thisp = thisp || this;\n\n    for (var walker = this.head, i = 0; walker !== null; i++) {\n      fn.call(thisp, walker.value, i, this);\n      walker = walker.next;\n    }\n  };\n\n  Yallist.prototype.forEachReverse = function (fn, thisp) {\n    thisp = thisp || this;\n\n    for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n      fn.call(thisp, walker.value, i, this);\n      walker = walker.prev;\n    }\n  };\n\n  Yallist.prototype.get = function (n) {\n    for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n      // abort out of the list early if we hit a cycle\n      walker = walker.next;\n    }\n\n    if (i === n && walker !== null) {\n      return walker.value;\n    }\n  };\n\n  Yallist.prototype.getReverse = function (n) {\n    for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n      // abort out of the list early if we hit a cycle\n      walker = walker.prev;\n    }\n\n    if (i === n && walker !== null) {\n      return walker.value;\n    }\n  };\n\n  Yallist.prototype.map = function (fn, thisp) {\n    thisp = thisp || this;\n    var res = new Yallist();\n\n    for (var walker = this.head; walker !== null;) {\n      res.push(fn.call(thisp, walker.value, this));\n      walker = walker.next;\n    }\n\n    return res;\n  };\n\n  Yallist.prototype.mapReverse = function (fn, thisp) {\n    thisp = thisp || this;\n    var res = new Yallist();\n\n    for (var walker = this.tail; walker !== null;) {\n      res.push(fn.call(thisp, walker.value, this));\n      walker = walker.prev;\n    }\n\n    return res;\n  };\n\n  Yallist.prototype.reduce = function (fn, initial) {\n    var acc;\n    var walker = this.head;\n\n    if (arguments.length > 1) {\n      acc = initial;\n    } else if (this.head) {\n      walker = this.head.next;\n      acc = this.head.value;\n    } else {\n      throw new TypeError('Reduce of empty list with no initial value');\n    }\n\n    for (var i = 0; walker !== null; i++) {\n      acc = fn(acc, walker.value, i);\n      walker = walker.next;\n    }\n\n    return acc;\n  };\n\n  Yallist.prototype.reduceReverse = function (fn, initial) {\n    var acc;\n    var walker = this.tail;\n\n    if (arguments.length > 1) {\n      acc = initial;\n    } else if (this.tail) {\n      walker = this.tail.prev;\n      acc = this.tail.value;\n    } else {\n      throw new TypeError('Reduce of empty list with no initial value');\n    }\n\n    for (var i = this.length - 1; walker !== null; i--) {\n      acc = fn(acc, walker.value, i);\n      walker = walker.prev;\n    }\n\n    return acc;\n  };\n\n  Yallist.prototype.toArray = function () {\n    var arr = new Array(this.length);\n\n    for (var i = 0, walker = this.head; walker !== null; i++) {\n      arr[i] = walker.value;\n      walker = walker.next;\n    }\n\n    return arr;\n  };\n\n  Yallist.prototype.toArrayReverse = function () {\n    var arr = new Array(this.length);\n\n    for (var i = 0, walker = this.tail; walker !== null; i++) {\n      arr[i] = walker.value;\n      walker = walker.prev;\n    }\n\n    return arr;\n  };\n\n  Yallist.prototype.slice = function (from, to) {\n    to = to || this.length;\n\n    if (to < 0) {\n      to += this.length;\n    }\n\n    from = from || 0;\n\n    if (from < 0) {\n      from += this.length;\n    }\n\n    var ret = new Yallist();\n\n    if (to < from || to < 0) {\n      return ret;\n    }\n\n    if (from < 0) {\n      from = 0;\n    }\n\n    if (to > this.length) {\n      to = this.length;\n    }\n\n    for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n      walker = walker.next;\n    }\n\n    for (; walker !== null && i < to; i++, walker = walker.next) {\n      ret.push(walker.value);\n    }\n\n    return ret;\n  };\n\n  Yallist.prototype.sliceReverse = function (from, to) {\n    to = to || this.length;\n\n    if (to < 0) {\n      to += this.length;\n    }\n\n    from = from || 0;\n\n    if (from < 0) {\n      from += this.length;\n    }\n\n    var ret = new Yallist();\n\n    if (to < from || to < 0) {\n      return ret;\n    }\n\n    if (from < 0) {\n      from = 0;\n    }\n\n    if (to > this.length) {\n      to = this.length;\n    }\n\n    for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n      walker = walker.prev;\n    }\n\n    for (; walker !== null && i > from; i--, walker = walker.prev) {\n      ret.push(walker.value);\n    }\n\n    return ret;\n  };\n\n  Yallist.prototype.reverse = function () {\n    var head = this.head;\n    var tail = this.tail;\n\n    for (var walker = head; walker !== null; walker = walker.prev) {\n      var p = walker.prev;\n      walker.prev = walker.next;\n      walker.next = p;\n    }\n\n    this.head = tail;\n    this.tail = head;\n    return this;\n  };\n\n  function push(self, item) {\n    self.tail = new Node$1(item, self.tail, null, self);\n\n    if (!self.head) {\n      self.head = self.tail;\n    }\n\n    self.length++;\n  }\n\n  function unshift(self, item) {\n    self.head = new Node$1(item, null, self.head, self);\n\n    if (!self.tail) {\n      self.tail = self.head;\n    }\n\n    self.length++;\n  }\n\n  function Node$1(value, prev, next, list) {\n    if (!(this instanceof Node$1)) {\n      return new Node$1(value, prev, next, list);\n    }\n\n    this.list = list;\n    this.value = value;\n\n    if (prev) {\n      prev.next = this;\n      this.prev = prev;\n    } else {\n      this.prev = null;\n    }\n\n    if (next) {\n      next.prev = this;\n      this.next = next;\n    } else {\n      this.next = null;\n    }\n  }\n\n  try {\n    // add if support for Symbol.iterator is present\n    iterator(Yallist);\n  } catch (er) {} // A linked list to keep track of recently-used-ness\n\n\n  var MAX = Symbol('max');\n  var LENGTH = Symbol('length');\n  var LENGTH_CALCULATOR = Symbol('lengthCalculator');\n  var ALLOW_STALE = Symbol('allowStale');\n  var MAX_AGE = Symbol('maxAge');\n  var DISPOSE = Symbol('dispose');\n  var NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet');\n  var LRU_LIST = Symbol('lruList');\n  var CACHE = Symbol('cache');\n  var UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet');\n\n  var naiveLength = function naiveLength() {\n    return 1;\n  }; // lruList is a yallist where the head is the youngest\n  // item, and the tail is the oldest.  the list contains the Hit\n  // objects as the entries.\n  // Each Hit object has a reference to its Yallist.Node.  This\n  // never changes.\n  //\n  // cache is a Map (or PseudoMap) that matches the keys to\n  // the Yallist.Node object.\n\n\n  var LRUCache =\n  /*#__PURE__*/\n  function () {\n    function LRUCache(options) {\n      _classCallCheck(this, LRUCache);\n\n      if (typeof options === 'number') options = {\n        max: options\n      };\n      if (!options) options = {};\n      if (options.max && (typeof options.max !== 'number' || options.max < 0)) throw new TypeError('max must be a non-negative number'); // Kind of weird to have a default max of Infinity, but oh well.\n\n      var max = this[MAX] = options.max || Infinity;\n      var lc = options.length || naiveLength;\n      this[LENGTH_CALCULATOR] = typeof lc !== 'function' ? naiveLength : lc;\n      this[ALLOW_STALE] = options.stale || false;\n      if (options.maxAge && typeof options.maxAge !== 'number') throw new TypeError('maxAge must be a number');\n      this[MAX_AGE] = options.maxAge || 0;\n      this[DISPOSE] = options.dispose;\n      this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false;\n      this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false;\n      this.reset();\n    } // resize the cache when the max changes.\n\n\n    _createClass(LRUCache, [{\n      key: \"rforEach\",\n      value: function rforEach(fn, thisp) {\n        thisp = thisp || this;\n\n        for (var walker = this[LRU_LIST].tail; walker !== null;) {\n          var prev = walker.prev;\n          forEachStep(this, fn, walker, thisp);\n          walker = prev;\n        }\n      }\n    }, {\n      key: \"forEach\",\n      value: function forEach(fn, thisp) {\n        thisp = thisp || this;\n\n        for (var walker = this[LRU_LIST].head; walker !== null;) {\n          var next = walker.next;\n          forEachStep(this, fn, walker, thisp);\n          walker = next;\n        }\n      }\n    }, {\n      key: \"keys\",\n      value: function keys() {\n        return this[LRU_LIST].toArray().map(function (k) {\n          return k.key;\n        });\n      }\n    }, {\n      key: \"values\",\n      value: function values() {\n        return this[LRU_LIST].toArray().map(function (k) {\n          return k.value;\n        });\n      }\n    }, {\n      key: \"reset\",\n      value: function reset() {\n        var _this9 = this;\n\n        if (this[DISPOSE] && this[LRU_LIST] && this[LRU_LIST].length) {\n          this[LRU_LIST].forEach(function (hit) {\n            return _this9[DISPOSE](hit.key, hit.value);\n          });\n        }\n\n        this[CACHE] = new Map(); // hash of items by key\n\n        this[LRU_LIST] = new yallist(); // list of items in order of use recency\n\n        this[LENGTH] = 0; // length of items in the list\n      }\n    }, {\n      key: \"dump\",\n      value: function dump() {\n        var _this10 = this;\n\n        return this[LRU_LIST].map(function (hit) {\n          return isStale(_this10, hit) ? false : {\n            k: hit.key,\n            v: hit.value,\n            e: hit.now + (hit.maxAge || 0)\n          };\n        }).toArray().filter(function (h) {\n          return h;\n        });\n      }\n    }, {\n      key: \"dumpLru\",\n      value: function dumpLru() {\n        return this[LRU_LIST];\n      }\n    }, {\n      key: \"set\",\n      value: function set(key, value, maxAge) {\n        maxAge = maxAge || this[MAX_AGE];\n        if (maxAge && typeof maxAge !== 'number') throw new TypeError('maxAge must be a number');\n        var now = maxAge ? Date.now() : 0;\n        var len = this[LENGTH_CALCULATOR](value, key);\n\n        if (this[CACHE].has(key)) {\n          if (len > this[MAX]) {\n            _del(this, this[CACHE].get(key));\n\n            return false;\n          }\n\n          var node = this[CACHE].get(key);\n          var item = node.value; // dispose of the old one before overwriting\n          // split out into 2 ifs for better coverage tracking\n\n          if (this[DISPOSE]) {\n            if (!this[NO_DISPOSE_ON_SET]) this[DISPOSE](key, item.value);\n          }\n\n          item.now = now;\n          item.maxAge = maxAge;\n          item.value = value;\n          this[LENGTH] += len - item.length;\n          item.length = len;\n          this.get(key);\n          trim(this);\n          return true;\n        }\n\n        var hit = new Entry(key, value, len, now, maxAge); // oversized objects fall out of cache automatically.\n\n        if (hit.length > this[MAX]) {\n          if (this[DISPOSE]) this[DISPOSE](key, value);\n          return false;\n        }\n\n        this[LENGTH] += hit.length;\n        this[LRU_LIST].unshift(hit);\n        this[CACHE].set(key, this[LRU_LIST].head);\n        trim(this);\n        return true;\n      }\n    }, {\n      key: \"has\",\n      value: function has(key) {\n        if (!this[CACHE].has(key)) return false;\n        var hit = this[CACHE].get(key).value;\n        return !isStale(this, hit);\n      }\n    }, {\n      key: \"get\",\n      value: function get(key) {\n        return _get(this, key, true);\n      }\n    }, {\n      key: \"peek\",\n      value: function peek(key) {\n        return _get(this, key, false);\n      }\n    }, {\n      key: \"pop\",\n      value: function pop() {\n        var node = this[LRU_LIST].tail;\n        if (!node) return null;\n\n        _del(this, node);\n\n        return node.value;\n      }\n    }, {\n      key: \"del\",\n      value: function del(key) {\n        _del(this, this[CACHE].get(key));\n      }\n    }, {\n      key: \"load\",\n      value: function load(arr) {\n        // reset the cache\n        this.reset();\n        var now = Date.now(); // A previous serialized cache has the most recent items first\n\n        for (var l = arr.length - 1; l >= 0; l--) {\n          var hit = arr[l];\n          var expiresAt = hit.e || 0;\n          if (expiresAt === 0) // the item was created without expiration in a non aged cache\n            this.set(hit.k, hit.v);else {\n            var maxAge = expiresAt - now; // dont add already expired items\n\n            if (maxAge > 0) {\n              this.set(hit.k, hit.v, maxAge);\n            }\n          }\n        }\n      }\n    }, {\n      key: \"prune\",\n      value: function prune() {\n        var _this11 = this;\n\n        this[CACHE].forEach(function (value, key) {\n          return _get(_this11, key, false);\n        });\n      }\n    }, {\n      key: \"max\",\n      set: function set(mL) {\n        if (typeof mL !== 'number' || mL < 0) throw new TypeError('max must be a non-negative number');\n        this[MAX] = mL || Infinity;\n        trim(this);\n      },\n      get: function get() {\n        return this[MAX];\n      }\n    }, {\n      key: \"allowStale\",\n      set: function set(allowStale) {\n        this[ALLOW_STALE] = !!allowStale;\n      },\n      get: function get() {\n        return this[ALLOW_STALE];\n      }\n    }, {\n      key: \"maxAge\",\n      set: function set(mA) {\n        if (typeof mA !== 'number') throw new TypeError('maxAge must be a non-negative number');\n        this[MAX_AGE] = mA;\n        trim(this);\n      },\n      get: function get() {\n        return this[MAX_AGE];\n      } // resize the cache when the lengthCalculator changes.\n\n    }, {\n      key: \"lengthCalculator\",\n      set: function set(lC) {\n        var _this12 = this;\n\n        if (typeof lC !== 'function') lC = naiveLength;\n\n        if (lC !== this[LENGTH_CALCULATOR]) {\n          this[LENGTH_CALCULATOR] = lC;\n          this[LENGTH] = 0;\n          this[LRU_LIST].forEach(function (hit) {\n            hit.length = _this12[LENGTH_CALCULATOR](hit.value, hit.key);\n            _this12[LENGTH] += hit.length;\n          });\n        }\n\n        trim(this);\n      },\n      get: function get() {\n        return this[LENGTH_CALCULATOR];\n      }\n    }, {\n      key: \"length\",\n      get: function get() {\n        return this[LENGTH];\n      }\n    }, {\n      key: \"itemCount\",\n      get: function get() {\n        return this[LRU_LIST].length;\n      }\n    }]);\n\n    return LRUCache;\n  }();\n\n  var _get = function _get(self, key, doUse) {\n    var node = self[CACHE].get(key);\n\n    if (node) {\n      var hit = node.value;\n\n      if (isStale(self, hit)) {\n        _del(self, node);\n\n        if (!self[ALLOW_STALE]) return undefined;\n      } else {\n        if (doUse) {\n          if (self[UPDATE_AGE_ON_GET]) node.value.now = Date.now();\n          self[LRU_LIST].unshiftNode(node);\n        }\n      }\n\n      return hit.value;\n    }\n  };\n\n  var isStale = function isStale(self, hit) {\n    if (!hit || !hit.maxAge && !self[MAX_AGE]) return false;\n    var diff = Date.now() - hit.now;\n    return hit.maxAge ? diff > hit.maxAge : self[MAX_AGE] && diff > self[MAX_AGE];\n  };\n\n  var trim = function trim(self) {\n    if (self[LENGTH] > self[MAX]) {\n      for (var walker = self[LRU_LIST].tail; self[LENGTH] > self[MAX] && walker !== null;) {\n        // We know that we're about to delete this one, and also\n        // what the next least recently used key will be, so just\n        // go ahead and set it now.\n        var prev = walker.prev;\n\n        _del(self, walker);\n\n        walker = prev;\n      }\n    }\n  };\n\n  var _del = function _del(self, node) {\n    if (node) {\n      var hit = node.value;\n      if (self[DISPOSE]) self[DISPOSE](hit.key, hit.value);\n      self[LENGTH] -= hit.length;\n      self[CACHE].delete(hit.key);\n      self[LRU_LIST].removeNode(node);\n    }\n  };\n\n  var Entry = function Entry(key, value, length, now, maxAge) {\n    _classCallCheck(this, Entry);\n\n    this.key = key;\n    this.value = value;\n    this.length = length;\n    this.now = now;\n    this.maxAge = maxAge || 0;\n  };\n\n  var forEachStep = function forEachStep(self, fn, node, thisp) {\n    var hit = node.value;\n\n    if (isStale(self, hit)) {\n      _del(self, node);\n\n      if (!self[ALLOW_STALE]) hit = undefined;\n    }\n\n    if (hit) fn.call(thisp, hit.value, hit.key, self);\n  };\n\n  var lruCache = LRUCache;\n\n  function createCommonjsModule(fn, module) {\n    return module = {\n      exports: {}\n    }, fn(module, module.exports), module.exports;\n  }\n\n  var semver = createCommonjsModule(function (module, exports) {\n    exports = module.exports = SemVer;\n    var debug;\n    /* istanbul ignore next */\n\n    if (typeof process === 'object' && process.env && process.env.NODE_DEBUG && /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n      debug = function debug() {\n        var args = Array.prototype.slice.call(arguments, 0);\n        args.unshift('SEMVER');\n        console.log.apply(console, args);\n      };\n    } else {\n      debug = function debug() {};\n    } // Note: this is the semver.org version of the spec that it implements\n    // Not necessarily the package version of this code.\n\n\n    exports.SEMVER_SPEC_VERSION = '2.0.0';\n    var MAX_LENGTH = 256;\n    var MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n    /* istanbul ignore next */\n    9007199254740991; // Max safe segment length for coercion.\n\n    var MAX_SAFE_COMPONENT_LENGTH = 16; // The actual regexps go on exports.re\n\n    var re = exports.re = [];\n    var src = exports.src = [];\n    var R = 0; // The following Regular Expressions can be used for tokenizing,\n    // validating, and parsing SemVer version strings.\n    // ## Numeric Identifier\n    // A single `0`, or a non-zero digit followed by zero or more digits.\n\n    var NUMERICIDENTIFIER = R++;\n    src[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*';\n    var NUMERICIDENTIFIERLOOSE = R++;\n    src[NUMERICIDENTIFIERLOOSE] = '[0-9]+'; // ## Non-numeric Identifier\n    // Zero or more digits, followed by a letter or hyphen, and then zero or\n    // more letters, digits, or hyphens.\n\n    var NONNUMERICIDENTIFIER = R++;\n    src[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'; // ## Main Version\n    // Three dot-separated numeric identifiers.\n\n    var MAINVERSION = R++;\n    src[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' + '(' + src[NUMERICIDENTIFIER] + ')\\\\.' + '(' + src[NUMERICIDENTIFIER] + ')';\n    var MAINVERSIONLOOSE = R++;\n    src[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' + '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' + '(' + src[NUMERICIDENTIFIERLOOSE] + ')'; // ## Pre-release Version Identifier\n    // A numeric identifier, or a non-numeric identifier.\n\n    var PRERELEASEIDENTIFIER = R++;\n    src[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] + '|' + src[NONNUMERICIDENTIFIER] + ')';\n    var PRERELEASEIDENTIFIERLOOSE = R++;\n    src[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] + '|' + src[NONNUMERICIDENTIFIER] + ')'; // ## Pre-release Version\n    // Hyphen, followed by one or more dot-separated pre-release version\n    // identifiers.\n\n    var PRERELEASE = R++;\n    src[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] + '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))';\n    var PRERELEASELOOSE = R++;\n    src[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] + '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'; // ## Build Metadata Identifier\n    // Any combination of digits, letters, or hyphens.\n\n    var BUILDIDENTIFIER = R++;\n    src[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'; // ## Build Metadata\n    // Plus sign, followed by one or more period-separated build metadata\n    // identifiers.\n\n    var BUILD = R++;\n    src[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] + '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'; // ## Full Version String\n    // A main version, followed optionally by a pre-release version and\n    // build metadata.\n    // Note that the only major, minor, patch, and pre-release sections of\n    // the version string are capturing groups.  The build metadata is not a\n    // capturing group, because it should not ever be used in version\n    // comparison.\n\n    var FULL = R++;\n    var FULLPLAIN = 'v?' + src[MAINVERSION] + src[PRERELEASE] + '?' + src[BUILD] + '?';\n    src[FULL] = '^' + FULLPLAIN + '$'; // like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n    // also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n    // common in the npm registry.\n\n    var LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] + src[PRERELEASELOOSE] + '?' + src[BUILD] + '?';\n    var LOOSE = R++;\n    src[LOOSE] = '^' + LOOSEPLAIN + '$';\n    var GTLT = R++;\n    src[GTLT] = '((?:<|>)?=?)'; // Something like \"2.*\" or \"1.2.x\".\n    // Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n    // Only the first item is strictly required.\n\n    var XRANGEIDENTIFIERLOOSE = R++;\n    src[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*';\n    var XRANGEIDENTIFIER = R++;\n    src[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*';\n    var XRANGEPLAIN = R++;\n    src[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' + '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' + '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' + '(?:' + src[PRERELEASE] + ')?' + src[BUILD] + '?' + ')?)?';\n    var XRANGEPLAINLOOSE = R++;\n    src[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' + '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' + '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' + '(?:' + src[PRERELEASELOOSE] + ')?' + src[BUILD] + '?' + ')?)?';\n    var XRANGE = R++;\n    src[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$';\n    var XRANGELOOSE = R++;\n    src[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'; // Coercion.\n    // Extract anything that could conceivably be a part of a valid semver\n\n    var COERCE = R++;\n    src[COERCE] = '(?:^|[^\\\\d])' + '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' + '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' + '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' + '(?:$|[^\\\\d])'; // Tilde ranges.\n    // Meaning is \"reasonably at or greater than\"\n\n    var LONETILDE = R++;\n    src[LONETILDE] = '(?:~>?)';\n    var TILDETRIM = R++;\n    src[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+';\n    re[TILDETRIM] = new RegExp(src[TILDETRIM], 'g');\n    var tildeTrimReplace = '$1~';\n    var TILDE = R++;\n    src[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$';\n    var TILDELOOSE = R++;\n    src[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'; // Caret ranges.\n    // Meaning is \"at least and backwards compatible with\"\n\n    var LONECARET = R++;\n    src[LONECARET] = '(?:\\\\^)';\n    var CARETTRIM = R++;\n    src[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+';\n    re[CARETTRIM] = new RegExp(src[CARETTRIM], 'g');\n    var caretTrimReplace = '$1^';\n    var CARET = R++;\n    src[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$';\n    var CARETLOOSE = R++;\n    src[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'; // A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\n\n    var COMPARATORLOOSE = R++;\n    src[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$';\n    var COMPARATOR = R++;\n    src[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'; // An expression to strip any whitespace between the gtlt and the thing\n    // it modifies, so that `> 1.2.3` ==> `>1.2.3`\n\n    var COMPARATORTRIM = R++;\n    src[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'; // this one has to use the /g flag\n\n    re[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g');\n    var comparatorTrimReplace = '$1$2$3'; // Something like `1.2.3 - 1.2.4`\n    // Note that these all use the loose form, because they'll be\n    // checked against either the strict or loose comparator form\n    // later.\n\n    var HYPHENRANGE = R++;\n    src[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' + '\\\\s+-\\\\s+' + '(' + src[XRANGEPLAIN] + ')' + '\\\\s*$';\n    var HYPHENRANGELOOSE = R++;\n    src[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' + '\\\\s+-\\\\s+' + '(' + src[XRANGEPLAINLOOSE] + ')' + '\\\\s*$'; // Star ranges basically just allow anything at all.\n\n    var STAR = R++;\n    src[STAR] = '(<|>)?=?\\\\s*\\\\*'; // Compile to actual regexp objects.\n    // All are flag-free, unless they were created above with a flag.\n\n    for (var i = 0; i < R; i++) {\n      debug(i, src[i]);\n\n      if (!re[i]) {\n        re[i] = new RegExp(src[i]);\n      }\n    }\n\n    exports.parse = parse;\n\n    function parse(version, options) {\n      if (!options || typeof options !== 'object') {\n        options = {\n          loose: !!options,\n          includePrerelease: false\n        };\n      }\n\n      if (version instanceof SemVer) {\n        return version;\n      }\n\n      if (typeof version !== 'string') {\n        return null;\n      }\n\n      if (version.length > MAX_LENGTH) {\n        return null;\n      }\n\n      var r = options.loose ? re[LOOSE] : re[FULL];\n\n      if (!r.test(version)) {\n        return null;\n      }\n\n      try {\n        return new SemVer(version, options);\n      } catch (er) {\n        return null;\n      }\n    }\n\n    exports.valid = valid;\n\n    function valid(version, options) {\n      var v = parse(version, options);\n      return v ? v.version : null;\n    }\n\n    exports.clean = clean;\n\n    function clean(version, options) {\n      var s = parse(version.trim().replace(/^[=v]+/, ''), options);\n      return s ? s.version : null;\n    }\n\n    exports.SemVer = SemVer;\n\n    function SemVer(version, options) {\n      if (!options || typeof options !== 'object') {\n        options = {\n          loose: !!options,\n          includePrerelease: false\n        };\n      }\n\n      if (version instanceof SemVer) {\n        if (version.loose === options.loose) {\n          return version;\n        } else {\n          version = version.version;\n        }\n      } else if (typeof version !== 'string') {\n        throw new TypeError('Invalid Version: ' + version);\n      }\n\n      if (version.length > MAX_LENGTH) {\n        throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters');\n      }\n\n      if (!(this instanceof SemVer)) {\n        return new SemVer(version, options);\n      }\n\n      debug('SemVer', version, options);\n      this.options = options;\n      this.loose = !!options.loose;\n      var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL]);\n\n      if (!m) {\n        throw new TypeError('Invalid Version: ' + version);\n      }\n\n      this.raw = version; // these are actually numbers\n\n      this.major = +m[1];\n      this.minor = +m[2];\n      this.patch = +m[3];\n\n      if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n        throw new TypeError('Invalid major version');\n      }\n\n      if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n        throw new TypeError('Invalid minor version');\n      }\n\n      if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n        throw new TypeError('Invalid patch version');\n      } // numberify any prerelease numeric ids\n\n\n      if (!m[4]) {\n        this.prerelease = [];\n      } else {\n        this.prerelease = m[4].split('.').map(function (id) {\n          if (/^[0-9]+$/.test(id)) {\n            var num = +id;\n\n            if (num >= 0 && num < MAX_SAFE_INTEGER) {\n              return num;\n            }\n          }\n\n          return id;\n        });\n      }\n\n      this.build = m[5] ? m[5].split('.') : [];\n      this.format();\n    }\n\n    SemVer.prototype.format = function () {\n      this.version = this.major + '.' + this.minor + '.' + this.patch;\n\n      if (this.prerelease.length) {\n        this.version += '-' + this.prerelease.join('.');\n      }\n\n      return this.version;\n    };\n\n    SemVer.prototype.toString = function () {\n      return this.version;\n    };\n\n    SemVer.prototype.compare = function (other) {\n      debug('SemVer.compare', this.version, this.options, other);\n\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n\n      return this.compareMain(other) || this.comparePre(other);\n    };\n\n    SemVer.prototype.compareMain = function (other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      }\n\n      return compareIdentifiers(this.major, other.major) || compareIdentifiers(this.minor, other.minor) || compareIdentifiers(this.patch, other.patch);\n    };\n\n    SemVer.prototype.comparePre = function (other) {\n      if (!(other instanceof SemVer)) {\n        other = new SemVer(other, this.options);\n      } // NOT having a prerelease is > having one\n\n\n      if (this.prerelease.length && !other.prerelease.length) {\n        return -1;\n      } else if (!this.prerelease.length && other.prerelease.length) {\n        return 1;\n      } else if (!this.prerelease.length && !other.prerelease.length) {\n        return 0;\n      }\n\n      var i = 0;\n\n      do {\n        var a = this.prerelease[i];\n        var b = other.prerelease[i];\n        debug('prerelease compare', i, a, b);\n\n        if (a === undefined && b === undefined) {\n          return 0;\n        } else if (b === undefined) {\n          return 1;\n        } else if (a === undefined) {\n          return -1;\n        } else if (a === b) {\n          continue;\n        } else {\n          return compareIdentifiers(a, b);\n        }\n      } while (++i);\n    }; // preminor will bump the version up to the next minor release, and immediately\n    // down to pre-release. premajor and prepatch work the same way.\n\n\n    SemVer.prototype.inc = function (release, identifier) {\n      switch (release) {\n        case 'premajor':\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor = 0;\n          this.major++;\n          this.inc('pre', identifier);\n          break;\n\n        case 'preminor':\n          this.prerelease.length = 0;\n          this.patch = 0;\n          this.minor++;\n          this.inc('pre', identifier);\n          break;\n\n        case 'prepatch':\n          // If this is already a prerelease, it will bump to the next version\n          // drop any prereleases that might already exist, since they are not\n          // relevant at this point.\n          this.prerelease.length = 0;\n          this.inc('patch', identifier);\n          this.inc('pre', identifier);\n          break;\n        // If the input is a non-prerelease version, this acts the same as\n        // prepatch.\n\n        case 'prerelease':\n          if (this.prerelease.length === 0) {\n            this.inc('patch', identifier);\n          }\n\n          this.inc('pre', identifier);\n          break;\n\n        case 'major':\n          // If this is a pre-major version, bump up to the same major version.\n          // Otherwise increment major.\n          // 1.0.0-5 bumps to 1.0.0\n          // 1.1.0 bumps to 2.0.0\n          if (this.minor !== 0 || this.patch !== 0 || this.prerelease.length === 0) {\n            this.major++;\n          }\n\n          this.minor = 0;\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n\n        case 'minor':\n          // If this is a pre-minor version, bump up to the same minor version.\n          // Otherwise increment minor.\n          // 1.2.0-5 bumps to 1.2.0\n          // 1.2.1 bumps to 1.3.0\n          if (this.patch !== 0 || this.prerelease.length === 0) {\n            this.minor++;\n          }\n\n          this.patch = 0;\n          this.prerelease = [];\n          break;\n\n        case 'patch':\n          // If this is not a pre-release version, it will increment the patch.\n          // If it is a pre-release it will bump up to the same patch version.\n          // 1.2.0-5 patches to 1.2.0\n          // 1.2.0 patches to 1.2.1\n          if (this.prerelease.length === 0) {\n            this.patch++;\n          }\n\n          this.prerelease = [];\n          break;\n        // This probably shouldn't be used publicly.\n        // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n\n        case 'pre':\n          if (this.prerelease.length === 0) {\n            this.prerelease = [0];\n          } else {\n            var i = this.prerelease.length;\n\n            while (--i >= 0) {\n              if (typeof this.prerelease[i] === 'number') {\n                this.prerelease[i]++;\n                i = -2;\n              }\n            }\n\n            if (i === -1) {\n              // didn't increment anything\n              this.prerelease.push(0);\n            }\n          }\n\n          if (identifier) {\n            // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n            // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n            if (this.prerelease[0] === identifier) {\n              if (isNaN(this.prerelease[1])) {\n                this.prerelease = [identifier, 0];\n              }\n            } else {\n              this.prerelease = [identifier, 0];\n            }\n          }\n\n          break;\n\n        default:\n          throw new Error('invalid increment argument: ' + release);\n      }\n\n      this.format();\n      this.raw = this.version;\n      return this;\n    };\n\n    exports.inc = inc;\n\n    function inc(version, release, loose, identifier) {\n      if (typeof loose === 'string') {\n        identifier = loose;\n        loose = undefined;\n      }\n\n      try {\n        return new SemVer(version, loose).inc(release, identifier).version;\n      } catch (er) {\n        return null;\n      }\n    }\n\n    exports.diff = diff;\n\n    function diff(version1, version2) {\n      if (eq(version1, version2)) {\n        return null;\n      } else {\n        var v1 = parse(version1);\n        var v2 = parse(version2);\n        var prefix = '';\n\n        if (v1.prerelease.length || v2.prerelease.length) {\n          prefix = 'pre';\n          var defaultResult = 'prerelease';\n        }\n\n        for (var key in v1) {\n          if (key === 'major' || key === 'minor' || key === 'patch') {\n            if (v1[key] !== v2[key]) {\n              return prefix + key;\n            }\n          }\n        }\n\n        return defaultResult; // may be undefined\n      }\n    }\n\n    exports.compareIdentifiers = compareIdentifiers;\n    var numeric = /^[0-9]+$/;\n\n    function compareIdentifiers(a, b) {\n      var anum = numeric.test(a);\n      var bnum = numeric.test(b);\n\n      if (anum && bnum) {\n        a = +a;\n        b = +b;\n      }\n\n      return a === b ? 0 : anum && !bnum ? -1 : bnum && !anum ? 1 : a < b ? -1 : 1;\n    }\n\n    exports.rcompareIdentifiers = rcompareIdentifiers;\n\n    function rcompareIdentifiers(a, b) {\n      return compareIdentifiers(b, a);\n    }\n\n    exports.major = major;\n\n    function major(a, loose) {\n      return new SemVer(a, loose).major;\n    }\n\n    exports.minor = minor;\n\n    function minor(a, loose) {\n      return new SemVer(a, loose).minor;\n    }\n\n    exports.patch = patch;\n\n    function patch(a, loose) {\n      return new SemVer(a, loose).patch;\n    }\n\n    exports.compare = compare;\n\n    function compare(a, b, loose) {\n      return new SemVer(a, loose).compare(new SemVer(b, loose));\n    }\n\n    exports.compareLoose = compareLoose;\n\n    function compareLoose(a, b) {\n      return compare(a, b, true);\n    }\n\n    exports.rcompare = rcompare;\n\n    function rcompare(a, b, loose) {\n      return compare(b, a, loose);\n    }\n\n    exports.sort = sort;\n\n    function sort(list, loose) {\n      return list.sort(function (a, b) {\n        return exports.compare(a, b, loose);\n      });\n    }\n\n    exports.rsort = rsort;\n\n    function rsort(list, loose) {\n      return list.sort(function (a, b) {\n        return exports.rcompare(a, b, loose);\n      });\n    }\n\n    exports.gt = gt;\n\n    function gt(a, b, loose) {\n      return compare(a, b, loose) > 0;\n    }\n\n    exports.lt = lt;\n\n    function lt(a, b, loose) {\n      return compare(a, b, loose) < 0;\n    }\n\n    exports.eq = eq;\n\n    function eq(a, b, loose) {\n      return compare(a, b, loose) === 0;\n    }\n\n    exports.neq = neq;\n\n    function neq(a, b, loose) {\n      return compare(a, b, loose) !== 0;\n    }\n\n    exports.gte = gte;\n\n    function gte(a, b, loose) {\n      return compare(a, b, loose) >= 0;\n    }\n\n    exports.lte = lte;\n\n    function lte(a, b, loose) {\n      return compare(a, b, loose) <= 0;\n    }\n\n    exports.cmp = cmp;\n\n    function cmp(a, op, b, loose) {\n      switch (op) {\n        case '===':\n          if (typeof a === 'object') a = a.version;\n          if (typeof b === 'object') b = b.version;\n          return a === b;\n\n        case '!==':\n          if (typeof a === 'object') a = a.version;\n          if (typeof b === 'object') b = b.version;\n          return a !== b;\n\n        case '':\n        case '=':\n        case '==':\n          return eq(a, b, loose);\n\n        case '!=':\n          return neq(a, b, loose);\n\n        case '>':\n          return gt(a, b, loose);\n\n        case '>=':\n          return gte(a, b, loose);\n\n        case '<':\n          return lt(a, b, loose);\n\n        case '<=':\n          return lte(a, b, loose);\n\n        default:\n          throw new TypeError('Invalid operator: ' + op);\n      }\n    }\n\n    exports.Comparator = Comparator;\n\n    function Comparator(comp, options) {\n      if (!options || typeof options !== 'object') {\n        options = {\n          loose: !!options,\n          includePrerelease: false\n        };\n      }\n\n      if (comp instanceof Comparator) {\n        if (comp.loose === !!options.loose) {\n          return comp;\n        } else {\n          comp = comp.value;\n        }\n      }\n\n      if (!(this instanceof Comparator)) {\n        return new Comparator(comp, options);\n      }\n\n      debug('comparator', comp, options);\n      this.options = options;\n      this.loose = !!options.loose;\n      this.parse(comp);\n\n      if (this.semver === ANY) {\n        this.value = '';\n      } else {\n        this.value = this.operator + this.semver.version;\n      }\n\n      debug('comp', this);\n    }\n\n    var ANY = {};\n\n    Comparator.prototype.parse = function (comp) {\n      var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n      var m = comp.match(r);\n\n      if (!m) {\n        throw new TypeError('Invalid comparator: ' + comp);\n      }\n\n      this.operator = m[1];\n\n      if (this.operator === '=') {\n        this.operator = '';\n      } // if it literally is just '>' or '' then allow anything.\n\n\n      if (!m[2]) {\n        this.semver = ANY;\n      } else {\n        this.semver = new SemVer(m[2], this.options.loose);\n      }\n    };\n\n    Comparator.prototype.toString = function () {\n      return this.value;\n    };\n\n    Comparator.prototype.test = function (version) {\n      debug('Comparator.test', version, this.options.loose);\n\n      if (this.semver === ANY) {\n        return true;\n      }\n\n      if (typeof version === 'string') {\n        version = new SemVer(version, this.options);\n      }\n\n      return cmp(version, this.operator, this.semver, this.options);\n    };\n\n    Comparator.prototype.intersects = function (comp, options) {\n      if (!(comp instanceof Comparator)) {\n        throw new TypeError('a Comparator is required');\n      }\n\n      if (!options || typeof options !== 'object') {\n        options = {\n          loose: !!options,\n          includePrerelease: false\n        };\n      }\n\n      var rangeTmp;\n\n      if (this.operator === '') {\n        rangeTmp = new Range(comp.value, options);\n        return satisfies(this.value, rangeTmp, options);\n      } else if (comp.operator === '') {\n        rangeTmp = new Range(this.value, options);\n        return satisfies(comp.semver, rangeTmp, options);\n      }\n\n      var sameDirectionIncreasing = (this.operator === '>=' || this.operator === '>') && (comp.operator === '>=' || comp.operator === '>');\n      var sameDirectionDecreasing = (this.operator === '<=' || this.operator === '<') && (comp.operator === '<=' || comp.operator === '<');\n      var sameSemVer = this.semver.version === comp.semver.version;\n      var differentDirectionsInclusive = (this.operator === '>=' || this.operator === '<=') && (comp.operator === '>=' || comp.operator === '<=');\n      var oppositeDirectionsLessThan = cmp(this.semver, '<', comp.semver, options) && (this.operator === '>=' || this.operator === '>') && (comp.operator === '<=' || comp.operator === '<');\n      var oppositeDirectionsGreaterThan = cmp(this.semver, '>', comp.semver, options) && (this.operator === '<=' || this.operator === '<') && (comp.operator === '>=' || comp.operator === '>');\n      return sameDirectionIncreasing || sameDirectionDecreasing || sameSemVer && differentDirectionsInclusive || oppositeDirectionsLessThan || oppositeDirectionsGreaterThan;\n    };\n\n    exports.Range = Range;\n\n    function Range(range, options) {\n      if (!options || typeof options !== 'object') {\n        options = {\n          loose: !!options,\n          includePrerelease: false\n        };\n      }\n\n      if (range instanceof Range) {\n        if (range.loose === !!options.loose && range.includePrerelease === !!options.includePrerelease) {\n          return range;\n        } else {\n          return new Range(range.raw, options);\n        }\n      }\n\n      if (range instanceof Comparator) {\n        return new Range(range.value, options);\n      }\n\n      if (!(this instanceof Range)) {\n        return new Range(range, options);\n      }\n\n      this.options = options;\n      this.loose = !!options.loose;\n      this.includePrerelease = !!options.includePrerelease; // First, split based on boolean or ||\n\n      this.raw = range;\n      this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n        return this.parseRange(range.trim());\n      }, this).filter(function (c) {\n        // throw out any that are not relevant for whatever reason\n        return c.length;\n      });\n\n      if (!this.set.length) {\n        throw new TypeError('Invalid SemVer Range: ' + range);\n      }\n\n      this.format();\n    }\n\n    Range.prototype.format = function () {\n      this.range = this.set.map(function (comps) {\n        return comps.join(' ').trim();\n      }).join('||').trim();\n      return this.range;\n    };\n\n    Range.prototype.toString = function () {\n      return this.range;\n    };\n\n    Range.prototype.parseRange = function (range) {\n      var loose = this.options.loose;\n      range = range.trim(); // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n\n      var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE];\n      range = range.replace(hr, hyphenReplace);\n      debug('hyphen replace', range); // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n\n      range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace);\n      debug('comparator trim', range, re[COMPARATORTRIM]); // `~ 1.2.3` => `~1.2.3`\n\n      range = range.replace(re[TILDETRIM], tildeTrimReplace); // `^ 1.2.3` => `^1.2.3`\n\n      range = range.replace(re[CARETTRIM], caretTrimReplace); // normalize spaces\n\n      range = range.split(/\\s+/).join(' '); // At this point, the range is completely trimmed and\n      // ready to be split into comparators.\n\n      var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR];\n      var set = range.split(' ').map(function (comp) {\n        return parseComparator(comp, this.options);\n      }, this).join(' ').split(/\\s+/);\n\n      if (this.options.loose) {\n        // in loose mode, throw out any that are not valid comparators\n        set = set.filter(function (comp) {\n          return !!comp.match(compRe);\n        });\n      }\n\n      set = set.map(function (comp) {\n        return new Comparator(comp, this.options);\n      }, this);\n      return set;\n    };\n\n    Range.prototype.intersects = function (range, options) {\n      if (!(range instanceof Range)) {\n        throw new TypeError('a Range is required');\n      }\n\n      return this.set.some(function (thisComparators) {\n        return thisComparators.every(function (thisComparator) {\n          return range.set.some(function (rangeComparators) {\n            return rangeComparators.every(function (rangeComparator) {\n              return thisComparator.intersects(rangeComparator, options);\n            });\n          });\n        });\n      });\n    }; // Mostly just for testing and legacy API reasons\n\n\n    exports.toComparators = toComparators;\n\n    function toComparators(range, options) {\n      return new Range(range, options).set.map(function (comp) {\n        return comp.map(function (c) {\n          return c.value;\n        }).join(' ').trim().split(' ');\n      });\n    } // comprised of xranges, tildes, stars, and gtlt's at this point.\n    // already replaced the hyphen ranges\n    // turn into a set of JUST comparators.\n\n\n    function parseComparator(comp, options) {\n      debug('comp', comp, options);\n      comp = replaceCarets(comp, options);\n      debug('caret', comp);\n      comp = replaceTildes(comp, options);\n      debug('tildes', comp);\n      comp = replaceXRanges(comp, options);\n      debug('xrange', comp);\n      comp = replaceStars(comp, options);\n      debug('stars', comp);\n      return comp;\n    }\n\n    function isX(id) {\n      return !id || id.toLowerCase() === 'x' || id === '*';\n    } // ~, ~> --> * (any, kinda silly)\n    // ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n    // ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n    // ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n    // ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n    // ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\n\n\n    function replaceTildes(comp, options) {\n      return comp.trim().split(/\\s+/).map(function (comp) {\n        return replaceTilde(comp, options);\n      }).join(' ');\n    }\n\n    function replaceTilde(comp, options) {\n      var r = options.loose ? re[TILDELOOSE] : re[TILDE];\n      return comp.replace(r, function (_, M, m, p, pr) {\n        debug('tilde', comp, _, M, m, p, pr);\n        var ret;\n\n        if (isX(M)) {\n          ret = '';\n        } else if (isX(m)) {\n          ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n        } else if (isX(p)) {\n          // ~1.2 == >=1.2.0 <1.3.0\n          ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n        } else if (pr) {\n          debug('replaceTilde pr', pr);\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr + ' <' + M + '.' + (+m + 1) + '.0';\n        } else {\n          // ~1.2.3 == >=1.2.3 <1.3.0\n          ret = '>=' + M + '.' + m + '.' + p + ' <' + M + '.' + (+m + 1) + '.0';\n        }\n\n        debug('tilde return', ret);\n        return ret;\n      });\n    } // ^ --> * (any, kinda silly)\n    // ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n    // ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n    // ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n    // ^1.2.3 --> >=1.2.3 <2.0.0\n    // ^1.2.0 --> >=1.2.0 <2.0.0\n\n\n    function replaceCarets(comp, options) {\n      return comp.trim().split(/\\s+/).map(function (comp) {\n        return replaceCaret(comp, options);\n      }).join(' ');\n    }\n\n    function replaceCaret(comp, options) {\n      debug('caret', comp, options);\n      var r = options.loose ? re[CARETLOOSE] : re[CARET];\n      return comp.replace(r, function (_, M, m, p, pr) {\n        debug('caret', comp, _, M, m, p, pr);\n        var ret;\n\n        if (isX(M)) {\n          ret = '';\n        } else if (isX(m)) {\n          ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n        } else if (isX(p)) {\n          if (M === '0') {\n            ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n          } else {\n            ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0';\n          }\n        } else if (pr) {\n          debug('replaceCaret pr', pr);\n\n          if (M === '0') {\n            if (m === '0') {\n              ret = '>=' + M + '.' + m + '.' + p + '-' + pr + ' <' + M + '.' + m + '.' + (+p + 1);\n            } else {\n              ret = '>=' + M + '.' + m + '.' + p + '-' + pr + ' <' + M + '.' + (+m + 1) + '.0';\n            }\n          } else {\n            ret = '>=' + M + '.' + m + '.' + p + '-' + pr + ' <' + (+M + 1) + '.0.0';\n          }\n        } else {\n          debug('no pr');\n\n          if (M === '0') {\n            if (m === '0') {\n              ret = '>=' + M + '.' + m + '.' + p + ' <' + M + '.' + m + '.' + (+p + 1);\n            } else {\n              ret = '>=' + M + '.' + m + '.' + p + ' <' + M + '.' + (+m + 1) + '.0';\n            }\n          } else {\n            ret = '>=' + M + '.' + m + '.' + p + ' <' + (+M + 1) + '.0.0';\n          }\n        }\n\n        debug('caret return', ret);\n        return ret;\n      });\n    }\n\n    function replaceXRanges(comp, options) {\n      debug('replaceXRanges', comp, options);\n      return comp.split(/\\s+/).map(function (comp) {\n        return replaceXRange(comp, options);\n      }).join(' ');\n    }\n\n    function replaceXRange(comp, options) {\n      comp = comp.trim();\n      var r = options.loose ? re[XRANGELOOSE] : re[XRANGE];\n      return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n        debug('xRange', comp, ret, gtlt, M, m, p, pr);\n        var xM = isX(M);\n        var xm = xM || isX(m);\n        var xp = xm || isX(p);\n        var anyX = xp;\n\n        if (gtlt === '=' && anyX) {\n          gtlt = '';\n        }\n\n        if (xM) {\n          if (gtlt === '>' || gtlt === '<') {\n            // nothing is allowed\n            ret = '<0.0.0';\n          } else {\n            // nothing is forbidden\n            ret = '*';\n          }\n        } else if (gtlt && anyX) {\n          // we know patch is an x, because we have any x at all.\n          // replace X with 0\n          if (xm) {\n            m = 0;\n          }\n\n          p = 0;\n\n          if (gtlt === '>') {\n            // >1 => >=2.0.0\n            // >1.2 => >=1.3.0\n            // >1.2.3 => >= 1.2.4\n            gtlt = '>=';\n\n            if (xm) {\n              M = +M + 1;\n              m = 0;\n              p = 0;\n            } else {\n              m = +m + 1;\n              p = 0;\n            }\n          } else if (gtlt === '<=') {\n            // <=0.7.x is actually <0.8.0, since any 0.7.x should\n            // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n            gtlt = '<';\n\n            if (xm) {\n              M = +M + 1;\n            } else {\n              m = +m + 1;\n            }\n          }\n\n          ret = gtlt + M + '.' + m + '.' + p;\n        } else if (xm) {\n          ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0';\n        } else if (xp) {\n          ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0';\n        }\n\n        debug('xRange return', ret);\n        return ret;\n      });\n    } // Because * is AND-ed with everything else in the comparator,\n    // and '' means \"any version\", just remove the *s entirely.\n\n\n    function replaceStars(comp, options) {\n      debug('replaceStars', comp, options); // Looseness is ignored here.  star is always as loose as it gets!\n\n      return comp.trim().replace(re[STAR], '');\n    } // This function is passed to string.replace(re[HYPHENRANGE])\n    // M, m, patch, prerelease, build\n    // 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n    // 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n    // 1.2 - 3.4 => >=1.2.0 <3.5.0\n\n\n    function hyphenReplace($0, from, fM, fm, fp, fpr, fb, to, tM, tm, tp, tpr, tb) {\n      if (isX(fM)) {\n        from = '';\n      } else if (isX(fm)) {\n        from = '>=' + fM + '.0.0';\n      } else if (isX(fp)) {\n        from = '>=' + fM + '.' + fm + '.0';\n      } else {\n        from = '>=' + from;\n      }\n\n      if (isX(tM)) {\n        to = '';\n      } else if (isX(tm)) {\n        to = '<' + (+tM + 1) + '.0.0';\n      } else if (isX(tp)) {\n        to = '<' + tM + '.' + (+tm + 1) + '.0';\n      } else if (tpr) {\n        to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr;\n      } else {\n        to = '<=' + to;\n      }\n\n      return (from + ' ' + to).trim();\n    } // if ANY of the sets match ALL of its comparators, then pass\n\n\n    Range.prototype.test = function (version) {\n      if (!version) {\n        return false;\n      }\n\n      if (typeof version === 'string') {\n        version = new SemVer(version, this.options);\n      }\n\n      for (var i = 0; i < this.set.length; i++) {\n        if (testSet(this.set[i], version, this.options)) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    function testSet(set, version, options) {\n      for (var i = 0; i < set.length; i++) {\n        if (!set[i].test(version)) {\n          return false;\n        }\n      }\n\n      if (version.prerelease.length && !options.includePrerelease) {\n        // Find the set of versions that are allowed to have prereleases\n        // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n        // That should allow `1.2.3-pr.2` to pass.\n        // However, `1.2.4-alpha.notready` should NOT be allowed,\n        // even though it's within the range set by the comparators.\n        for (i = 0; i < set.length; i++) {\n          debug(set[i].semver);\n\n          if (set[i].semver === ANY) {\n            continue;\n          }\n\n          if (set[i].semver.prerelease.length > 0) {\n            var allowed = set[i].semver;\n\n            if (allowed.major === version.major && allowed.minor === version.minor && allowed.patch === version.patch) {\n              return true;\n            }\n          }\n        } // Version has a -pre, but it's not one of the ones we like.\n\n\n        return false;\n      }\n\n      return true;\n    }\n\n    exports.satisfies = satisfies;\n\n    function satisfies(version, range, options) {\n      try {\n        range = new Range(range, options);\n      } catch (er) {\n        return false;\n      }\n\n      return range.test(version);\n    }\n\n    exports.maxSatisfying = maxSatisfying;\n\n    function maxSatisfying(versions, range, options) {\n      var max = null;\n      var maxSV = null;\n\n      try {\n        var rangeObj = new Range(range, options);\n      } catch (er) {\n        return null;\n      }\n\n      versions.forEach(function (v) {\n        if (rangeObj.test(v)) {\n          // satisfies(v, range, options)\n          if (!max || maxSV.compare(v) === -1) {\n            // compare(max, v, true)\n            max = v;\n            maxSV = new SemVer(max, options);\n          }\n        }\n      });\n      return max;\n    }\n\n    exports.minSatisfying = minSatisfying;\n\n    function minSatisfying(versions, range, options) {\n      var min = null;\n      var minSV = null;\n\n      try {\n        var rangeObj = new Range(range, options);\n      } catch (er) {\n        return null;\n      }\n\n      versions.forEach(function (v) {\n        if (rangeObj.test(v)) {\n          // satisfies(v, range, options)\n          if (!min || minSV.compare(v) === 1) {\n            // compare(min, v, true)\n            min = v;\n            minSV = new SemVer(min, options);\n          }\n        }\n      });\n      return min;\n    }\n\n    exports.minVersion = minVersion;\n\n    function minVersion(range, loose) {\n      range = new Range(range, loose);\n      var minver = new SemVer('0.0.0');\n\n      if (range.test(minver)) {\n        return minver;\n      }\n\n      minver = new SemVer('0.0.0-0');\n\n      if (range.test(minver)) {\n        return minver;\n      }\n\n      minver = null;\n\n      for (var i = 0; i < range.set.length; ++i) {\n        var comparators = range.set[i];\n        comparators.forEach(function (comparator) {\n          // Clone to avoid manipulating the comparator's semver object.\n          var compver = new SemVer(comparator.semver.version);\n\n          switch (comparator.operator) {\n            case '>':\n              if (compver.prerelease.length === 0) {\n                compver.patch++;\n              } else {\n                compver.prerelease.push(0);\n              }\n\n              compver.raw = compver.format();\n\n            /* fallthrough */\n\n            case '':\n            case '>=':\n              if (!minver || gt(minver, compver)) {\n                minver = compver;\n              }\n\n              break;\n\n            case '<':\n            case '<=':\n              /* Ignore maximum versions */\n              break;\n\n            /* istanbul ignore next */\n\n            default:\n              throw new Error('Unexpected operation: ' + comparator.operator);\n          }\n        });\n      }\n\n      if (minver && range.test(minver)) {\n        return minver;\n      }\n\n      return null;\n    }\n\n    exports.validRange = validRange;\n\n    function validRange(range, options) {\n      try {\n        // Return '*' instead of '' so that truthiness works.\n        // This will throw if it's invalid anyway\n        return new Range(range, options).range || '*';\n      } catch (er) {\n        return null;\n      }\n    } // Determine if version is less than all the versions possible in the range\n\n\n    exports.ltr = ltr;\n\n    function ltr(version, range, options) {\n      return outside(version, range, '<', options);\n    } // Determine if version is greater than all the versions possible in the range.\n\n\n    exports.gtr = gtr;\n\n    function gtr(version, range, options) {\n      return outside(version, range, '>', options);\n    }\n\n    exports.outside = outside;\n\n    function outside(version, range, hilo, options) {\n      version = new SemVer(version, options);\n      range = new Range(range, options);\n      var gtfn, ltefn, ltfn, comp, ecomp;\n\n      switch (hilo) {\n        case '>':\n          gtfn = gt;\n          ltefn = lte;\n          ltfn = lt;\n          comp = '>';\n          ecomp = '>=';\n          break;\n\n        case '<':\n          gtfn = lt;\n          ltefn = gte;\n          ltfn = gt;\n          comp = '<';\n          ecomp = '<=';\n          break;\n\n        default:\n          throw new TypeError('Must provide a hilo val of \"<\" or \">\"');\n      } // If it satisifes the range it is not outside\n\n\n      if (satisfies(version, range, options)) {\n        return false;\n      } // From now on, variable terms are as if we're in \"gtr\" mode.\n      // but note that everything is flipped for the \"ltr\" function.\n\n\n      for (var i = 0; i < range.set.length; ++i) {\n        var comparators = range.set[i];\n        var high = null;\n        var low = null;\n        comparators.forEach(function (comparator) {\n          if (comparator.semver === ANY) {\n            comparator = new Comparator('>=0.0.0');\n          }\n\n          high = high || comparator;\n          low = low || comparator;\n\n          if (gtfn(comparator.semver, high.semver, options)) {\n            high = comparator;\n          } else if (ltfn(comparator.semver, low.semver, options)) {\n            low = comparator;\n          }\n        }); // If the edge version comparator has a operator then our version\n        // isn't outside it\n\n        if (high.operator === comp || high.operator === ecomp) {\n          return false;\n        } // If the lowest version comparator has an operator and our version\n        // is less than it then it isn't higher than the range\n\n\n        if ((!low.operator || low.operator === comp) && ltefn(version, low.semver)) {\n          return false;\n        } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    exports.prerelease = prerelease;\n\n    function prerelease(version, options) {\n      var parsed = parse(version, options);\n      return parsed && parsed.prerelease.length ? parsed.prerelease : null;\n    }\n\n    exports.intersects = intersects;\n\n    function intersects(r1, r2, options) {\n      r1 = new Range(r1, options);\n      r2 = new Range(r2, options);\n      return r1.intersects(r2);\n    }\n\n    exports.coerce = coerce;\n\n    function coerce(version) {\n      if (version instanceof SemVer) {\n        return version;\n      }\n\n      if (typeof version !== 'string') {\n        return null;\n      }\n\n      var match = version.match(re[COERCE]);\n\n      if (match == null) {\n        return null;\n      }\n\n      return parse(match[1] + '.' + (match[2] || '0') + '.' + (match[3] || '0'));\n    }\n  });\n  var semver_1 = semver.SEMVER_SPEC_VERSION;\n  var semver_2 = semver.re;\n  var semver_3 = semver.src;\n  var semver_4 = semver.parse;\n  var semver_5 = semver.valid;\n  var semver_6 = semver.clean;\n  var semver_7 = semver.SemVer;\n  var semver_8 = semver.inc;\n  var semver_9 = semver.diff;\n  var semver_10 = semver.compareIdentifiers;\n  var semver_11 = semver.rcompareIdentifiers;\n  var semver_12 = semver.major;\n  var semver_13 = semver.minor;\n  var semver_14 = semver.patch;\n  var semver_15 = semver.compare;\n  var semver_16 = semver.compareLoose;\n  var semver_17 = semver.rcompare;\n  var semver_18 = semver.sort;\n  var semver_19 = semver.rsort;\n  var semver_20 = semver.gt;\n  var semver_21 = semver.lt;\n  var semver_22 = semver.eq;\n  var semver_23 = semver.neq;\n  var semver_24 = semver.gte;\n  var semver_25 = semver.lte;\n  var semver_26 = semver.cmp;\n  var semver_27 = semver.Comparator;\n  var semver_28 = semver.Range;\n  var semver_29 = semver.toComparators;\n  var semver_30 = semver.satisfies;\n  var semver_31 = semver.maxSatisfying;\n  var semver_32 = semver.minSatisfying;\n  var semver_33 = semver.minVersion;\n  var semver_34 = semver.validRange;\n  var semver_35 = semver.ltr;\n  var semver_36 = semver.gtr;\n  var semver_37 = semver.outside;\n  var semver_38 = semver.prerelease;\n  var semver_39 = semver.intersects;\n  var semver_40 = semver.coerce;\n\n  var ExtendableError$2 =\n  /*#__PURE__*/\n  function (_Error3) {\n    _inherits(ExtendableError$2, _Error3);\n\n    function ExtendableError$2(message) {\n      var _this13;\n\n      _classCallCheck(this, ExtendableError$2);\n\n      _this13 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError$2).call(this, message));\n      _this13.name = _this13.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this13), _this13.constructor);\n      } else {\n        _this13.stack = new Error(message).stack;\n      }\n\n      return _this13;\n    }\n\n    return ExtendableError$2;\n  }(_wrapNativeSuper(Error));\n\n  var EntryNotFoundError$1 =\n  /*#__PURE__*/\n  function (_ExtendableError$2) {\n    _inherits(EntryNotFoundError$1, _ExtendableError$2);\n\n    function EntryNotFoundError$1(url) {\n      _classCallCheck(this, EntryNotFoundError$1);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(EntryNotFoundError$1).call(this, \"Not found \".concat(url.href)));\n    }\n\n    return EntryNotFoundError$1;\n  }(ExtendableError$2);\n\n  function isValidEntry(entry) {\n    if (!entry || typeof entry !== 'object') return false;\n    if (entry.type === ResolvedEntryKind.Directory) return isValidDirectory(entry);\n    if (entry.type === ResolvedEntryKind.File) return isValidFile(entry);\n    return false;\n  }\n\n  function isValidDirectory(entry) {\n    return typeof entry === 'object' && entry && entry.type === ResolvedEntryKind.Directory && typeof entry.path === 'string' && entry.path && (typeof entry.files === 'undefined' || Array.isArray(entry.files) && entry.files.every(isValidEntry));\n  }\n\n  function isValidFile(entry) {\n    return typeof entry === 'object' && entry && entry.type === ResolvedEntryKind.File && typeof entry.path === 'string' && entry.path;\n  }\n\n  var UNPKG_SPEC_RX = /^\\/((@[^/]+\\/[^/@]+|[^/@]+)(?:@([^/]+))?)(.*)?$/;\n\n  function parseUnpkgUrl(url) {\n    if (url instanceof URL) {\n      url = url.pathname;\n    }\n    /**\r\n     * 1: scope + name + version\r\n     * 2: scope + name\r\n     * 3: version?\r\n     * 4: pathname\r\n     */\n\n\n    var matches = url.match(UNPKG_SPEC_RX);\n\n    if (!matches) {\n      throw new Error(\"Unable to parse unexpected unpkg url: \".concat(url));\n    }\n\n    return {\n      spec: matches[1],\n      name: matches[2],\n      version: matches[3] || '',\n      pathname: matches[4] || ''\n    };\n  }\n\n  function signalFromCancellationToken(token, AbortControllerConstructor) {\n    if (!token || !AbortControllerConstructor) {\n      return;\n    }\n\n    var abortController = new AbortControllerConstructor();\n\n    if (token.isCancellationRequested) {\n      abortController.abort();\n    } else {\n      token.onCancellationRequested(function () {\n        return abortController.abort();\n      });\n    }\n\n    return abortController.signal;\n  }\n\n  var UNPKG_PROTOCOL = 'https:';\n  var UNPKG_HOST = 'unpkg.com';\n\n  var ResolverHostUnpkg =\n  /*#__PURE__*/\n  function (_AbstractResolverHost) {\n    _inherits(ResolverHostUnpkg, _AbstractResolverHost);\n\n    function ResolverHostUnpkg() {\n      var _this14;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n      _classCallCheck(this, ResolverHostUnpkg);\n\n      _this14 = _possibleConstructorReturn(this, _getPrototypeOf(ResolverHostUnpkg).call(this));\n      _this14.contentCache = new lruCache({\n        length: function length(buf) {\n          return buf.byteLength;\n        },\n        max: 1024 * 1024 * 5\n      });\n      _this14.inflightContentRequests = new Map();\n      _this14.packageLock = new Map();\n      _this14.packageEntriesCache = new Map();\n      _this14.packageJsonCache = new Map();\n\n      if (!options.fetch && typeof fetch !== 'function') {\n        throw new TypeError(\"A fetch function must be provided to the \".concat(_this14.constructor.name, \" if the environment doesn't provide one\"));\n      }\n\n      _this14.AbortController = options.AbortController;\n\n      _this14.fetch = options.fetch || function (input, init) {\n        return fetch(input, init);\n      };\n\n      return _this14;\n    }\n\n    _createClass(ResolverHostUnpkg, [{\n      key: \"getCanonicalUrl\",\n      value: function () {\n        var _getCanonicalUrl = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee7(resolver, url) {\n          var _ref6,\n              token,\n              unresolvedSpec,\n              packageJson,\n              _args7 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n            while (1) {\n              switch (_context7.prev = _context7.next) {\n                case 0:\n                  _ref6 = _args7.length > 2 && _args7[2] !== undefined ? _args7[2] : {}, token = _ref6.token;\n\n                  if (!(url.protocol !== UNPKG_PROTOCOL || url.hostname !== UNPKG_HOST)) {\n                    _context7.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Unable to list non-unpkg entries for \".concat(url.href));\n\n                case 3:\n                  unresolvedSpec = parseUnpkgUrl(url);\n                  _context7.next = 6;\n                  return this.readPackageJsonWithCache(resolver, unresolvedSpec, {\n                    token: token\n                  });\n\n                case 6:\n                  packageJson = _context7.sent;\n                  return _context7.abrupt(\"return\", new URL(\"\".concat(UNPKG_PROTOCOL, \"//\").concat(UNPKG_HOST, \"/\").concat(packageJson.name, \"@\").concat(packageJson.version).concat(unresolvedSpec.pathname)));\n\n                case 8:\n                case \"end\":\n                  return _context7.stop();\n              }\n            }\n          }, _callee7, this);\n        }));\n\n        function getCanonicalUrl(_x8, _x9) {\n          return _getCanonicalUrl.apply(this, arguments);\n        }\n\n        return getCanonicalUrl;\n      }()\n    }, {\n      key: \"getResolveRoot\",\n      value: function () {\n        var _getResolveRoot = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee8(resolver, url) {\n          var _ref7,\n              token,\n              unresolvedSpec,\n              packageJson,\n              _args8 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n            while (1) {\n              switch (_context8.prev = _context8.next) {\n                case 0:\n                  _ref7 = _args8.length > 2 && _args8[2] !== undefined ? _args8[2] : {}, token = _ref7.token;\n\n                  if (!(url.protocol !== UNPKG_PROTOCOL || url.hostname !== UNPKG_HOST)) {\n                    _context8.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Unable to list non-unpkg entries for \".concat(url.href));\n\n                case 3:\n                  unresolvedSpec = parseUnpkgUrl(url);\n                  _context8.next = 6;\n                  return this.readPackageJsonWithCache(resolver, unresolvedSpec, {\n                    token: token\n                  });\n\n                case 6:\n                  packageJson = _context8.sent;\n                  return _context8.abrupt(\"return\", new URL(\"\".concat(UNPKG_PROTOCOL, \"//\").concat(UNPKG_HOST, \"/\").concat(packageJson.name, \"@\").concat(packageJson.version, \"/\")));\n\n                case 8:\n                case \"end\":\n                  return _context8.stop();\n              }\n            }\n          }, _callee8, this);\n        }));\n\n        function getResolveRoot(_x10, _x11) {\n          return _getResolveRoot.apply(this, arguments);\n        }\n\n        return getResolveRoot;\n      }()\n    }, {\n      key: \"listEntries\",\n      value: function () {\n        var _listEntries = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee9(resolver, url) {\n          var _ref8,\n              token,\n              rootUrl,\n              unresolvedSpec,\n              packageJson,\n              parentEntry,\n              traversalSegments,\n              _loop,\n              _args9 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n            while (1) {\n              switch (_context9.prev = _context9.next) {\n                case 0:\n                  _ref8 = _args9.length > 2 && _args9[2] !== undefined ? _args9[2] : {}, token = _ref8.token;\n\n                  if (!(url.protocol !== UNPKG_PROTOCOL || url.hostname !== UNPKG_HOST)) {\n                    _context9.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Unable to list non-unpkg entries for \".concat(url.href));\n\n                case 3:\n                  _context9.next = 5;\n                  return resolver.host.getResolveRoot(resolver, url, {\n                    token: token\n                  });\n\n                case 5:\n                  rootUrl = _context9.sent;\n                  unresolvedSpec = parseUnpkgUrl(url);\n                  _context9.next = 9;\n                  return this.readPackageJsonWithCache(resolver, unresolvedSpec, {\n                    token: token\n                  });\n\n                case 9:\n                  packageJson = _context9.sent;\n                  url.pathname = \"/\".concat(packageJson.name, \"@\").concat(packageJson.version).concat(unresolvedSpec.pathname);\n                  _context9.next = 13;\n                  return this.readPackageEntriesWithCache(parseUnpkgUrl(url), {\n                    token: token\n                  });\n\n                case 13:\n                  parentEntry = _context9.sent;\n\n                  if (!(token && token.isCancellationRequested)) {\n                    _context9.next = 16;\n                    break;\n                  }\n\n                  throw new CanceledError('Canceled');\n\n                case 16:\n                  traversalSegments = unresolvedSpec.pathname.split('/').filter(Boolean);\n\n                  _loop = function _loop() {\n                    var segment = traversalSegments.shift();\n\n                    if (parentEntry.type !== ResolvedEntryKind.Directory || !parentEntry.files) {\n                      throw new EntryNotFoundError$1(url);\n                    }\n\n                    parentEntry = parentEntry.files.find(function (file) {\n                      return file.type === ResolvedEntryKind.Directory && Resolver.path.basename(file.path) === segment;\n                    });\n                  };\n\n                  while (parentEntry && traversalSegments.length) {\n                    _loop();\n                  }\n\n                  if (parentEntry) {\n                    _context9.next = 21;\n                    break;\n                  }\n\n                  throw new EntryNotFoundError$1(url);\n\n                case 21:\n                  if (parentEntry.files) {\n                    _context9.next = 23;\n                    break;\n                  }\n\n                  return _context9.abrupt(\"return\", []);\n\n                case 23:\n                  return _context9.abrupt(\"return\", parentEntry.files.map(function (entry) {\n                    return {\n                      type: entry.type,\n                      url: new URL(\".\".concat(entry.path), rootUrl)\n                    };\n                  }));\n\n                case 24:\n                case \"end\":\n                  return _context9.stop();\n              }\n            }\n          }, _callee9, this);\n        }));\n\n        function listEntries(_x12, _x13) {\n          return _listEntries.apply(this, arguments);\n        }\n\n        return listEntries;\n      }()\n    }, {\n      key: \"readFileContent\",\n      value: function () {\n        var _readFileContent = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee10(_, url) {\n          var _ref9,\n              token,\n              href,\n              cached,\n              inflight,\n              signal,\n              fetch,\n              promise,\n              buf,\n              _args10 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n            while (1) {\n              switch (_context10.prev = _context10.next) {\n                case 0:\n                  _ref9 = _args10.length > 2 && _args10[2] !== undefined ? _args10[2] : {}, token = _ref9.token;\n\n                  if (!(url.protocol !== UNPKG_PROTOCOL || url.hostname !== UNPKG_HOST)) {\n                    _context10.next = 3;\n                    break;\n                  }\n\n                  throw new Error(\"Unable to read file contents for non-unpkg entries for \".concat(url.href));\n\n                case 3:\n                  href = url.href;\n                  cached = this.contentCache.get(href);\n\n                  if (!cached) {\n                    _context10.next = 7;\n                    break;\n                  }\n\n                  return _context10.abrupt(\"return\", cached);\n\n                case 7:\n                  inflight = this.inflightContentRequests.get(href);\n\n                  if (!inflight) {\n                    _context10.next = 10;\n                    break;\n                  }\n\n                  return _context10.abrupt(\"return\", inflight);\n\n                case 10:\n                  // console.log('[MISS] readFileContent(%s)', href);\n                  signal = signalFromCancellationToken(token, this.AbortController);\n                  fetch = this.fetch;\n                  promise = fetch(href, {\n                    redirect: 'follow',\n                    signal: signal\n                  }).then(function (res) {\n                    if (!res.ok) {\n                      throw new Error(\"Error reading file content for \".concat(href, \": \").concat(res.status));\n                    }\n\n                    return res.arrayBuffer();\n                  }).catch(function (err) {\n                    if (err.name === 'AbortError') {\n                      throw new CanceledError('Canceled');\n                    }\n\n                    throw err;\n                  });\n                  this.inflightContentRequests.set(href, promise);\n                  _context10.prev = 14;\n                  _context10.next = 17;\n                  return promise;\n\n                case 17:\n                  buf = _context10.sent;\n                  this.contentCache.set(href, buf);\n                  return _context10.abrupt(\"return\", buf);\n\n                case 20:\n                  _context10.prev = 20;\n                  this.inflightContentRequests.delete(href);\n                  return _context10.finish(20);\n\n                case 23:\n                case \"end\":\n                  return _context10.stop();\n              }\n            }\n          }, _callee10, this, [[14,, 20, 23]]);\n        }));\n\n        function readFileContent(_x14, _x15) {\n          return _readFileContent.apply(this, arguments);\n        }\n\n        return readFileContent;\n      }()\n    }, {\n      key: \"readPackageEntriesWithCache\",\n      value: function () {\n        var _readPackageEntriesWithCache = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee11(spec) {\n          var _ref10,\n              token,\n              lockKey,\n              lock,\n              range,\n              packageEntriesCacheForModule,\n              exactMatch,\n              _iteratorNormalCompletion4,\n              _didIteratorError4,\n              _iteratorError4,\n              _iterator4,\n              _step4,\n              _ref13,\n              _ref12,\n              version,\n              _packageEntries,\n              promise,\n              packageEntries,\n              _args11 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n            while (1) {\n              switch (_context11.prev = _context11.next) {\n                case 0:\n                  _ref10 = _args11.length > 1 && _args11[1] !== undefined ? _args11[1] : {}, token = _ref10.token;\n                  lockKey = \"entries:\".concat(spec.name);\n                  lock = this.packageLock.get(lockKey);\n\n                  if (!lock) {\n                    _context11.next = 6;\n                    break;\n                  }\n\n                  _context11.next = 6;\n                  return lock;\n\n                case 6:\n                  range = semver_34(spec.version);\n\n                  if (range) {\n                    _context11.next = 9;\n                    break;\n                  }\n\n                  throw new Error(\"Invalid SemVer range for spec \".concat(spec.spec));\n\n                case 9:\n                  packageEntriesCacheForModule = this.packageEntriesCache.get(spec.name);\n\n                  if (!packageEntriesCacheForModule) {\n                    _context11.next = 45;\n                    break;\n                  }\n\n                  exactMatch = packageEntriesCacheForModule.get(spec.version);\n\n                  if (!exactMatch) {\n                    _context11.next = 14;\n                    break;\n                  }\n\n                  return _context11.abrupt(\"return\", exactMatch);\n\n                case 14:\n                  _iteratorNormalCompletion4 = true;\n                  _didIteratorError4 = false;\n                  _iteratorError4 = undefined;\n                  _context11.prev = 17;\n                  _iterator4 = packageEntriesCacheForModule[Symbol.iterator]();\n\n                case 19:\n                  if (_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done) {\n                    _context11.next = 29;\n                    break;\n                  }\n\n                  _ref13 = _step4.value;\n                  _ref12 = _slicedToArray(_ref13, 2);\n                  version = _ref12[0];\n                  _packageEntries = _ref12[1];\n\n                  if (!semver_30(version, range)) {\n                    _context11.next = 26;\n                    break;\n                  }\n\n                  return _context11.abrupt(\"return\", _packageEntries);\n\n                case 26:\n                  _iteratorNormalCompletion4 = true;\n                  _context11.next = 19;\n                  break;\n\n                case 29:\n                  _context11.next = 35;\n                  break;\n\n                case 31:\n                  _context11.prev = 31;\n                  _context11.t0 = _context11[\"catch\"](17);\n                  _didIteratorError4 = true;\n                  _iteratorError4 = _context11.t0;\n\n                case 35:\n                  _context11.prev = 35;\n                  _context11.prev = 36;\n\n                  if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n                    _iterator4.return();\n                  }\n\n                case 38:\n                  _context11.prev = 38;\n\n                  if (!_didIteratorError4) {\n                    _context11.next = 41;\n                    break;\n                  }\n\n                  throw _iteratorError4;\n\n                case 41:\n                  return _context11.finish(38);\n\n                case 42:\n                  return _context11.finish(35);\n\n                case 43:\n                  _context11.next = 47;\n                  break;\n\n                case 45:\n                  packageEntriesCacheForModule = new Map();\n                  this.packageEntriesCache.set(spec.name, packageEntriesCacheForModule);\n\n                case 47:\n                  // console.log('[MISS] readPackageEntriesWithCache(%s)', spec.spec);\n                  promise = this.readPackageEntries(spec.spec, {\n                    token: token\n                  });\n                  this.packageLock.set(lockKey, promise);\n                  _context11.next = 51;\n                  return promise;\n\n                case 51:\n                  packageEntries = _context11.sent;\n                  this.packageLock.delete(lockKey);\n                  packageEntriesCacheForModule.set(spec.version, packageEntries);\n                  return _context11.abrupt(\"return\", packageEntries);\n\n                case 55:\n                case \"end\":\n                  return _context11.stop();\n              }\n            }\n          }, _callee11, this, [[17, 31, 35, 43], [36,, 38, 42]]);\n        }));\n\n        function readPackageEntriesWithCache(_x16) {\n          return _readPackageEntriesWithCache.apply(this, arguments);\n        }\n\n        return readPackageEntriesWithCache;\n      }()\n    }, {\n      key: \"readPackageJsonWithCache\",\n      value: function () {\n        var _readPackageJsonWithCache = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee12(resolver, spec) {\n          var _ref14,\n              token,\n              lockKey,\n              lock,\n              packageJsonCacheForModule,\n              exactMatch,\n              range,\n              _iteratorNormalCompletion5,\n              _didIteratorError5,\n              _iteratorError5,\n              _iterator5,\n              _step5,\n              _ref17,\n              _ref16,\n              version,\n              _packageJson,\n              promise,\n              packageJson,\n              _args12 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n            while (1) {\n              switch (_context12.prev = _context12.next) {\n                case 0:\n                  _ref14 = _args12.length > 2 && _args12[2] !== undefined ? _args12[2] : {}, token = _ref14.token;\n                  lockKey = \"packageJson:\".concat(spec.spec);\n                  lock = this.packageLock.get(lockKey);\n\n                  if (!lock) {\n                    _context12.next = 6;\n                    break;\n                  }\n\n                  _context12.next = 6;\n                  return lock;\n\n                case 6:\n                  packageJsonCacheForModule = this.packageJsonCache.get(spec.name);\n\n                  if (!packageJsonCacheForModule) {\n                    _context12.next = 44;\n                    break;\n                  }\n\n                  exactMatch = packageJsonCacheForModule.get(spec.version);\n\n                  if (!exactMatch) {\n                    _context12.next = 11;\n                    break;\n                  }\n\n                  return _context12.abrupt(\"return\", exactMatch);\n\n                case 11:\n                  range = semver_34(spec.version);\n\n                  if (!range) {\n                    _context12.next = 42;\n                    break;\n                  }\n\n                  _iteratorNormalCompletion5 = true;\n                  _didIteratorError5 = false;\n                  _iteratorError5 = undefined;\n                  _context12.prev = 16;\n                  _iterator5 = packageJsonCacheForModule[Symbol.iterator]();\n\n                case 18:\n                  if (_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done) {\n                    _context12.next = 28;\n                    break;\n                  }\n\n                  _ref17 = _step5.value;\n                  _ref16 = _slicedToArray(_ref17, 2);\n                  version = _ref16[0];\n                  _packageJson = _ref16[1];\n\n                  if (!semver_30(version, range)) {\n                    _context12.next = 25;\n                    break;\n                  }\n\n                  return _context12.abrupt(\"return\", _packageJson);\n\n                case 25:\n                  _iteratorNormalCompletion5 = true;\n                  _context12.next = 18;\n                  break;\n\n                case 28:\n                  _context12.next = 34;\n                  break;\n\n                case 30:\n                  _context12.prev = 30;\n                  _context12.t0 = _context12[\"catch\"](16);\n                  _didIteratorError5 = true;\n                  _iteratorError5 = _context12.t0;\n\n                case 34:\n                  _context12.prev = 34;\n                  _context12.prev = 35;\n\n                  if (!_iteratorNormalCompletion5 && _iterator5.return != null) {\n                    _iterator5.return();\n                  }\n\n                case 37:\n                  _context12.prev = 37;\n\n                  if (!_didIteratorError5) {\n                    _context12.next = 40;\n                    break;\n                  }\n\n                  throw _iteratorError5;\n\n                case 40:\n                  return _context12.finish(37);\n\n                case 41:\n                  return _context12.finish(34);\n\n                case 42:\n                  _context12.next = 46;\n                  break;\n\n                case 44:\n                  packageJsonCacheForModule = new Map();\n                  this.packageJsonCache.set(spec.name, packageJsonCacheForModule);\n\n                case 46:\n                  // console.log('[MISS] readPackageJsonWithCache(%s)', spec.spec);\n                  promise = this.readPackageJson(resolver, spec.spec, {\n                    token: token\n                  });\n                  this.packageLock.set(lockKey, promise);\n                  _context12.next = 50;\n                  return promise;\n\n                case 50:\n                  packageJson = _context12.sent;\n                  this.packageLock.delete(lockKey);\n\n                  if (packageJson.version) {\n                    _context12.next = 54;\n                    break;\n                  }\n\n                  throw new Error(\"Manifest missing a version identifier for \".concat(spec));\n\n                case 54:\n                  packageJsonCacheForModule.set(packageJson.version, packageJson);\n                  return _context12.abrupt(\"return\", packageJson);\n\n                case 56:\n                case \"end\":\n                  return _context12.stop();\n              }\n            }\n          }, _callee12, this, [[16, 30, 34, 42], [35,, 37, 41]]);\n        }));\n\n        function readPackageJsonWithCache(_x17, _x18) {\n          return _readPackageJsonWithCache.apply(this, arguments);\n        }\n\n        return readPackageJsonWithCache;\n      }()\n    }, {\n      key: \"readPackageJson\",\n      value: function () {\n        var _readPackageJson = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee13(resolver, spec) {\n          var _ref18,\n              token,\n              href,\n              content,\n              manifest,\n              _args13 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n            while (1) {\n              switch (_context13.prev = _context13.next) {\n                case 0:\n                  _ref18 = _args13.length > 2 && _args13[2] !== undefined ? _args13[2] : {}, token = _ref18.token;\n                  // console.log('readPackageJson(%s)', spec);\n                  href = \"\".concat(UNPKG_PROTOCOL, \"//\").concat(UNPKG_HOST, \"/\").concat(spec, \"/package.json\");\n                  _context13.next = 4;\n                  return this.readFileContent(resolver, new URL(href), {\n                    token: token\n                  });\n\n                case 4:\n                  content = _context13.sent;\n                  _context13.prev = 5;\n                  manifest = util.parseBufferAsPackageJson(resolver.decoder, content, spec);\n                  _context13.next = 12;\n                  break;\n\n                case 9:\n                  _context13.prev = 9;\n                  _context13.t0 = _context13[\"catch\"](5);\n                  throw new Error(\"Error parsing manifest as json for package \".concat(spec, \": \").concat(_context13.t0.message));\n\n                case 12:\n                  return _context13.abrupt(\"return\", manifest);\n\n                case 13:\n                case \"end\":\n                  return _context13.stop();\n              }\n            }\n          }, _callee13, this, [[5, 9]]);\n        }));\n\n        function readPackageJson(_x19, _x20) {\n          return _readPackageJson.apply(this, arguments);\n        }\n\n        return readPackageJson;\n      }()\n    }, {\n      key: \"readPackageEntries\",\n      value: function () {\n        var _readPackageEntries = _asyncToGenerator(\n        /*#__PURE__*/\n        _regeneratorRuntime.mark(function _callee14(spec) {\n          var _ref19,\n              token,\n              href,\n              signal,\n              fetch,\n              res,\n              json,\n              _args14 = arguments;\n\n          return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n            while (1) {\n              switch (_context14.prev = _context14.next) {\n                case 0:\n                  _ref19 = _args14.length > 1 && _args14[1] !== undefined ? _args14[1] : {}, token = _ref19.token;\n                  // console.log('readPackageEntries(%s)', spec);\n                  href = \"\".concat(UNPKG_PROTOCOL, \"//\").concat(UNPKG_HOST, \"/\").concat(spec, \"/?meta\");\n                  signal = signalFromCancellationToken(token, this.AbortController);\n                  fetch = this.fetch;\n                  _context14.next = 6;\n                  return fetch(href, {\n                    signal: signal\n                  }).catch(function (err) {\n                    if (err.name === 'AbortError') {\n                      throw new CanceledError('Canceled');\n                    }\n\n                    throw err;\n                  });\n\n                case 6:\n                  res = _context14.sent;\n\n                  if (res.ok) {\n                    _context14.next = 9;\n                    break;\n                  }\n\n                  throw new Error(\"Error listing package contents for \".concat(spec, \": \").concat(res.status));\n\n                case 9:\n                  _context14.next = 11;\n                  return res.json();\n\n                case 11:\n                  json = _context14.sent;\n\n                  if (isValidDirectory(json)) {\n                    _context14.next = 14;\n                    break;\n                  }\n\n                  throw new Error(\"Unexpected response payload while listing package contents for \".concat(spec));\n\n                case 14:\n                  return _context14.abrupt(\"return\", json);\n\n                case 15:\n                case \"end\":\n                  return _context14.stop();\n              }\n            }\n          }, _callee14, this);\n        }));\n\n        function readPackageEntries(_x21) {\n          return _readPackageEntries.apply(this, arguments);\n        }\n\n        return readPackageEntries;\n      }()\n    }], [{\n      key: \"resolveBareModule\",\n      value: function resolveBareModule(_, spec) {\n        return new URL(\"\".concat(UNPKG_PROTOCOL, \"//\").concat(UNPKG_HOST, \"/\").concat(spec.name, \"@\").concat(spec.spec).concat(spec.pathname));\n      }\n    }]);\n\n    return ResolverHostUnpkg;\n  }(AbstractResolverHost);\n\n  exports.ResolverHostUnpkg = ResolverHostUnpkg;\n  exports.isValidDirectory = isValidDirectory;\n  exports.isValidEntry = isValidEntry;\n  exports.isValidFile = isValidFile;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","var _slicedToArray = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/slicedToArray\");\n\nvar _toConsumableArray = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/toConsumableArray\");\n\nvar _possibleConstructorReturn = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/possibleConstructorReturn\");\n\nvar _getPrototypeOf = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/getPrototypeOf\");\n\nvar _assertThisInitialized = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/assertThisInitialized\");\n\nvar _inherits = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _wrapNativeSuper = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/wrapNativeSuper\");\n\nvar _classCallCheck = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/ggoodman/Projects/velcro/packages/playground/node_modules/@babel/runtime/helpers/createClass\");\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) : typeof define === 'function' && define.amd ? define(['exports'], factory) : (global = global || self, factory(global.Velcro = global.Velcro || {}));\n})(this, function (exports) {\n  'use strict';\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n  // Avoid circular dependency on EventEmitter by implementing a subset of the interface.\n\n  var ErrorHandler =\n  /*#__PURE__*/\n  function () {\n    function ErrorHandler() {\n      _classCallCheck(this, ErrorHandler);\n\n      this.listeners = [];\n\n      this.unexpectedErrorHandler = function (e) {\n        setTimeout(function () {\n          if (e.stack) {\n            throw new Error(e.message + '\\n\\n' + e.stack);\n          }\n\n          throw e;\n        }, 0);\n      };\n    }\n\n    _createClass(ErrorHandler, [{\n      key: \"addListener\",\n      value: function addListener(listener) {\n        var _this = this;\n\n        this.listeners.push(listener);\n        return function () {\n          _this._removeListener(listener);\n        };\n      }\n    }, {\n      key: \"emit\",\n      value: function emit(e) {\n        this.listeners.forEach(function (listener) {\n          listener(e);\n        });\n      }\n    }, {\n      key: \"_removeListener\",\n      value: function _removeListener(listener) {\n        this.listeners.splice(this.listeners.indexOf(listener), 1);\n      }\n    }, {\n      key: \"setUnexpectedErrorHandler\",\n      value: function setUnexpectedErrorHandler(newUnexpectedErrorHandler) {\n        this.unexpectedErrorHandler = newUnexpectedErrorHandler;\n      }\n    }, {\n      key: \"getUnexpectedErrorHandler\",\n      value: function getUnexpectedErrorHandler() {\n        return this.unexpectedErrorHandler;\n      }\n    }, {\n      key: \"onUnexpectedError\",\n      value: function onUnexpectedError(e) {\n        this.unexpectedErrorHandler(e);\n        this.emit(e);\n      } // For external errors, we don't want the listeners to be called\n\n    }, {\n      key: \"onUnexpectedExternalError\",\n      value: function onUnexpectedExternalError(e) {\n        this.unexpectedErrorHandler(e);\n      }\n    }]);\n\n    return ErrorHandler;\n  }();\n\n  var errorHandler = new ErrorHandler();\n\n  function onUnexpectedError(e) {\n    // ignore errors from cancelled promises\n    if (!isPromiseCanceledError(e)) {\n      errorHandler.onUnexpectedError(e);\n    }\n\n    return undefined;\n  }\n\n  var ExtendableError =\n  /*#__PURE__*/\n  function (_Error) {\n    _inherits(ExtendableError, _Error);\n\n    function ExtendableError(message) {\n      var _this2;\n\n      _classCallCheck(this, ExtendableError);\n\n      _this2 = _possibleConstructorReturn(this, _getPrototypeOf(ExtendableError).call(this, message));\n      _this2.name = _this2.constructor.name;\n\n      if (typeof Error.captureStackTrace === 'function') {\n        Error.captureStackTrace(_assertThisInitialized(_this2), _this2.constructor);\n      } else {\n        _this2.stack = new Error(message).stack;\n      }\n\n      return _this2;\n    }\n\n    return ExtendableError;\n  }(_wrapNativeSuper(Error));\n\n  var CanceledError =\n  /*#__PURE__*/\n  function (_ExtendableError) {\n    _inherits(CanceledError, _ExtendableError);\n\n    function CanceledError() {\n      _classCallCheck(this, CanceledError);\n\n      return _possibleConstructorReturn(this, _getPrototypeOf(CanceledError).apply(this, arguments));\n    }\n\n    return CanceledError;\n  }(ExtendableError);\n  /**\r\n   * Checks if the given error is a promise in canceled state\r\n   */\n\n\n  function isPromiseCanceledError(error) {\n    return error instanceof CanceledError;\n  }\n\n  function _dispose(first) {\n    for (var _len = arguments.length, rest = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      rest[_key - 1] = arguments[_key];\n    }\n\n    if (Array.isArray(first)) {\n      first.forEach(function (d) {\n        return d && d.dispose();\n      });\n      return [];\n    } else if (rest.length === 0) {\n      if (first) {\n        first.dispose();\n        return first;\n      }\n\n      return undefined;\n    } else {\n      _dispose(first);\n\n      _dispose(rest);\n\n      return [];\n    }\n  }\n\n  function combinedDisposable() {\n    for (var _len2 = arguments.length, disposables = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      disposables[_key2] = arguments[_key2];\n    }\n\n    return {\n      dispose: function dispose() {\n        return _dispose(disposables);\n      }\n    };\n  }\n\n  var DisposableStore =\n  /*#__PURE__*/\n  function () {\n    function DisposableStore() {\n      _classCallCheck(this, DisposableStore);\n\n      this._toDispose = new Set();\n      this._isDisposed = false;\n    }\n    /**\r\n     * Dispose of all registered disposables and mark this object as disposed.\r\n     *\r\n     * Any future disposables added to this object will be disposed of on `add`.\r\n     */\n\n\n    _createClass(DisposableStore, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._isDisposed = true;\n        this.clear();\n      }\n      /**\r\n       * Dispose of all registered disposables but do not mark this object as disposed.\r\n       */\n\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._toDispose.forEach(function (item) {\n          return item.dispose();\n        });\n\n        this._toDispose.clear();\n      }\n    }, {\n      key: \"add\",\n      value: function add(t) {\n        if (this._isDisposed) {\n          console.warn('Registering disposable on object that has already been disposed.');\n          t.dispose();\n        } else {\n          this._toDispose.add(t);\n        }\n\n        return t;\n      }\n    }]);\n\n    return DisposableStore;\n  }();\n\n  var Disposable =\n  /*#__PURE__*/\n  function () {\n    function Disposable() {\n      _classCallCheck(this, Disposable);\n\n      this._store = new DisposableStore();\n    }\n\n    _createClass(Disposable, [{\n      key: \"dispose\",\n      value: function dispose() {\n        this._store.dispose();\n      }\n    }, {\n      key: \"_register\",\n      value: function _register(t) {\n        return this._store.add(t);\n      }\n    }]);\n\n    return Disposable;\n  }();\n\n  Disposable.None = Object.freeze({\n    dispose: function dispose() {}\n  });\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var FIN = {\n    done: true,\n    value: undefined\n  };\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n  var Node = function Node(element) {\n    _classCallCheck(this, Node);\n\n    this.element = element;\n    this.next = Node.Undefined;\n    this.prev = Node.Undefined;\n  };\n\n  Node.Undefined = new Node(undefined);\n\n  var LinkedList =\n  /*#__PURE__*/\n  function () {\n    function LinkedList() {\n      _classCallCheck(this, LinkedList);\n\n      this._first = Node.Undefined;\n      this._last = Node.Undefined;\n      this._size = 0;\n    }\n\n    _createClass(LinkedList, [{\n      key: \"isEmpty\",\n      value: function isEmpty() {\n        return this._first === Node.Undefined;\n      }\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._first = Node.Undefined;\n        this._last = Node.Undefined;\n        this._size = 0;\n      }\n    }, {\n      key: \"unshift\",\n      value: function unshift(element) {\n        return this._insert(element, false);\n      }\n    }, {\n      key: \"push\",\n      value: function push(element) {\n        return this._insert(element, true);\n      }\n    }, {\n      key: \"_insert\",\n      value: function _insert(element, atTheEnd) {\n        var _this3 = this;\n\n        var newNode = new Node(element);\n\n        if (this._first === Node.Undefined) {\n          this._first = newNode;\n          this._last = newNode;\n        } else if (atTheEnd) {\n          // push\n          var oldLast = this._last;\n          this._last = newNode;\n          newNode.prev = oldLast;\n          oldLast.next = newNode;\n        } else {\n          // unshift\n          var oldFirst = this._first;\n          this._first = newNode;\n          newNode.next = oldFirst;\n          oldFirst.prev = newNode;\n        }\n\n        this._size += 1;\n        var didRemove = false;\n        return function () {\n          if (!didRemove) {\n            didRemove = true;\n\n            _this3._remove(newNode);\n          }\n        };\n      }\n    }, {\n      key: \"shift\",\n      value: function shift() {\n        if (this._first === Node.Undefined) {\n          return undefined;\n        } else {\n          var res = this._first.element;\n\n          this._remove(this._first);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"pop\",\n      value: function pop() {\n        if (this._last === Node.Undefined) {\n          return undefined;\n        } else {\n          var res = this._last.element;\n\n          this._remove(this._last);\n\n          return res;\n        }\n      }\n    }, {\n      key: \"_remove\",\n      value: function _remove(node) {\n        if (node.prev !== Node.Undefined && node.next !== Node.Undefined) {\n          // middle\n          var anchor = node.prev;\n          anchor.next = node.next;\n          node.next.prev = anchor;\n        } else if (node.prev === Node.Undefined && node.next === Node.Undefined) {\n          // only node\n          this._first = Node.Undefined;\n          this._last = Node.Undefined;\n        } else if (node.next === Node.Undefined) {\n          // last\n          this._last = this._last.prev;\n          this._last.next = Node.Undefined;\n        } else if (node.prev === Node.Undefined) {\n          // first\n          this._first = this._first.next;\n          this._first.prev = Node.Undefined;\n        } // done\n\n\n        this._size -= 1;\n      }\n    }, {\n      key: \"iterator\",\n      value: function iterator() {\n        var element;\n        var node = this._first;\n        return {\n          next: function next() {\n            if (node === Node.Undefined) {\n              return FIN;\n            }\n\n            if (!element) {\n              element = {\n                done: false,\n                value: node.element\n              };\n            } else {\n              element.value = node.element;\n            }\n\n            node = node.next;\n            return element;\n          }\n        };\n      }\n    }, {\n      key: \"toArray\",\n      value: function toArray() {\n        var result = [];\n\n        for (var node = this._first; node !== Node.Undefined; node = node.next) {\n          result.push(node.element);\n        }\n\n        return result;\n      }\n    }, {\n      key: \"size\",\n      get: function get() {\n        return this._size;\n      }\n    }]);\n\n    return LinkedList;\n  }();\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var Event;\n\n  (function (Event) {\n    var _disposable = {\n      dispose: function dispose() {}\n    };\n\n    Event.None = function () {\n      return _disposable;\n    };\n    /**\r\n     * Given an event, returns another event which only fires once.\r\n     */\n\n\n    function _once(event) {\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        // we need this, in case the event fires during the listener call\n        var didFire = false;\n        var result;\n        result = event(function (e) {\n          if (didFire) {\n            return;\n          } else if (result) {\n            result.dispose();\n          } else {\n            didFire = true;\n          }\n\n          return listener.call(thisArgs, e);\n        }, null, disposables);\n\n        if (didFire) {\n          result.dispose();\n        }\n\n        return result;\n      };\n    }\n\n    Event.once = _once;\n    /**\r\n     * Given an event and a `map` function, returns another event which maps each element\r\n     * throught the mapping function.\r\n     */\n\n    function _map(event, map) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          return listener.call(thisArgs, map(i));\n        }, null, disposables);\n      });\n    }\n\n    Event.map = _map;\n    /**\r\n     * Given an event and an `each` function, returns another identical event and calls\r\n     * the `each` function per each element.\r\n     */\n\n    function _forEach(event, each) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (i) {\n          each(i);\n          listener.call(thisArgs, i);\n        }, null, disposables);\n      });\n    }\n\n    Event.forEach = _forEach;\n\n    function _filter(event, filter) {\n      return snapshot(function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return event(function (e) {\n          return filter(e) && listener.call(thisArgs, e);\n        }, null, disposables);\n      });\n    }\n\n    Event.filter = _filter;\n    /**\r\n     * Given an event, returns the same event but typed as `Event<void>`.\r\n     */\n\n    function signal(event) {\n      return event;\n    }\n\n    Event.signal = signal;\n    /**\r\n     * Given a collection of events, returns a single event which emits\r\n     * whenever any of the provided events emit.\r\n     */\n\n    function any() {\n      for (var _len3 = arguments.length, events = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        events[_key3] = arguments[_key3];\n      }\n\n      return function (listener) {\n        var thisArgs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var disposables = arguments.length > 2 ? arguments[2] : undefined;\n        return combinedDisposable.apply(void 0, _toConsumableArray(events.map(function (event) {\n          return event(function (e) {\n            return listener.call(thisArgs, e);\n          }, null, disposables);\n        })));\n      };\n    }\n\n    Event.any = any;\n    /**\r\n     * Given an event and a `merge` function, returns another event which maps each element\r\n     * and the cummulative result throught the `merge` function. Similar to `map`, but with memory.\r\n     */\n\n    function _reduce(event, merge, initial) {\n      var output = initial;\n      return _map(event, function (e) {\n        output = merge(output, e);\n        return output;\n      });\n    }\n\n    Event.reduce = _reduce;\n    /**\r\n     * Given a chain of event processing functions (filter, map, etc), each\r\n     * function will be invoked per event & per listener. Snapshotting an event\r\n     * chain allows each function to be invoked just once per event.\r\n     */\n\n    function snapshot(event) {\n      var listener;\n      var emitter = new Emitter({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          listener = event(emitter.fire, emitter);\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          listener.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.snapshot = snapshot;\n\n    function debounce(event, merge) {\n      var delay = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 100;\n      var leading = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var leakWarningThreshold = arguments.length > 4 ? arguments[4] : undefined;\n      var subscription;\n      var output = undefined;\n      var handle = undefined;\n      var numDebouncedCalls = 0;\n      var emitter = new Emitter({\n        leakWarningThreshold: leakWarningThreshold,\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          subscription = event(function (cur) {\n            numDebouncedCalls++;\n            output = merge(output, cur);\n\n            if (leading && !handle) {\n              emitter.fire(output);\n            }\n\n            clearTimeout(handle);\n            handle = setTimeout(function () {\n              var _output = output;\n              output = undefined;\n              handle = undefined;\n\n              if (!leading || numDebouncedCalls > 1) {\n                emitter.fire(_output);\n              }\n\n              numDebouncedCalls = 0;\n            }, delay);\n          });\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          subscription.dispose();\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.debounce = debounce;\n    /**\r\n     * Given an event, it returns another event which fires only once and as soon as\r\n     * the input event emits. The event data is the number of millis it took for the\r\n     * event to fire.\r\n     */\n\n    function stopwatch(event) {\n      var start = new Date().getTime();\n      return _map(_once(event), function (_) {\n        return new Date().getTime() - start;\n      });\n    }\n\n    Event.stopwatch = stopwatch;\n    /**\r\n     * Given an event, it returns another event which fires only when the event\r\n     * element changes.\r\n     */\n\n    function _latch(event) {\n      var firstCall = true;\n      var cache;\n      return _filter(event, function (value) {\n        var shouldEmit = firstCall || value !== cache;\n        firstCall = false;\n        cache = value;\n        return shouldEmit;\n      });\n    }\n\n    Event.latch = _latch;\n    /**\r\n     * Buffers the provided event until a first listener comes\r\n     * along, at which point fire all the events at once and\r\n     * pipe the event from then on.\r\n     *\r\n     * ```typescript\r\n     * const emitter = new Emitter<number>();\r\n     * const event = emitter.event;\r\n     * const bufferedEvent = buffer(event);\r\n     *\r\n     * emitter.fire(1);\r\n     * emitter.fire(2);\r\n     * emitter.fire(3);\r\n     * // nothing...\r\n     *\r\n     * const listener = bufferedEvent(num => console.log(num));\r\n     * // 1, 2, 3\r\n     *\r\n     * emitter.fire(4);\r\n     * // 4\r\n     * ```\r\n     */\n\n    function buffer(event) {\n      var nextTick = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var _buffer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n\n      var buffer = _buffer.slice();\n\n      var listener = event(function (e) {\n        if (buffer) {\n          buffer.push(e);\n        } else {\n          emitter.fire(e);\n        }\n      });\n\n      var flush = function flush() {\n        if (buffer) {\n          buffer.forEach(function (e) {\n            return emitter.fire(e);\n          });\n        }\n\n        buffer = null;\n      };\n\n      var emitter = new Emitter({\n        onFirstListenerAdd: function onFirstListenerAdd() {\n          if (!listener) {\n            listener = event(function (e) {\n              return emitter.fire(e);\n            });\n          }\n        },\n        onFirstListenerDidAdd: function onFirstListenerDidAdd() {\n          if (buffer) {\n            if (nextTick) {\n              setTimeout(flush, 0);\n            } else {\n              flush();\n            }\n          }\n        },\n        onLastListenerRemove: function onLastListenerRemove() {\n          if (listener) {\n            listener.dispose();\n          }\n\n          listener = null;\n        }\n      });\n      return emitter.event;\n    }\n\n    Event.buffer = buffer;\n\n    var ChainableEvent =\n    /*#__PURE__*/\n    function () {\n      function ChainableEvent(event) {\n        _classCallCheck(this, ChainableEvent);\n\n        this.event = event;\n      }\n\n      _createClass(ChainableEvent, [{\n        key: \"map\",\n        value: function map(fn) {\n          return new ChainableEvent(_map(this.event, fn));\n        }\n      }, {\n        key: \"forEach\",\n        value: function forEach(fn) {\n          return new ChainableEvent(_forEach(this.event, fn));\n        }\n      }, {\n        key: \"filter\",\n        value: function filter(fn) {\n          return new ChainableEvent(_filter(this.event, fn));\n        }\n      }, {\n        key: \"reduce\",\n        value: function reduce(merge, initial) {\n          return new ChainableEvent(_reduce(this.event, merge, initial));\n        }\n      }, {\n        key: \"latch\",\n        value: function latch() {\n          return new ChainableEvent(_latch(this.event));\n        }\n      }, {\n        key: \"on\",\n        value: function on(listener, thisArgs, disposables) {\n          return this.event(listener, thisArgs, disposables);\n        }\n      }, {\n        key: \"once\",\n        value: function once(listener, thisArgs, disposables) {\n          return _once(this.event)(listener, thisArgs, disposables);\n        }\n      }]);\n\n      return ChainableEvent;\n    }();\n\n    function chain(event) {\n      return new ChainableEvent(event);\n    }\n\n    Event.chain = chain;\n\n    function fromNodeEventEmitter(emitter, eventName) {\n      var map = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function (id) {\n        return id;\n      };\n\n      var fn = function fn() {\n        return result.fire(map.apply(void 0, arguments));\n      };\n\n      var onFirstListenerAdd = function onFirstListenerAdd() {\n        return emitter.on(eventName, fn);\n      };\n\n      var onLastListenerRemove = function onLastListenerRemove() {\n        return emitter.removeListener(eventName, fn);\n      };\n\n      var result = new Emitter({\n        onFirstListenerAdd: onFirstListenerAdd,\n        onLastListenerRemove: onLastListenerRemove\n      });\n      return result.event;\n    }\n\n    Event.fromNodeEventEmitter = fromNodeEventEmitter;\n\n    function fromPromise(promise) {\n      var emitter = new Emitter();\n      var shouldEmit = false;\n      promise.then(undefined, function () {\n        return null;\n      }).then(function () {\n        if (!shouldEmit) {\n          setTimeout(function () {\n            return emitter.fire(undefined);\n          }, 0);\n        } else {\n          emitter.fire(undefined);\n        }\n      });\n      shouldEmit = true;\n      return emitter.event;\n    }\n\n    Event.fromPromise = fromPromise;\n\n    function toPromise(event) {\n      return new Promise(function (c) {\n        return _once(event)(c);\n      });\n    }\n\n    Event.toPromise = toPromise;\n  })(Event || (Event = {}));\n\n  var _globalLeakWarningThreshold = -1;\n\n  var LeakageMonitor =\n  /*#__PURE__*/\n  function () {\n    function LeakageMonitor(customThreshold) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Math.random().toString(18).slice(2, 5);\n\n      _classCallCheck(this, LeakageMonitor);\n\n      this.customThreshold = customThreshold;\n      this.name = name;\n      this._warnCountdown = 0;\n    }\n\n    _createClass(LeakageMonitor, [{\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._stacks) {\n          this._stacks.clear();\n        }\n      }\n    }, {\n      key: \"check\",\n      value: function check(listenerCount) {\n        var _this4 = this;\n\n        var threshold = _globalLeakWarningThreshold;\n\n        if (typeof this.customThreshold === 'number') {\n          threshold = this.customThreshold;\n        }\n\n        if (threshold <= 0 || listenerCount < threshold) {\n          return undefined;\n        }\n\n        if (!this._stacks) {\n          this._stacks = new Map();\n        }\n\n        var stack = new Error().stack.split('\\n').slice(3).join('\\n');\n        var count = this._stacks.get(stack) || 0;\n\n        this._stacks.set(stack, count + 1);\n\n        this._warnCountdown -= 1;\n\n        if (this._warnCountdown <= 0) {\n          // only warn on first exceed and then every time the limit\n          // is exceeded by 50% again\n          this._warnCountdown = threshold * 0.5; // find most frequent listener and print warning\n\n          var topStack;\n          var topCount = 0;\n\n          this._stacks.forEach(function (count, stack) {\n            if (!topStack || topCount < count) {\n              topStack = stack;\n              topCount = count;\n            }\n          });\n\n          console.warn(\"[\".concat(this.name, \"] potential listener LEAK detected, having \").concat(listenerCount, \" listeners already. MOST frequent listener (\").concat(topCount, \"):\"));\n          console.warn(topStack);\n        }\n\n        return function () {\n          var count = _this4._stacks.get(stack) || 0;\n\n          _this4._stacks.set(stack, count - 1);\n        };\n      }\n    }]);\n\n    return LeakageMonitor;\n  }();\n  /**\r\n   * The Emitter can be used to expose an Event to the public\r\n   * to fire it from the insides.\r\n   * Sample:\r\n      class Document {\r\n          private _onDidChange = new Emitter<(value:string)=>any>();\r\n          public onDidChange = this._onDidChange.event;\r\n          // getter-style\r\n          // get onDidChange(): Event<(value:string)=>any> {\r\n          // \treturn this._onDidChange.event;\r\n          // }\r\n          private _doIt() {\r\n              //...\r\n              this._onDidChange.fire(value);\r\n          }\r\n      }\r\n   */\n\n\n  var Emitter =\n  /*#__PURE__*/\n  function () {\n    function Emitter(options) {\n      _classCallCheck(this, Emitter);\n\n      this._disposed = false;\n      this._options = options;\n      this._leakageMon = _globalLeakWarningThreshold > 0 ? new LeakageMonitor(this._options && this._options.leakWarningThreshold) : undefined;\n    }\n    /**\r\n     * For the public to allow to subscribe\r\n     * to events from this Emitter\r\n     */\n\n\n    _createClass(Emitter, [{\n      key: \"fire\",\n\n      /**\r\n       * To be kept private to fire an event to\r\n       * subscribers\r\n       */\n      value: function fire(event) {\n        if (this._listeners) {\n          // put all [listener,event]-pairs into delivery queue\n          // then emit all event. an inner/nested event might be\n          // the driver of this\n          if (!this._deliveryQueue) {\n            this._deliveryQueue = new LinkedList();\n          }\n\n          for (var iter = this._listeners.iterator(), e = iter.next(); !e.done; e = iter.next()) {\n            this._deliveryQueue.push([e.value, event]);\n          }\n\n          while (this._deliveryQueue.size > 0) {\n            var _this$_deliveryQueue$ = this._deliveryQueue.shift(),\n                _this$_deliveryQueue$2 = _slicedToArray(_this$_deliveryQueue$, 2),\n                listener = _this$_deliveryQueue$2[0],\n                _event = _this$_deliveryQueue$2[1];\n\n            try {\n              if (typeof listener === 'function') {\n                listener.call(undefined, _event);\n              } else {\n                listener[0].call(listener[1], _event);\n              }\n            } catch (e) {\n              onUnexpectedError(e);\n            }\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._listeners) {\n          this._listeners.clear();\n        }\n\n        if (this._deliveryQueue) {\n          this._deliveryQueue.clear();\n        }\n\n        if (this._leakageMon) {\n          this._leakageMon.dispose();\n        }\n\n        this._disposed = true;\n      }\n    }, {\n      key: \"event\",\n      get: function get() {\n        var _this5 = this;\n\n        if (!this._event) {\n          this._event = function (listener, thisArgs, disposables) {\n            if (!_this5._listeners) {\n              _this5._listeners = new LinkedList();\n            }\n\n            var firstListener = _this5._listeners.isEmpty();\n\n            if (firstListener && _this5._options && _this5._options.onFirstListenerAdd) {\n              _this5._options.onFirstListenerAdd(_this5);\n            }\n\n            var remove = _this5._listeners.push(!thisArgs ? listener : [listener, thisArgs]);\n\n            if (firstListener && _this5._options && _this5._options.onFirstListenerDidAdd) {\n              _this5._options.onFirstListenerDidAdd(_this5);\n            }\n\n            if (_this5._options && _this5._options.onListenerDidAdd) {\n              _this5._options.onListenerDidAdd(_this5, listener, thisArgs);\n            } // check and record this emitter for potential leakage\n\n\n            var removeMonitor;\n\n            if (_this5._leakageMon) {\n              removeMonitor = _this5._leakageMon.check(_this5._listeners.size);\n            }\n\n            var result;\n            result = {\n              dispose: function dispose() {\n                if (removeMonitor) {\n                  removeMonitor();\n                }\n\n                result.dispose = Emitter._noop;\n\n                if (!_this5._disposed) {\n                  remove();\n\n                  if (_this5._options && _this5._options.onLastListenerRemove) {\n                    var hasListeners = _this5._listeners && !_this5._listeners.isEmpty();\n\n                    if (!hasListeners) {\n                      _this5._options.onLastListenerRemove(_this5);\n                    }\n                  }\n                }\n              }\n            };\n\n            if (Array.isArray(disposables)) {\n              disposables.push(result);\n            }\n\n            return result;\n          };\n        }\n\n        return this._event;\n      }\n    }]);\n\n    return Emitter;\n  }();\n\n  Emitter._noop = function () {};\n  /*---------------------------------------------------------------------------------------------\r\n   *  Copyright (c) Microsoft Corporation. All rights reserved.\r\n   *  Licensed under the MIT License. See License.txt in the project root for license information.\r\n   *--------------------------------------------------------------------------------------------*/\n\n\n  var shortcutEvent = Object.freeze(function (callback, context) {\n    var handle = setTimeout(callback.bind(context), 0);\n    return {\n      dispose: function dispose() {\n        clearTimeout(handle);\n      }\n    };\n  });\n  var CancellationToken;\n\n  (function (CancellationToken) {\n    function isCancellationToken(thing) {\n      if (thing === CancellationToken.None || thing === CancellationToken.Cancelled) {\n        return true;\n      }\n\n      if (thing instanceof MutableToken) {\n        return true;\n      }\n\n      if (!thing || typeof thing !== 'object') {\n        return false;\n      }\n\n      return typeof thing.isCancellationRequested === 'boolean' && typeof thing.onCancellationRequested === 'function';\n    }\n\n    CancellationToken.isCancellationToken = isCancellationToken;\n    CancellationToken.None = Object.freeze({\n      isCancellationRequested: false,\n      onCancellationRequested: Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n      isCancellationRequested: true,\n      onCancellationRequested: shortcutEvent\n    });\n  })(CancellationToken || (CancellationToken = {}));\n\n  var MutableToken =\n  /*#__PURE__*/\n  function () {\n    function MutableToken() {\n      _classCallCheck(this, MutableToken);\n\n      this._isCancelled = false;\n      this._emitter = null;\n    }\n\n    _createClass(MutableToken, [{\n      key: \"cancel\",\n      value: function cancel() {\n        if (!this._isCancelled) {\n          this._isCancelled = true;\n\n          if (this._emitter) {\n            this._emitter.fire(undefined);\n\n            this.dispose();\n          }\n        }\n      }\n    }, {\n      key: \"dispose\",\n      value: function dispose() {\n        if (this._emitter) {\n          this._emitter.dispose();\n\n          this._emitter = null;\n        }\n      }\n    }, {\n      key: \"isCancellationRequested\",\n      get: function get() {\n        return this._isCancelled;\n      }\n    }, {\n      key: \"onCancellationRequested\",\n      get: function get() {\n        if (this._isCancelled) {\n          return shortcutEvent;\n        }\n\n        if (!this._emitter) {\n          this._emitter = new Emitter();\n        }\n\n        return this._emitter.event;\n      }\n    }]);\n\n    return MutableToken;\n  }();\n\n  (function () {\n    if (typeof requestIdleCallback !== 'function' || typeof cancelIdleCallback !== 'function') {\n      var dummyIdle = Object.freeze({\n        didTimeout: true,\n        timeRemaining: function timeRemaining() {\n          return 15;\n        }\n      });\n    }\n  })();\n\n  var ResolvedEntryKind;\n\n  (function (ResolvedEntryKind) {\n    ResolvedEntryKind[\"Directory\"] = \"directory\";\n    ResolvedEntryKind[\"File\"] = \"file\";\n  })(ResolvedEntryKind || (ResolvedEntryKind = {}));\n\n  var AbstractResolverHost =\n  /*#__PURE__*/\n  function () {\n    function AbstractResolverHost() {\n      _classCallCheck(this, AbstractResolverHost);\n    }\n\n    _createClass(AbstractResolverHost, [{\n      key: \"getCanonicalUrl\",\n      value: function getCanonicalUrl(_resolver, url) {\n        return Promise.resolve(url);\n      }\n    }]);\n\n    return AbstractResolverHost;\n  }();\n\n  var ResolverHostCompound =\n  /*#__PURE__*/\n  function (_AbstractResolverHost) {\n    _inherits(ResolverHostCompound, _AbstractResolverHost);\n\n    function ResolverHostCompound(hosts) {\n      var _this6;\n\n      _classCallCheck(this, ResolverHostCompound);\n\n      _this6 = _possibleConstructorReturn(this, _getPrototypeOf(ResolverHostCompound).call(this));\n      _this6.hosts = new Map();\n\n      for (var prefix in hosts) {\n        _this6.hosts.set(prefix, hosts[prefix]);\n      }\n\n      return _this6;\n    }\n\n    _createClass(ResolverHostCompound, [{\n      key: \"getCanonicalUrl\",\n      value: function getCanonicalUrl(resolver, url) {\n        var href = url.href; // TODO: Decide whether a more efficient solution is needed\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = this.hosts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _ref3 = _step.value;\n\n            var _ref2 = _slicedToArray(_ref3, 2);\n\n            var prefix = _ref2[0];\n            var child = _ref2[1];\n\n            if (href.startsWith(prefix)) {\n              if (typeof child.getCanonicalUrl === 'function') {\n                // console.error(`getCanonicalUrl(%s): %s`, url.href, prefix);\n                return child.getCanonicalUrl(resolver, url);\n              }\n\n              break;\n            }\n          } // If the resolved child doesn't have this method, treat it as an identity function\n\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator.return != null) {\n              _iterator.return();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        return Promise.resolve(url);\n      }\n    }, {\n      key: \"getResolveRoot\",\n      value: function getResolveRoot(resolver, url) {\n        var href = url.href; // TODO: Decide whether a more efficient solution is needed\n\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = this.hosts[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _ref6 = _step2.value;\n\n            var _ref5 = _slicedToArray(_ref6, 2);\n\n            var prefix = _ref5[0];\n            var child = _ref5[1];\n\n            if (href.startsWith(prefix)) {\n              // console.error(`getResolveRoot(%s): %s`, url.href, prefix);\n              return child.getResolveRoot(resolver, url);\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return != null) {\n              _iterator2.return();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        return Promise.reject(new Error(\"No suitable host found for url \".concat(href)));\n      }\n    }, {\n      key: \"listEntries\",\n      value: function listEntries(resolver, url) {\n        var href = url.href; // TODO: Decide whether a more efficient solution is needed\n\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = this.hosts[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var _ref9 = _step3.value;\n\n            var _ref8 = _slicedToArray(_ref9, 2);\n\n            var prefix = _ref8[0];\n            var child = _ref8[1];\n\n            if (href.startsWith(prefix)) {\n              // console.error(`listEntries(%s): %s`, url.href, prefix);\n              return child.listEntries(resolver, url);\n            }\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return != null) {\n              _iterator3.return();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n\n        return Promise.reject(new Error(\"No suitable host found for url \".concat(href)));\n      }\n    }, {\n      key: \"readFileContent\",\n      value: function readFileContent(resolver, url) {\n        var href = url.href; // TODO: Decide whether a more efficient solution is needed\n\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = this.hosts[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var _ref12 = _step4.value;\n\n            var _ref11 = _slicedToArray(_ref12, 2);\n\n            var prefix = _ref11[0];\n            var child = _ref11[1];\n\n            if (href.startsWith(prefix)) {\n              // console.error(`readFileContent(%s): %s`, url.href, prefix);\n              return child.readFileContent(resolver, url);\n            }\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return != null) {\n              _iterator4.return();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n\n        return Promise.reject(new Error(\"No suitable host found for url \".concat(href)));\n      }\n    }]);\n\n    return ResolverHostCompound;\n  }(AbstractResolverHost);\n\n  exports.ResolverHostCompound = ResolverHostCompound;\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n});","import { util, Resolver, PackageJson, ResolvedEntryKind, ResolverHost } from '@velcro/resolver';\n\nimport { Emitter, Event } from 'ts-primitives';\nimport { BareModuleSpec } from '@velcro/resolver-host-unpkg';\n\nconst HAS_D_TS_EXTENSION = /\\.d\\.ts$/;\n\nenum PackageEntryKind {\n  Directory = 'directory',\n  File = 'file',\n}\n\ninterface PackageDirectoryEntry {\n  type: PackageEntryKind.Directory;\n  path: string;\n  files: PackageEntry[];\n}\n\ninterface PackageFileEntry {\n  type: PackageEntryKind.File;\n  path: string;\n}\n\ninterface TypingsFiles {\n  [fileName: string]: string;\n}\n\ntype PackageEntry = PackageDirectoryEntry | PackageFileEntry;\n\nfunction getTypingsModuleSpec(pkgJson: { name: string; version?: string }): { name: string; range: string } {\n  const typingsName = pkgJson.name.charAt(0) === '@' ? pkgJson.name.slice(1).replace('/', '__') : pkgJson.name;\n\n  let typingsRange = '*';\n\n  if (pkgJson.version) {\n    const major = pkgJson.version.split('.')[0];\n    typingsRange = `${major}.x`;\n  }\n\n  return {\n    name: `@types/${typingsName}`,\n    range: typingsRange,\n  };\n}\n\ninterface TypeFile {\n  pathname: string;\n  content: string;\n}\n\nexport class TypeAcquirer {\n  private _onTypeFile = new Emitter<TypeFile>();\n\n  constructor(\n    private readonly resolver: Resolver,\n    private readonly resolveBareModule: (resolver: ResolverHost, spec: BareModuleSpec) => URL\n  ) {}\n\n  private _importAdjacentTypings(\n    typingsFiles: TypingsFiles,\n    pkgJson: PackageJson,\n    parentPath: string\n  ): Promise<boolean> {\n    // console.log('_importAdjacentTypings', pkgJson.name, pkgJson.version, parentPath);\n    const moduleRoot = util.join(parentPath, `node_modules/${pkgJson.name}/`);\n\n    if (!pkgJson.name) {\n      return Promise.resolve(false);\n    }\n\n    return this._listFiles(pkgJson.name, pkgJson.version).then(files => {\n      let imported = false;\n      const promises: Promise<void>[] = [];\n      const normalizedMain = util.resolve('/', pkgJson.main || 'index.js');\n\n      for (const pathname in files) {\n        if (!(normalizedMain === pathname || HAS_D_TS_EXTENSION.test(pathname))) {\n          continue;\n        }\n\n        promises.push(\n          this.resolver.host\n            .readFileContent(\n              this.resolver,\n              this.resolveBareModule(this.resolver.host, {\n                name: pkgJson.name!,\n                nameSpec: `${pkgJson.name}@${pkgJson.version}`,\n                pathname,\n                spec: pkgJson.version!,\n              })\n            )\n            .then(\n              // eslint-disable-next-line no-loop-func\n              buf => {\n                const contents = this.resolver.decoder.decode(buf);\n                const filePath = util.join(moduleRoot, pathname);\n                typingsFiles[filePath] = contents;\n\n                this._onTypeFile.fire({\n                  pathname: filePath,\n                  content: contents,\n                });\n\n                if (normalizedMain !== pathname) {\n                  imported = true;\n                }\n              },\n              e => {\n                console.warn(e);\n              }\n            )\n        );\n      }\n\n      if (!promises.length) {\n        return imported;\n      }\n\n      return Promise.all(promises).then(() => imported);\n    });\n  }\n\n  // private async _importEmbeddedTypings(\n  //   typingsFiles: TypingsFiles,\n  //   pkgJson: PackageJsonWithTypings,\n  //   parentPath: string\n  // ) {\n  //   let filesPromise: Promise<{ [fileName: string]: PackageFileEntry }> | undefined;\n  //   const readFiles = () => {\n  //     if (!filesPromise) {\n  //       filesPromise = this._listFiles(pkgJson.name, pkgJson.version);\n  //     }\n  //     return filesPromise;\n  //   };\n  //   const visitTypingsFile = async (fileName: string) => {\n  //     if (seen.has(fileName)) return;\n  //     seen.add(fileName);\n  //     console.log('visiting', fileName);\n  //     // Load the contents and add it to the known models\n  //     const sourceText = await this._readUnpkgFile(pkgJson.name, pkgJson.version, pkgJson.typings);\n  //     console.log('addExtraLib', sourceText, fileName);\n  //     typingsFiles[join(parentPath, fileName)] = sourceText;\n  //     const sourceFile = typescript.createSourceFile(fileName, sourceText, typescript.ScriptTarget.Latest, true);\n  //     const children: string[] = [];\n  //     typescript.forEachChild(sourceFile, child => {\n  //       if (typescript.isImportDeclaration(child) && typescript.isStringLiteral(child.moduleSpecifier)) {\n  //         children.push(child.moduleSpecifier.text);\n  //       } else if (\n  //         typescript.isExportDeclaration(child) &&\n  //         child.moduleSpecifier &&\n  //         child.moduleSpecifier &&\n  //         typescript.isStringLiteral(child.moduleSpecifier)\n  //       ) {\n  //         children.push(child.moduleSpecifier.text);\n  //       }\n  //     });\n  //     // We will figure out dependencies outside this module by building the optimized npm\n  //     // dependency tree\n  //     const relativeChildren = children.filter(ref => ref.charAt(0) === '.');\n  //     if (relativeChildren.length) {\n  //       const currentDir = dirname(fileName);\n  //       const files = await readFiles();\n  //       await Promise.all(\n  //         relativeChildren.map(ref => {\n  //           const childPathReference = resolve(currentDir, ref);\n  //           const childPath = resolveImportPath(files, childPathReference);\n  //           if (childPath) {\n  //             return visitTypingsFile(childPath);\n  //           }\n  //         })\n  //       );\n  //     }\n  //   };\n  //   const seen = new Set<string>();\n  //   const typescript = await import('typescript');\n  //   await visitTypingsFile(pkgJson.typings);\n  // }\n\n  private async _importTypingsFromDefinitelyTyped(\n    files: TypingsFiles,\n    pkgJson: PackageJson,\n    parentPath: string\n  ): Promise<void> {\n    // console.log('_importTypingsFromDefinitelyTyped', pkgJson.name, pkgJson.version, parentPath);\n    if (!pkgJson.name) {\n      return undefined;\n    }\n\n    const typingsModuleSpec = getTypingsModuleSpec({ name: pkgJson.name, version: pkgJson.version });\n\n    try {\n      const pkgJson = await this._import(files, typingsModuleSpec.name, typingsModuleSpec.range, parentPath);\n\n      if (pkgJson.dependencies) {\n        for (const name in pkgJson.dependencies) {\n          await this._import(files, name, pkgJson.dependencies[name], parentPath);\n        }\n      }\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  private async _listFiles(\n    name: string,\n    version: string = 'latest'\n  ): Promise<{ [pathname: string]: PackageFileEntry }> {\n    const unresolvedUrl = await this.resolver.host.getCanonicalUrl(\n      this.resolver,\n      this.resolveBareModule(this.resolver.host, {\n        name,\n        spec: version,\n        nameSpec: `${name}@${version}`,\n        pathname: '/',\n      })\n    );\n    const resolvedUrl = await this.resolver.host.getCanonicalUrl(this.resolver, unresolvedUrl);\n    const entries: { [pathname: string]: PackageFileEntry } = {};\n    const queue = [resolvedUrl];\n\n    while (queue.length) {\n      const next = queue.shift()!;\n      const entriesAtPath = await this.resolver.host.listEntries(this.resolver, next);\n\n      for (const entry of entriesAtPath) {\n        if (entry.type === ResolvedEntryKind.Directory) {\n          queue.push(entry.url);\n        } else {\n          const path = entry.url.href.slice(resolvedUrl.href.length - 1);\n          entries[path] = { type: PackageEntryKind.File, path };\n        }\n      }\n    }\n\n    return entries;\n  }\n\n  private async _import(\n    files: TypingsFiles,\n    name: string,\n    range: string,\n    parentPath: string = ''\n  ): Promise<PackageJson> {\n    // console.log('_import', name, range, parentPath);\n\n    const pkgJsonPathname = util.join(parentPath, 'node_modules', name, 'package.json');\n    const bareModuleUrl = this.resolveBareModule(this.resolver.host, {\n      name,\n      spec: range,\n      nameSpec: `${name}@${range}`,\n      pathname: '/package.json',\n    });\n    const resolvedPkgJson = await this.resolver.readParentPackageJson(bareModuleUrl);\n\n    if (!resolvedPkgJson) {\n      throw new Error(`Unable to load package.json for ${name}@${range}`);\n    }\n\n    const pkgJsonText = JSON.stringify(resolvedPkgJson.packageJson);\n    const resolvedName = resolvedPkgJson.packageJson.name || name;\n\n    files[pkgJsonPathname] = pkgJsonText;\n\n    this._onTypeFile.fire({\n      pathname: pkgJsonPathname,\n      content: pkgJsonText,\n    });\n\n    // if (isPackageJsonWithTypings(pkgJson)) {\n    //   await this._importEmbeddedTypings(files, pkgJson, parentPath);\n    // } else {\n    try {\n      const hasAdjacentTypings = await this._importAdjacentTypings(files, resolvedPkgJson.packageJson!, parentPath);\n\n      // console.log('hasAdjacentTypings', hasAdjacentTypings);\n\n      if (!hasAdjacentTypings && resolvedName.indexOf('@types/') !== 0) {\n        await this._importTypingsFromDefinitelyTyped(files, resolvedPkgJson.packageJson, parentPath);\n      }\n    } catch (err) {\n      console.error('error', err);\n    }\n    // }\n\n    return resolvedPkgJson.packageJson;\n  }\n\n  get onTypeFile(): Event<TypeFile> {\n    return this._onTypeFile.event;\n  }\n\n  async importTypesForSpec(name: string, range: string = 'latest', parentPath: string = ''): Promise<TypingsFiles> {\n    const files: TypingsFiles = {};\n\n    try {\n      await this._import(files, name, range, parentPath);\n    } catch (err) {\n      console.warn(err, `Type acquisition failed for ${name}@${range}`);\n    }\n\n    return files;\n  }\n\n  async importTypesForSpecs(specs: { [name: string]: string }, parentPath: string = ''): Promise<TypingsFiles> {\n    const promises = Object.keys(specs).map(name => this.importTypesForSpec(name, specs[name], parentPath));\n    const importResults = promises.length ? await Promise.all(promises) : [];\n\n    return importResults.reduce((files, result) => ({ ...files, ...result }), {} as TypingsFiles);\n  }\n}\n","export interface Diagnostic {\n  message: string;\n  start?: { lineNumber: number; column: number };\n  end?: { lineNumber: number; column: number };\n  href?: string;\n}\n\nexport class ExtendableError extends Error {\n  constructor(message?: string) {\n    super(message);\n\n    this.name = this.constructor.name;\n  }\n}\n\nexport class InvariantError extends ExtendableError {}\n\nexport class TimeoutError extends ExtendableError {}\n\nexport class TranspileError extends ExtendableError {\n  constructor(message: string, readonly diagnostics: Diagnostic[]) {\n    super(message);\n  }\n}\n","import { Resolver, ResolvedEntryKind, AbstractResolverHost, ResolvedEntry } from '@velcro/resolver';\nimport * as Monaco from 'monaco-editor';\nimport { timeout } from 'ts-primitives';\n\nimport { InvariantError, TimeoutError, TranspileError, Diagnostic } from './error';\n\nconst LANGUAGE_TYPESCRIPT = 'typescript';\nconst MAX_TRANSPILE_ATTEMPTS = 3;\nconst TRANSPILE_TIMEOUT = 500;\n\ntype Model = Monaco.editor.ITextModel;\n\nexport class ResolverHostMonaco extends AbstractResolverHost {\n  constructor(private readonly rootUri: Monaco.Uri = Monaco.Uri.file('/')) {\n    super();\n  }\n\n  get rootHref() {\n    return this.rootUri.toString(true);\n  }\n\n  async getResolveRoot() {\n    return new URL(this.rootUri.toString(true));\n  }\n\n  async listEntries(_resolver: Resolver, url: URL) {\n    const href = url.href.replace(/\\/?$/, '/');\n    const rootHref = this.rootUri.toString(true);\n\n    if (!href.startsWith(rootHref)) {\n      return [];\n    }\n\n    return Monaco.editor.getModels().reduce(\n      (entries, model) => {\n        const modelHref = model.uri.toString(true);\n        const seenDirs = new Set<string>();\n\n        if (modelHref.startsWith(href)) {\n          const nestedPath = modelHref.slice(href.length);\n          const nextDirIdx = nestedPath.indexOf('/');\n\n          if (nextDirIdx === 0) {\n            throw new Error('Invariant error: WAT?');\n          }\n\n          if (nextDirIdx > 0) {\n            // This is an intermediate directory\n            const url = new URL(nestedPath.slice(0, nextDirIdx + 1), href);\n\n            if (!seenDirs.has(url.href)) {\n              entries.push({\n                type: ResolvedEntryKind.Directory,\n                url,\n              });\n            }\n          } else {\n            entries.push({\n              type: ResolvedEntryKind.File,\n              url: new URL(modelHref),\n            });\n          }\n        }\n\n        return entries;\n      },\n      [] as ResolvedEntry[]\n    );\n  }\n\n  async readFileContent(_resolver: Resolver, url: URL) {\n    const href = url.href;\n\n    if (!href.startsWith(this.rootHref)) {\n      throw new InvariantError(\n        `Attempting to read file content for a model at '${href}' outside of this host's root '${this.rootHref}'`\n      );\n    }\n\n    const pathname = href.slice(this.rootHref.length);\n    const model = Monaco.editor.getModel(Monaco.Uri.file(pathname));\n\n    if (!model) {\n      throw new InvariantError(`Attempting to read file content for a model that doesn't exist at '${href}'`);\n    }\n\n    const encoder = new TextEncoder();\n    const output = await this.getTranspiledValue(model);\n\n    return encoder.encode(output);\n  }\n\n  private async getTranspiledValue(model: Monaco.editor.ITextModel) {\n    if (model.getModeId() === LANGUAGE_TYPESCRIPT) {\n      const href = model.uri.toString(true);\n      const tryLoadFromWorker = async () => {\n        const workerFactory = await Monaco.languages.typescript.getTypeScriptWorker();\n        const workerClient = await workerFactory(model.uri);\n        const [emitOutput, syntacticDiagnostics] = (await Promise.all([\n          workerClient.getEmitOutput(href),\n          workerClient.getSyntacticDiagnostics(href),\n        ])) as [import('typescript').EmitOutput, import('typescript').Diagnostic[]];\n\n        if (emitOutput.emitSkipped) {\n          throw new InvariantError(`Emit skipped when trying to read '${model.uri.fsPath}'`);\n        }\n\n        if (syntacticDiagnostics.length) {\n          const diagnostics: Diagnostic[] = syntacticDiagnostics.map(diagnostic => {\n            const startPosition =\n              typeof diagnostic.start === 'number' ? model.getPositionAt(diagnostic.start) : undefined;\n            const endPosition =\n              typeof diagnostic.start === 'number' && typeof diagnostic.length === 'number'\n                ? model.getPositionAt(diagnostic.start + diagnostic.length)\n                : undefined;\n\n            return {\n              message: flattenDiagnosticMessageText(diagnostic.messageText),\n              start: startPosition ? { lineNumber: startPosition.lineNumber, column: startPosition.column } : undefined,\n              end: endPosition ? { lineNumber: endPosition.lineNumber, column: endPosition.column } : undefined,\n              href: diagnostic.source,\n            };\n          });\n          throw new TranspileError(`${syntacticDiagnostics[0].messageText} at ${model.uri.fsPath}`, diagnostics);\n        }\n\n        return emitOutput.outputFiles[0].text;\n      };\n\n      let attempt = 0;\n\n      while (attempt++ < MAX_TRANSPILE_ATTEMPTS) {\n        try {\n          const code = await raceTimeout(tryLoadFromWorker(), TRANSPILE_TIMEOUT);\n\n          return code;\n        } catch (err) {\n          if (err instanceof TimeoutError) {\n            continue;\n          }\n\n          throw err;\n        }\n      }\n    }\n\n    return model.getValue();\n  }\n}\n\nexport function flattenDiagnosticMessageText(\n  diag: string | import('typescript').DiagnosticMessageChain | undefined,\n  newLine: string = '\\n',\n  indent = 0\n): string {\n  if (typeof diag === 'string') {\n    return diag;\n  } else if (diag === undefined) {\n    return '';\n  }\n  let result = '';\n  if (indent) {\n    result += newLine;\n\n    for (let i = 0; i < indent; i++) {\n      result += '  ';\n    }\n  }\n  result += diag.messageText;\n  indent++;\n  if (diag.next) {\n    for (const kid of diag.next) {\n      result += flattenDiagnosticMessageText(kid, newLine, indent);\n    }\n  }\n  return result;\n}\n\nfunction raceTimeout<T>(promise: Promise<T>, timeoutMs: number): Promise<T> {\n  return Promise.race([\n    promise,\n    timeout(timeoutMs).then(() => {\n      throw new TimeoutError();\n    }),\n  ]);\n}\n","import { Bundler } from '@velcro/bundler';\nimport { Resolver, AbstractResolverHost, ResolverHost } from '@velcro/resolver';\nimport { openDB } from 'idb';\n\nexport class ResolverHostWithCache extends AbstractResolverHost {\n  private readonly idbPromise = openDB('velcro', Bundler.schemaVersion, {\n    async upgrade(db, oldVersion, newVersion, transaction) {\n      console.log('Upgrading cache from version %s to %s', oldVersion, newVersion);\n\n      if (!oldVersion) {\n        db.createObjectStore('getCanonicalUrl');\n        db.createObjectStore('getResolveRoot');\n        db.createObjectStore('listEntries');\n        db.createObjectStore('readFileContent');\n      }\n\n      await transaction.objectStore('getCanonicalUrl').clear();\n      await transaction.objectStore('getResolveRoot').clear();\n      await transaction.objectStore('listEntries').clear();\n      await transaction.objectStore('readFileContent').clear();\n    },\n  }).catch(err => {\n    console.error(err, 'error opening IndexedDB');\n\n    return null;\n  });\n\n  private readonly inflightGetCanonicalUrl = new Map<string, ReturnType<ResolverHost['getCanonicalUrl']>>();\n  private readonly inflightGetResolveRoot = new Map<string, ReturnType<ResolverHost['getResolveRoot']>>();\n  private readonly inflightListEntries = new Map<string, ReturnType<ResolverHost['listEntries']>>();\n  private readonly inflightReadFileContent = new Map<string, ReturnType<ResolverHost['readFileContent']>>();\n\n  constructor(readonly host: ResolverHost) {\n    super();\n  }\n\n  private async withCache<T, C = unknown>(\n    href: string,\n    loadFn: () => Promise<T>,\n    inflightMap: Map<string, Promise<T>>,\n    storeName: string,\n    serialize?: (result: T) => C,\n    deserialize?: (cached: C) => T\n  ): Promise<T> {\n    let idb = undefined;\n\n    try {\n      idb = await withTimeout(1000, this.idbPromise, `this.idbPromise`);\n    } catch (err) {\n      // Error already logged\n    }\n\n    if (idb) {\n      try {\n        const cached = await withTimeout(1000, idb.get(storeName, href), `idb.get(${storeName}, ${href})`);\n\n        if (cached) {\n          return deserialize ? deserialize(cached) : cached;\n        }\n      } catch (err) {\n        console.error(err, 'error reading from cache');\n      }\n    }\n\n    let inflight = inflightMap.get(href);\n\n    if (!inflight) {\n      inflight = loadFn();\n      inflightMap.set(href, inflight);\n\n      // Make sure we don't get an uncaught rejection\n      inflight.catch(err => undefined);\n\n      (async () => {\n        try {\n          const result = await withTimeout(1000, inflight, `await inflight(${href})`);\n\n          if (idb) {\n            try {\n              await withTimeout(\n                1000,\n                idb.put(storeName, serialize ? serialize(result) : result, href),\n                `idb.put(${storeName}, ${href})`\n              );\n            } catch (err) {\n              console.error(err, 'error writing to cache');\n            }\n          }\n        } finally {\n          inflightMap.delete(href);\n        }\n      })();\n    }\n\n    return inflight;\n  }\n\n  async getCanonicalUrl(resolver: Resolver, url: URL) {\n    const result = await this.withCache(\n      url.href,\n      () => this.host.getCanonicalUrl(resolver, url),\n      this.inflightGetCanonicalUrl,\n      'getCanonicalUrl',\n      url => url.href,\n      href => new URL(href)\n    );\n\n    return result;\n  }\n\n  async getResolveRoot(resolver: Resolver, url: URL) {\n    const result = await this.withCache(\n      url.href,\n      () => this.host.getResolveRoot(resolver, url),\n      this.inflightGetResolveRoot,\n      'getResolveRoot',\n      url => url.href,\n      href => new URL(href)\n    );\n\n    return result;\n  }\n\n  async listEntries(resolver: Resolver, url: URL) {\n    const result = await this.withCache(\n      url.href,\n      () => this.host.listEntries(resolver, url),\n      this.inflightListEntries,\n      'listEntries',\n      entries =>\n        entries.map(entry => ({\n          type: entry.type,\n          href: entry.url.href,\n        })),\n      cached =>\n        cached.map(entry => ({\n          type: entry.type,\n          url: new URL(entry.href),\n        }))\n    );\n\n    return result;\n  }\n\n  async readFileContent(resolver: Resolver, url: URL) {\n    const result = await this.withCache(\n      url.href,\n      () => this.host.readFileContent(resolver, url),\n      this.inflightReadFileContent,\n      'readFileContent'\n    );\n\n    return result;\n  }\n}\n\nasync function withTimeout<T>(duration: number, promise: Promise<T>, message: string) {\n  const timeout = setTimeout(() => {\n    console.warn(`Timed out after ${duration}ms on: ${message}`);\n  }, duration);\n\n  try {\n    return await promise;\n  } finally {\n    clearTimeout(timeout);\n  }\n}\n","import * as Monaco from 'monaco-editor';\nimport { Emitter, IDisposable, DisposableStore, ThrottledDelayer } from 'ts-primitives';\nimport { useState, useEffect, useContext, createContext } from 'react';\nimport { TypeAcquirer } from './typeAcquisition';\nimport { Bundler } from '@velcro/bundler';\nimport { Resolver } from '@velcro/resolver';\nimport { ResolverHostCompound } from '@velcro/resolver-host-compound';\nimport { ResolverHostMonaco } from '../lib/ResolverHostMonaco';\nimport { ResolverHostUnpkg } from '@velcro/resolver-host-unpkg';\nimport { ResolverHostWithCache } from '../lib/ResolverHostWithCache';\n\nconst rootUri = Monaco.Uri.file('/');\n\nexport class EditorManager implements IDisposable {\n  readonly bundler = new Bundler({\n    resolver: new Resolver(\n      new ResolverHostCompound({\n        'https://unpkg.com/': new ResolverHostWithCache(new ResolverHostUnpkg()),\n        [rootUri.toString(true)]: new ResolverHostMonaco(rootUri),\n      }),\n      {\n        extensions: ['.js', '.jsx', '.ts', '.tsx'],\n        packageMain: ['browser', 'main'],\n      }\n    ),\n  });\n\n  editor: Monaco.editor.IStandaloneCodeEditor | null = null;\n\n  private readonly disposableStore = new DisposableStore();\n  private readonly initialPath: string | undefined;\n\n  private readonly typeAcquirer = new TypeAcquirer(this.bundler.resolver, ResolverHostUnpkg.resolveBareModule);\n  private readonly viewState = new WeakMap<Monaco.editor.ITextModel, Monaco.editor.ICodeEditorViewState>();\n\n  private readonly onWillFocusModelEmitter = new Emitter<Monaco.editor.ITextModel>();\n  private readonly onDidChangeEmitter = new Emitter<{ model: Monaco.editor.ITextModel }>();\n\n  constructor(options: { files?: Record<string, string>; initialPath?: string } = {}) {\n    this.disposableStore.add(this.onWillFocusModelEmitter);\n    this.disposableStore.add(this.onDidChangeEmitter);\n\n    Monaco.languages.typescript.typescriptDefaults.setEagerModelSync(true);\n    Monaco.languages.typescript.typescriptDefaults.setMaximumWorkerIdleTime(0);\n\n    Monaco.languages.typescript.typescriptDefaults.setCompilerOptions({\n      allowJs: true,\n      allowNonTsExtensions: true,\n      allowSyntheticDefaultImports: true,\n      baseUrl: '.',\n      checkJs: true,\n      esModuleInterop: true,\n      experimentalDecorators: true,\n      inlineSourceMap: true,\n      inlineSources: true,\n      isolatedModules: false,\n      jsx: Monaco.languages.typescript.JsxEmit.React,\n      jsxFactory: 'React.createElement',\n      lib: ['dom'],\n      module: Monaco.languages.typescript.ModuleKind.CommonJS,\n      moduleResolution: Monaco.languages.typescript.ModuleResolutionKind.NodeJs,\n      noEmit: false,\n      outDir: `dist`,\n      resolveJsonModule: true,\n      rootDir: '/',\n      sourceMap: true,\n      target: Monaco.languages.typescript.ScriptTarget.ES2015,\n      typeRoots: ['node_modules/@types'],\n    });\n\n    Monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({\n      noSemanticValidation: true,\n      noSyntaxValidation: false,\n    });\n\n    if (options.files) {\n      for (const pathname in options.files) {\n        const content = options.files[pathname];\n\n        this.createModel(pathname, content);\n      }\n    }\n\n    Monaco.editor.onDidCreateModel(model => {\n      const onDidChangePackageJson = async () => {\n        const value = model.getValue();\n\n        let dependencies = {\n          typescript: Monaco.languages.typescript.typescriptVersion,\n        };\n\n        try {\n          const pkgJson = JSON.parse(value);\n\n          if (pkgJson.dependencies) {\n            dependencies = { ...dependencies, ...pkgJson.dependencies };\n          }\n        } catch (_) {\n          // Ignore\n        }\n\n        Monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({ noSemanticValidation: true });\n        await this.typeAcquirer.importTypesForSpecs(dependencies);\n        Monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({ noSemanticValidation: false });\n      };\n\n      if (model.uri.toString(true) === `${rootUri.toString(true)}package.json`) {\n        const throttler = new ThrottledDelayer(1500);\n        throttler.trigger(onDidChangePackageJson);\n\n        this.disposableStore.add(model.onDidChangeContent(() => throttler.trigger(onDidChangePackageJson)));\n        this.disposableStore.add(throttler);\n      }\n    });\n\n    this.disposableStore.add(\n      this.typeAcquirer.onTypeFile(file => {\n        this.disposableStore.add(\n          Monaco.languages.typescript.typescriptDefaults.addExtraLib(\n            file.content,\n            Monaco.Uri.file(file.pathname).toString(true)\n          )\n        );\n      })\n    );\n\n    this.initialPath = options.initialPath;\n  }\n\n  get dispose() {\n    console.log('EditorManager::dispose()');\n    return this.disposableStore.dispose;\n  }\n\n  get onDidChange() {\n    return this.onDidChangeEmitter.event;\n  }\n\n  get onWillFocusModel() {\n    return this.onWillFocusModelEmitter.event;\n  }\n\n  createModel(pathname: string, content = '') {\n    const language = this.inferLanguage(pathname);\n\n    let uri: Monaco.Uri;\n\n    try {\n      uri = Monaco.Uri.file(pathname);\n    } catch (err) {\n      throw new Error(`Invalid path '${pathname}': ${err && err.message}`);\n    }\n\n    if (Monaco.editor.getModel(uri)) {\n      throw new Error(`Cannot create file because it exists '${pathname}'`);\n    }\n\n    return Monaco.editor.createModel(content, language, uri);\n  }\n\n  focusModel(model: Monaco.editor.ITextModel) {\n    if (this.editor) {\n      this.editor.setModel(model);\n      this.editor.focus();\n    }\n  }\n\n  focusPath(path: string) {\n    if (this.editor) {\n      const model = Monaco.editor.getModel(Monaco.Uri.file(path));\n\n      if (model) {\n        this.focusModel(model);\n      }\n    }\n  }\n\n  mount(el: HTMLElement) {\n    if (this.editor) {\n      throw new Error('Invariant violation: Editor already mounted');\n    }\n\n    this.editor = Monaco.editor.create(el, {\n      model: null,\n      automaticLayout: true,\n      showUnused: true,\n      scrollBeyondLastLine: false,\n      theme: 'vs',\n    });\n\n    this.editor.onDidDispose(() => {\n      this.editor = null;\n    });\n\n    this.editor.onDidChangeModel(e => {\n      if (e.newModelUrl && this.editor) {\n        const model = Monaco.editor.getModel(e.newModelUrl)!;\n        const viewState = this.viewState.get(model);\n\n        if (viewState) {\n          this.editor.restoreViewState(viewState);\n        }\n      }\n    });\n\n    this.editor.onDidBlurEditorText(() => {\n      if (this.editor) {\n        const model = this.editor.getModel();\n        const viewState = this.editor.saveViewState();\n\n        if (model && viewState) {\n          this.viewState.set(model, viewState);\n        }\n      }\n    });\n\n    this.disposableStore.add(this.editor);\n\n    if (this.initialPath) {\n      this.focusPath(this.initialPath);\n    }\n\n    return this.editor;\n  }\n\n  inferLanguage(pathname: string) {\n    return pathname.match(/\\.(?:tsx?|jsx?)$/) ? 'typescript' : undefined;\n  }\n}\n\nexport const EditorManagerContext = createContext(new EditorManager());\n\nexport function useActiveModel() {\n  const workbench = useContext(EditorManagerContext);\n  const [activeModel, setActiveModel] = useState<Monaco.editor.ITextModel | null>(\n    workbench.editor ? workbench.editor.getModel() : null\n  );\n\n  useEffect(() => {\n    const disposable = new DisposableStore();\n\n    const trackEditor = (editor: Monaco.editor.ICodeEditor) => {\n      editor.onDidChangeModel(e => {\n        const model = e.newModelUrl ? Monaco.editor.getModel(e.newModelUrl) : null;\n\n        setActiveModel(model);\n      });\n\n      disposable.add(\n        editor.onDidBlurEditorText(() => {\n          setActiveModel(null);\n        })\n      );\n\n      disposable.add(\n        editor.onDidFocusEditorText(() => {\n          setActiveModel(editor.getModel());\n        })\n      );\n\n      if (editor.hasTextFocus()) {\n        setActiveModel(editor.getModel());\n      }\n    };\n\n    disposable.add(Monaco.editor.onDidCreateEditor(trackEditor));\n    if (workbench.editor) {\n      trackEditor(workbench.editor);\n    }\n\n    return () => disposable.dispose();\n  }, [workbench.editor, activeModel]);\n\n  return activeModel;\n}\n","import styled from '@emotion/styled/macro';\nimport React, { useRef, useEffect, useContext } from 'react';\nimport { EditorManagerContext } from '../lib/EditorManager';\n\nconst Editor: React.FC<{\n  className?: string;\n}> = ({ className }) => {\n  const el = useRef<HTMLDivElement | null>(null);\n  const editorManager = useContext(EditorManagerContext);\n\n  useEffect(() => {\n    if (!el.current) {\n      return;\n    }\n\n    const editor = editorManager.mount(el.current);\n\n    return () => {\n      editor.dispose();\n    };\n  }, [editorManager, el]);\n\n  return (\n    <div className={className} ref={el}>\n      <div></div>\n    </div>\n  );\n};\n\nexport default styled(Editor)``;\n","import * as Monaco from 'monaco-editor';\nimport { useEffect, useState } from 'react';\nimport { DisposableStore } from 'ts-primitives';\n\n// import { EditorContext } from './context';\n\nexport enum EntryKind {\n  Directory = 'directory',\n  File = 'file',\n}\n\nexport interface IDirectory {\n  type: EntryKind.Directory;\n  uri: Monaco.Uri;\n}\nexport interface IFile {\n  type: EntryKind.File;\n  uri: Monaco.Uri;\n  model: Monaco.editor.ITextModel;\n}\n\nexport type DirectoryEntry = IDirectory | IFile;\n\nexport function useDirectory(uri: Monaco.Uri) {\n  // Make sure the URI always ends with a trailing slash\n  const prefix = uri.toString(true).replace(/\\/?$/, '/');\n  const sortEntries = (models: (DirectoryEntry)[]) => {\n    return [...models].sort((a, b) => (a.uri.fsPath > b.uri.fsPath ? 1 : -1));\n  };\n\n  const initialEntries = sortEntries(\n    Monaco.editor.getModels().reduce(\n      (entries, model) => {\n        const modelUri = model.uri.toString(true);\n\n        if (modelUri.startsWith(prefix)) {\n          const nestedPath = modelUri.slice(prefix.length);\n          const nextDirIdx = nestedPath.indexOf('/');\n\n          if (nextDirIdx === 0) {\n            throw new Error('Invariant error: WAT?');\n          }\n\n          if (nextDirIdx > 0) {\n            // This is an intermediate directory\n            const uri = Monaco.Uri.parse(`${prefix}${nestedPath.slice(0, nextDirIdx + 1)}`);\n\n            entries.push({\n              type: EntryKind.Directory,\n              uri,\n            });\n          } else {\n            entries.push({\n              type: EntryKind.File,\n              uri: model.uri,\n              model,\n            });\n          }\n        }\n\n        return entries;\n      },\n      [] as DirectoryEntry[]\n    )\n  );\n  const [entries, setEntries] = useState(initialEntries);\n\n  useEffect(() => {\n    const disposable = new DisposableStore();\n    const prefix = uri.toString(true).replace(/\\/?$/, '/');\n\n    disposable.add(\n      Monaco.editor.onDidCreateModel((model: Monaco.editor.ITextModel) => {\n        const modelUri = model.uri.toString(true);\n\n        if (modelUri.startsWith(prefix)) {\n          const nestedPath = modelUri.slice(prefix.length);\n          const nextDirIdx = nestedPath.indexOf('/');\n\n          if (nextDirIdx === 0) {\n            throw new Error('Invariant error: WAT?');\n          }\n\n          if (nextDirIdx > 0) {\n            // This is an intermediate directory\n            const uri = Monaco.Uri.parse(`${prefix}${nestedPath.slice(0, nextDirIdx)}`);\n\n            // It is possible that we already have this directory\n            const entry = entries.find(entry => entry.uri.toString(true) === uri.toString(true));\n\n            if (entry) {\n              if (entry.type !== EntryKind.Directory) {\n                throw new Error(\n                  `Invariant violation: A file in '${prefix}' conflicts with the path of the new file '${modelUri}'`\n                );\n              }\n\n              return;\n            }\n\n            entries.push({ type: EntryKind.Directory, uri });\n\n            return setEntries(sortEntries(entries));\n          }\n\n          if (\n            !entries.find(\n              entry => entry.type === EntryKind.File && entry.uri.toString(true) === model.uri.toString(true)\n            )\n          ) {\n            entries.push({ type: EntryKind.File, uri: model.uri, model });\n\n            setEntries(sortEntries(entries));\n          }\n        }\n      })\n    );\n\n    disposable.add(\n      Monaco.editor.onWillDisposeModel(model => {\n        const idx = entries.findIndex(entry => entry.type === EntryKind.File && entry.model === model);\n\n        if (idx === -1) {\n          throw new Error(`Invariant violation: Removing an untracked model: '${model.uri.fsPath}'`);\n        }\n\n        entries.splice(idx, 1);\n\n        setEntries(sortEntries(entries));\n      })\n    );\n\n    return () => disposable.dispose();\n  }, [entries, uri]);\n\n  return entries;\n}\n","import styled from '@emotion/styled/macro';\nimport * as Monaco from 'monaco-editor';\nimport React, { useEffect, useRef, useContext, useState } from 'react';\nimport { Delayer, Throttler, DisposableStore, CancellationTokenSource } from 'ts-primitives';\nimport { EditorManagerContext } from '../lib/EditorManager';\n\ninterface Message {\n  text: string;\n}\n\nconst PreviewIframeWrap = styled.div`\n  position: relative;\n  overflow: hidden;\n\n  & > iframe {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    border: none;\n  }\n`;\nconst PreviewWrap = styled.div`\n  position: relative;\n  ${PreviewIframeWrap} {\n    position: absolute;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n  }\n`;\nconst PreviewMessageError = styled.div`\n  padding: 1em 2em;\n  font-family: monospace;\n  font-size: 16px;\n  background-color: rgba(255, 0, 0, 0.5);\n  backdrop-filter: brightness(50%);\n  color: white;\n`;\nconst PreviewMessages = styled.div`\n  z-index: 1;\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  left: 0;\n  display: flex;\n  flex-direction: column-reverse;\n`;\nconst PreviewMessage: React.FC<{ message: Message }> = ({ message }) => {\n  return <PreviewMessageError>{message.text}</PreviewMessageError>;\n};\n\nconst Preview: React.FC<{ className?: string }> = props => {\n  const invalidations = useRef(new Set<string>());\n  const previewWrapRef = useRef<HTMLDivElement | null>(null);\n  const previewIframeRef = useRef<HTMLIFrameElement | null>(null);\n  const editorManager = useContext(EditorManagerContext);\n  const [messages, setMessages] = useState([] as Message[]);\n\n  useEffect(() => {\n    const disposable = new DisposableStore();\n    const delayer = new Delayer(500);\n    const throttler = new Throttler();\n\n    let tokenSource = new CancellationTokenSource();\n\n    const queueRefreshPreview = (uris: string[]) => {\n      tokenSource.cancel();\n      tokenSource.dispose();\n\n      tokenSource = new CancellationTokenSource();\n\n      for (const uri of uris) {\n        invalidations.current.add(uri);\n      }\n\n      delayer.trigger(() => throttler.queue(() => refreshPreview(tokenSource.token)));\n    };\n\n    const refreshPreview = async (token: Monaco.CancellationToken) => {\n      const toInvalidate = Array.from(invalidations.current);\n\n      setMessages([]);\n\n      invalidations.current.clear();\n\n      try {\n        await Promise.all(\n          toInvalidate.map(spec => {\n            return editorManager.bundler.invalidate(spec, { token });\n          })\n        );\n\n        const unresolvedEntrypointHref = Monaco.Uri.file('/').toString(true);\n        const resolvedEntrypoint = await editorManager.bundler.resolver.resolve(unresolvedEntrypointHref);\n\n        if (!resolvedEntrypoint.resolvedUrl) {\n          throw new Error(`Unable to determine the entrypoing to your code`);\n        }\n\n        const resolvedEntrypointHref = resolvedEntrypoint.resolvedUrl.href;\n\n        const bundle = await editorManager.bundler.generateBundleCode([resolvedEntrypointHref], {\n          sourceMap: true,\n          requireEntrypoints: true,\n          token,\n        });\n\n        const errorWatcher = new File(\n          [\n            `\nwindow.onerror = function(msg, url, lineNo, columnNo, err) {\nconst payload = { url, lineNo, columnNo, name: err.name };\nfor (const key of Object.getOwnPropertyNames(err)) {\npayload[key] = err[key];\n}\nwindow.parent.postMessage({ type: 'error', payload }, '*');\n}\n      `,\n          ],\n          'watcher.js',\n          {\n            type: 'text/javascript',\n          }\n        );\n        const bundleFile = new File([bundle], resolvedEntrypointHref, {\n          type: 'text/javascript',\n        });\n        const markup = new File(\n          [\n            `\n<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n<meta charset=\"UTF-8\">\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n<meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\">\n<title>Document</title>\n<script src=\"${URL.createObjectURL(errorWatcher)}\"></script>\n</head>\n<body>\n<div id=\"root\"></div>\n<script src=\"${URL.createObjectURL(bundleFile)}\"></script>\n</body>\n</html>`,\n          ],\n          Monaco.Uri.file('/index.html').toString(true),\n          {\n            type: 'text/html',\n          }\n        );\n        const htmlUrl = URL.createObjectURL(markup);\n        const iframe = document.createElement('iframe');\n        iframe.style.display = 'none';\n        iframe.src = htmlUrl;\n\n        if (previewWrapRef.current) {\n          previewWrapRef.current.appendChild(iframe);\n        }\n\n        try {\n          await new Promise((resolve, reject) => {\n            iframe.onload = () => resolve();\n            iframe.onerror = reject;\n          });\n\n          if (previewIframeRef.current) {\n            previewIframeRef.current.remove();\n          }\n\n          iframe.style.display = '';\n\n          previewIframeRef.current = iframe;\n        } catch (err) {\n          iframe.remove();\n\n          throw err;\n        }\n      } catch (err) {\n        setMessages(messages => [...messages, { text: err.message }]);\n      }\n    };\n\n    disposable.add(delayer);\n\n    for (const model of Monaco.editor.getModels()) {\n      disposable.add(\n        model.onDidChangeContent(() => {\n          queueRefreshPreview([model.uri.toString(true)]);\n        })\n      );\n    }\n\n    disposable.add(\n      Monaco.editor.onDidCreateModel(model => {\n        queueRefreshPreview([model.uri.toString(true)]);\n\n        disposable.add(\n          model.onDidChangeContent(() => {\n            queueRefreshPreview([model.uri.toString(true)]);\n          })\n        );\n      })\n    );\n\n    disposable.add(\n      Monaco.editor.onWillDisposeModel(model => {\n        queueRefreshPreview([model.uri.toString(true)]);\n      })\n    );\n\n    disposable.add(\n      (() => {\n        const onMessage = (e: MessageEvent) => {\n          if (e.data && e.data.type === 'error' && e.data.payload && e.data.payload.message) {\n            setMessages(messages => [...messages, { text: e.data.payload.message }]);\n          }\n        };\n\n        window.addEventListener('message', onMessage);\n        return {\n          dispose() {\n            window.removeEventListener('message', onMessage);\n          },\n        };\n      })()\n    );\n\n    queueRefreshPreview([]);\n\n    return () => disposable.dispose();\n  }, [editorManager.bundler, invalidations]);\n\n  return (\n    <PreviewWrap className={props.className}>\n      <PreviewIframeWrap ref={previewWrapRef}></PreviewIframeWrap>\n      <PreviewMessages>\n        {messages.map((message, idx) => (\n          <PreviewMessage key={idx} message={message}></PreviewMessage>\n        ))}\n      </PreviewMessages>\n    </PreviewWrap>\n  );\n};\n\nexport default styled(Preview)``;\n","import styled from '@emotion/styled/macro';\nimport * as Monaco from 'monaco-editor';\nimport React, { useContext, useRef } from 'react';\nimport { useDirectory, EntryKind } from '../lib/hooks';\nimport { useActiveModel, EditorManagerContext } from '../lib/EditorManager';\n\nconst Entry = styled.div<{ modelFocused: boolean }>`\n  background-color: ${props => (props.modelFocused ? '#008cba' : 'inherit')};\n  text-decoration: none;\n  color: ${props => (props.modelFocused ? '#fff' : '#262626')};\n\n  height: 25px;\n  padding: 0 0 0 8px;\n  display: flex;\n  align-items: center;\n\n  ${props =>\n    props.modelFocused\n      ? {\n          ':hover': {\n            color: '#f5f5f5',\n            cursor: 'pointer',\n          },\n        }\n      : {\n          ':hover': {\n            backgroundColor: '#eee',\n            color: '#262626',\n            cursor: 'pointer',\n          },\n        }}\n`;\n\nconst SidebarFile: React.FC<{ className?: string; model: Monaco.editor.ITextModel }> = ({ className, model }) => {\n  const activeModel = useActiveModel();\n  const editorManager = useContext(EditorManagerContext);\n\n  return (\n    <Entry className={className} modelFocused={model === activeModel} onClick={() => editorManager.focusModel(model)}>\n      {model.uri.fsPath.slice(1)}\n    </Entry>\n  );\n};\n\nconst Sidebar: React.FC<{ className?: string }> = props => {\n  const rootDir = useRef(Monaco.Uri.file('/'));\n  const entries = useDirectory(rootDir.current);\n\n  return (\n    <div className={props.className}>\n      {entries.map(entry =>\n        entry.type === EntryKind.Directory ? (\n          <div>{entry.uri.fsPath.slice(1)}</div>\n        ) : (\n          <SidebarFile key={entry.uri.toString(true)} model={entry.model}>\n            {entry.uri.fsPath.slice(1)}\n          </SidebarFile>\n        )\n      )}\n    </div>\n  );\n};\n\nexport default styled(Sidebar)`\n  display: flex;\n  flex-direction: column;\n`;\n","import styled from '@emotion/styled/macro';\nimport React from 'react';\n\nimport Editor from './Editor';\nimport Preview from './Preview';\nimport Sidebar from './Sidebar';\nimport { EditorManager, EditorManagerContext } from '../lib/EditorManager';\n\nconst App: React.FC<{ className?: string; initialPath: string; project: Record<string, string> }> = ({\n  className,\n  initialPath,\n  project,\n}) => {\n  const editorManager = new EditorManager({ files: project, initialPath: initialPath });\n\n  return (\n    <div className={className}>\n      <EditorManagerContext.Provider value={editorManager}>\n        <Sidebar></Sidebar>\n        <Editor></Editor>\n        <Preview></Preview>\n      </EditorManagerContext.Provider>\n    </div>\n  );\n};\n\nexport default styled(App)`\n  display: flex;\n  flex-direction: row;\n\n  font-family: Open Sans, Helvetica Neue, Helvetica, Arial, sans-serif;\n  font-size: 14px;\n  line-height: 1.4;\n  color: #222;\n\n  ${Sidebar} {\n    flex: 1 1 200px;\n    min-width: 150px;\n    max-width: 400px;\n    border-right: 1px solid #ccc;\n  }\n\n  ${Editor} {\n    border-right: 1px solid #ccc;\n  }\n\n  ${Editor}, ${Preview} {\n    flex: 10;\n  }\n`;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'modern-css-reset';\n\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport styled from '@emotion/styled';\n\nconst project = {\n  'package.json': JSON.stringify(\n    {\n      dependencies: {\n        react: '^16.9.0',\n        'react-dom': '^16.9.0',\n      },\n    },\n    null,\n    2\n  ),\n  'index.jsx': `\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { name } from './name';\n\nclass Hello extends Component {\n  render() {\n    return <div>Hello {this.props.toWhat}</div>;\n  }\n}\n\nReactDOM.render(\n  <Hello toWhat={ name } />,\n  document.getElementById('root')\n);\n    `.trim(),\n  'name.js': `\nexport const name = 'World';\n    `.trim(),\n};\n\nconst AppWrap = styled.div`\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n\n  background: #333;\n\n  ${App} {\n    flex: 0 0 80vh;\n    width: 60vw;\n    background: white;\n    box-shadow: 0 19px 38px rgba(0, 0, 0, 0.3), 0 15px 12px rgba(0, 0, 0, 0.22);\n  }\n`;\n\nReactDOM.render(\n  <AppWrap>\n    <App initialPath=\"index.jsx\" project={project} />\n  </AppWrap>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}